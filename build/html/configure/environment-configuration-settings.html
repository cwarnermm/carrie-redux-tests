<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Site configuration settings" href="site-configuration-settings.html" /><link rel="prev" title="User management configuration settings" href="user-management-configuration-settings.html" />
        <link rel="canonical" href="https://www.ethereal.cc/redux/configure/environment-configuration-settings.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Environment configuration settings - Mattermost documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/compass-icons.css?v=b28d7826" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --font-stack: Noto Sans, Helvetica Neue, Arial, sans-serif;
  --font-stack--monospace: Fira Mono, Courier New, Courier, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Mattermost  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Mattermost  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview/index.html">About Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of About Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/product.html">Mattermost overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/use-cases.html">Use cases</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Use cases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/secure-command-and-control.html">Secure command and control</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../about/unified-collaboration.html">Unified communication</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Unified communication</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-for-microsoft-teams.html">Mattermost for Microsoft Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-google-calendar-integration.html">Mattermost Google Calendar integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../about/devops-collaboration.html">DevOps collaboration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/incident-response-collaboration.html">Incident response collaboration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/security.html">Security overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/integrations.html">Integrations overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/subscription.html">Subscription overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/self-hosted-subscriptions.html">Self-hosted subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/cloud-subscriptions.html">Cloud subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/editions-and-offerings.html">Mattermost editions and plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/corporate-directory-integration.html">Corporate directory integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/certifications-and-compliance.html">Certifications and compliance overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/frequently-asked-questions.html">Frequently asked questions (FAQ)</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Frequently asked questions (FAQ)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-general.html">General Mattermost questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-community.html">Community questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-notifications.html">Notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-video-audio-screensharing.html">Video, audio, and screen sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-enterprise.html">Enterprise questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-license.html">License questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-integrations.html">Integrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-use-cases.html">Use cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-product.html">Product questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-high-trust.html">High trust questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-design-decisions.html">Design decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-business.html">Business questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-illicit-use.html">Illicit use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/deployment.html">Deploy Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Deploy Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/prepare-mattermost-database.html">Prepare your Mattermost database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-ubuntu.html">Deploy on Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-docker.html">Deploy using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-tar.html">Deploy with a tarball</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/installing-mattermost-omnibus.html">Deploy using Omnibus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-kubernetes.html">Deploy using Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-rhel-8.html">Deploy on Red Hat</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/prepare-for-your-mattermost-deployment.html">Prepare for your Mattermost deployment</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Prepare for your Mattermost deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/software-hardware-requirements.html">  Software and hardware requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/mattermost-kubernetes-operator.html">  About the Mattermost Kubernetes Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/admin-onboarding-tasks.html">  Administrator tasks</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../getting-started/architecture-overview.html">  Architecture overview</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of   Architecture overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/implementation-plan.html">  Plan your Mattermost implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/enterprise-roll-out-checklist.html">  Enterprise roll out checklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/welcome-email-to-end-users.html">  Welcome email template</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-guides.html">Deployment guides</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Deployment guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/server-deployment.html">Server deployment</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Server deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deployment-overview.html"> Deployment overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/setting-up-socket-based-mattermost-database.html"> Set up a socket-based Mattermost database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/image-proxy.html"> Image proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/backup-disaster-recovery.html"> Backup and disaster recovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/encryption-options.html"> Encryption options</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../install/transport-encryption.html"> Configure transport encryption</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of  Configure transport encryption</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../install/proxy-to-mattermost-transport-encryption.html">Configuring proxy to Mattermost transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="../install/database-transport-encryption.html">Configuring database transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="../install/cluster-transport-encryption.html">Configuring cluster transport encryption</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/bleve-search.html"> Bleve search</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/desktop-mobile-app-deployment.html">Desktop and mobile app deployment</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Desktop and mobile app deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/desktop-app.html">Desktop app deployment guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/desktop-msi-installer-and-group-policy-install.html">Desktop MSI installer and group policy installation guides (beta)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/desktop-custom-dictionaries.html">Desktop App custom dictionaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/desktop-app-managed-resources.html">Desktop managed resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/use-prebuilt-mobile-apps.html">Using Mattermost’s pre-built mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-testing-notifications.html">Testing push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-overview.html">Deploy Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-hpns.html">Mobile push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/build-custom-mobile-apps.html">Building and distributing your own custom Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deploy-mobile-apps-using-emm-provider.html">Deploying mobile apps using an EMM provider</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-appconfig.html">AppConfig for EMM solutions with Mattermost Mobile Apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/consider-mobile-vpn-options.html">Mobile VPN options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-faq.html">Mobile apps FAQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/client-side-data.html">Client-side data storage FAQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/upgrade-mattermost.html">Upgrade Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Upgrade Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/prepare-to-upgrade-mattermost.html"> Prepare to upgrade Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/upgrading-mattermost-server.html"> Upgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/enterprise-install-upgrade.html"> Enterprise install and upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/installing-license-key.html"> Install a license key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-definitions.html"> Release definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/important-upgrade-notes.html"> Important upgrade notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-lifecycle.html"> Release lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/extended-support-release.html"> Extended Support Release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/downgrading-mattermost-server.html"> Downgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/version-archive.html"> Version archive</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/scale-mattermost.html">Scale Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Scale Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../scale/scaling-for-enterprise.html"> Scale for Enterprise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/high-availability-cluster.html"> High availability cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/elasticsearch.html"> Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-monitoring.html"> Performance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-alerting.html"> Mattermost performance alerting guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-troubleshooting.html">Deployment troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Deployment troubleshooting</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/troubleshooting.html">  General troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/high-scale-troubleshoot.html">  Troubleshooting your high scale deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-troubleshoot.html">  Troubleshooting mobile applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/trouble-postgres.html">  PostgreSQL installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/trouble_mysql.html">  MySQL installation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/changelogs.html">Changelogs</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Changelogs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/self-managed-changelog.html">  Mattermost self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/legacy-self-hosted-changelog.html">  Mattermost legacy self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/cloud-changelog.html">  Mattermost Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-app-changelog.html">  Mobile apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/desktop-app-changelog.html">  Desktop apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/deprecated-features.html">  Deprecated features</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/additional-server-installation-guides.html">Additional server installation guides</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Additional server installation guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/deploying-team-edition-on-bitnami.html">  Deploy Mattermost on Bitnami</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/setting-up-aws-elastic-beanstalk-docker.html">  AWS Elastic Beanstalk Docker setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/installing-team-edition-helm-chart.html">  Install Mattermost Team Edition in GitLab Helm Chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/open-source-components.html">  Open source components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../guides/administration.html">Manage Mattermost</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Manage Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../guides/get-started-with-administration.html">Get started</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Get started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="optimize-your-workspace.html">Optimize your workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration-settings.html">Mattermost configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="self-hosted-account-settings.html">Self-hosted edition and license</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-billing-account-settings.html">Cloud subscription, billing, and account</a></li>
<li class="toctree-l3"><a class="reference internal" href="reporting-configuration-settings.html">Reporting configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management-configuration-settings.html">User management configuration settings</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Environment configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="site-configuration-settings.html">Site configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication-configuration-settings.html">Authentication configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugins-configuration-settings.html">Plugins configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="integrations-configuration-settings.html">Integrations configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="compliance-configuration-settings.html">Compliance configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="experimental-configuration-settings.html">Experimental configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="deprecated-configuration-settings.html">Deprecated configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="environment-variables.html">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/user-provisioning-workflows.html">Provisioning workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/multi-factor-authentication.html">Multi-factor authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ad-ldap.html">Active Directory/LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-gitlab.html">GitLab SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-openidconnect.html">OpenID SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-google.html">Google SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-office.html">Office 365 SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/advanced-permissions.html">Advanced permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/system-admin-roles.html">System admin roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/team-channel-members.html">Manage team and channel members</a></li>
<li class="toctree-l3"><a class="reference internal" href="custom-branding-tools.html">Custom branding tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/electronic-discovery.html">eDiscovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-monitoring.html">Compliance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-export.html">Compliance export</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/legal-hold.html">Legal hold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/data-retention-policy.html">Data retention tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/custom-terms-of-service.html">Custom terms of service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/notify-admin.html">Notify Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ad-ldap-groups-synchronization.html">AD/LDAP groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/managing-team-channel-membership-using-ad-ldap-sync-groups.html">Use AD/LDAP synchronized groups to manage team or private channel membership</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/guest-accounts.html">Guest accounts</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../onboard/sso-saml.html">SAML Single Sign-On</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of SAML Single Sign-On</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-okta.html">Okta SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-onelogin.html">OneLogin SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-adfs.html">Microsoft ADFS SAML Configuration for Windows Server 2012</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-adfs-msws2016.html">Microsoft ADFS SAML Configuration for Windows Server 2016</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-keycloak.html">Keycloak SAML Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-saml-technical.html">SAML Single-Sign-On: technical documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/shared-channels.html">Shared channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/statistics.html">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/in-product-notices.html">In-product notices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/user-satisfaction-surveys.html">User satisfaction surveys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/health-checks.html">Health check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/announcement-banner.html">Announcement banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/bulk-export-tool.html">Bulk export tool</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/cloud-workspace-management.html">Cloud workspace management</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Cloud workspace management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-billing.html">Mattermost Cloud billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/workspace-usage.html">Workspace usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-export.html">Workspace migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-residency.html">Cloud data residency</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/self-hosted-administration.html">Self-hosted administration</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Self-hosted administration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/self-hosted-billing.html">Mattermost self-hosted billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuation-in-a-database.html">Store configuration in the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/bulk-loading-data.html">Bulk loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="smtp-email.html">SMTP email setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="email-templates.html">Email templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="calls-deployment.html">Calls deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuring-cloudfront-to-host-mattermost-static-assets.html">Configure CloudFront to host static assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="using-outbound-proxy.html">Use an outbound proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/migrating-to-mattermost.html">Migration guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/postgres-migration.html">Migration from MySQL to PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="enabling-chinese-japanese-korean-search.html">Chinese, Japanese, and Korean search</a></li>
<li class="toctree-l3"><a class="reference internal" href="customizing-mattermost.html">Customize Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/audit-log.html">Audit logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/embedded-json-audit-log-schema.html">JSON audit log schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ssl-client-certificate.html">SSL client certificate setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/certificate-based-authentication.html">Certificate-based authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/telemetry.html">Manage telemetry</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/other-administration-resources.html">Other resources</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Other resources</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../onboard/convert-oauth20-service-providers-to-openidconnect.html">Convert OAuth 2.0 providers to OpenID Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/generating-support-packet.html">Generate a support packet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/mmctl-command-line-tool.html">mmctl command line tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/migration-announcement-email.html">Migration announcement email template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/advanced-permissions-backend-infrastructure.html">Advanced permissions infrastructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/command-line-tools.html">Command line tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/use-mattermost.html">Use Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Use Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/collaborate.html">Connect and collaborate</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Connect and collaborate</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/access-your-workspace.html">Access your Mattermost workspace</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Access your Mattermost workspace</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-desktop-app.html">Install the desktop app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-ios-app.html">Install the iOS mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-android-app.html">Install the Android mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/log-out.html">Log out of Mattermost</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/organize-using-teams.html">Organize using teams</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Organize using teams</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-settings.html">Team settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-keyboard-shortcuts.html">Team keyboard shortcuts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/organize-using-custom-user-groups.html">Organize using custom user groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/invite-people.html">Invite people</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/learn-about-roles.html">Learn about Mattermost roles</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/collaborate-within-channels.html">Collaborate within channels</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Collaborate within channels</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-types.html">Channel types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-naming-conventions.html">Channel naming conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-header-purpose.html">Communicate a channel's focus and scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/create-channels.html">Create channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/rename-channels.html">Rename channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/convert-public-channels.html">Convert public channels to private</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/join-leave-channels.html">Join and leave channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/make-calls.html">Make calls in Mattermost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/manage-channel-members.html">Manage channel members</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/browse-channels.html">Browse channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/navigate-between-channels.html">Navigate between channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/favorite-channels.html">Mark channels as favorites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-channels-unread.html">Mark channels as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/archive-unarchive-channels.html">Archive and unarchive channels</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/communicate-with-messages.html">Communicate with messages and threads</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Communicate with messages and threads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/send-messages.html">Send messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/reply-to-messages.html">Reply to messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/react-with-emojis-gifs.html">React with emojis and GIFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/organize-conversations.html">Organize conversations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-messages-unread.html">Mark messages as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/forward-messages.html">Forward messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-links.html">Share links to channels and messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/save-pin-messages.html">Save and pin messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-reminders.html">Set message reminders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/search-for-messages.html">Search for messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/format-messages.html">Format messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-priority.html">Set message priority</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mention-people.html">Mention people</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-files-in-messages.html">Share files in messages</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/keyboard-shortcuts.html">Keyboard shortcuts</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Keyboard shortcuts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/keyboard-accessibility.html">Keyboard accessibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/run-slash-commands.html">Run slash commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/built-in-slash-commands.html">Built-in-slash-commands</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/extend-mattermost-with-integrations.html">Extend Mattermost with integrations</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Extend Mattermost with integrations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/collaborate-using-mattermost-for-microsoft-teams.html">Collaborate using Mattermost for MS Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/use-mattermost-google-calendar-plugin.html">Use the Mattermost Google Calendar plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/repeatable-processes.html">Build repeatable processes</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Build repeatable processes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/learn-about-playbooks.html">Learn about playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-playbooks.html">Work with playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-runs.html">Work with runs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-tasks.html">Work with tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/notifications-and-updates.html">Work with notifications and updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/metrics-and-goals.html">Work with metrics and goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/share-and-collaborate.html">Share and collaborate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/interact-with-playbooks.html">Interact with playbooks</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/preferences.html">Customize your preferences</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Customize your preferences</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-notifications.html">Manage your notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-theme.html">Customize your Mattermost theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-channel-sidebar.html">Customize your channel sidebar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-profile.html">Manage your profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-security-preferences.html">Manage your security preferences</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/set-your-status-availability.html">Set your status &amp; availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-display-options.html">Manage your display options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-sidebar-options.html">Manage your sidebar options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-advanced-options.html">Manage advanced options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-desktop-app-experience.html">Customize your desktop app experience</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/connect-multiple-workspaces.html">Connect to multiple workspaces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://developers.mattermost.com/">Develop with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/get-help.html">Get help with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/community-chat.html">Join our community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://handbook.mattermost.com/">Learn how we work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/contribute-to-documentation.html">Contribute to this documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="environment-configuration-settings">
<h1>Environment configuration settings<a class="headerlink" href="#environment-configuration-settings" title="Link to this heading">#</a></h1>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Each configuration value below includes a JSON path to access the value programmatically in the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file using a JSON-aware tool. For example, the <code class="docutils literal notranslate"><span class="pre">SiteURL</span></code> value is under <code class="docutils literal notranslate"><span class="pre">ServiceSettings</span></code>.</p>
<ul class="simple">
<li><p>If using a tool such as <a class="reference external" href="https://stedolan.github.io/jq/">jq</a>, you’d enter: <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">config/config.json</span> <span class="pre">|</span> <span class="pre">jq</span> <span class="pre">'.ServiceSettings.SiteURL'</span></code></p></li>
<li><p>When working with the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file manually, look for the key <code class="docutils literal notranslate"><span class="pre">ServiceSettings</span></code>, then within that object, find the key <code class="docutils literal notranslate"><span class="pre">SiteURL</span></code>.</p></li>
</ul>
</div>
<p>Both self-hosted and Cloud admins can access the following configuration settings in <strong>System Console &gt; Environment</strong>. Self-hosted admins can also edit the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables.</p>
<ul class="simple">
<li><p><a class="reference external" href="#web-server">Web server</a></p></li>
<li><p><a class="reference external" href="#database">Database</a></p></li>
<li><p><a class="reference external" href="#elasticsearch">Elasticsearch</a></p></li>
<li><p><a class="reference external" href="#file-storage">File Storage</a></p></li>
<li><p><a class="reference external" href="#image-proxy">Image Proxy</a></p></li>
<li><p><a class="reference external" href="#smtp">SMTP</a></p></li>
<li><p><a class="reference external" href="#push-notification-server">Push Notification Server</a></p></li>
<li><p><a class="reference external" href="#high-availability">High Availability</a></p></li>
<li><p><a class="reference external" href="#rate-limiting">Rate Limiting</a></p></li>
<li><p><a class="reference external" href="#logging">Logging</a></p></li>
<li><p><a class="reference external" href="#session-lengths">Session Lengths</a></p></li>
<li><p><a class="reference external" href="#performance-monitoring">Performance Monitoring</a></p></li>
<li><p><a class="reference external" href="#developer">Developer</a></p></li>
</ul>
<hr class="docutils" />
<section id="web-server">
<h2>Web server<a class="headerlink" href="#web-server" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure the network environment in which Mattermost is deployed by going to <strong>System Console &gt; Environment &gt; Web Server</strong>, or by updating the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="web-siteurl"></a><section id="site-url">
<h3>Site URL<a class="headerlink" href="#site-url" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The URL that users use to access Mattermost.
The port number is required if it’s not a standard port,
such as 80 or 443. This field is required.</p>
<p>Select the <strong>Test Live URL</strong> button in the System Console
to validate the Site URL.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">.ServiceSettings.SiteURL&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_SITEURL</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>The URL may contain a subpath, such as “<a class="reference external" href="https://example.com/company/mattermost">https://example.com/company/mattermost</a>”.</p></li>
<li><p>If you change the Site URL value, log out of the Desktop App, and sign back in using the new domain.</p></li>
<li><p>If Site URL is not set:</p>
<ul>
<li><p>Email notifications will contain broken links, and email batching will not work.</p></li>
<li><p>Authentication via OAuth 2.0, including GitLab, Google, and Office 365, will fail.</p></li>
<li><p>Plugins may not work as expected.</p></li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-listenaddress"></a></section>
<section id="web-server-listen-address">
<h3>Web server listen address<a class="headerlink" href="#web-server-listen-address" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The address and port to which to bind and listen.
Specifying <code class="docutils literal notranslate"><span class="pre">:8065</span></code> will bind to all network interfaces.
Specifying <code class="docutils literal notranslate"><span class="pre">127.0.0.1:8065</span></code> will only bind to the network
interface having that IP address.</p>
<p>If you choose a port of a lower level (called “system ports”
or “well-known ports”, in the range of 0-1023), you must have
permissions to bind to that port.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.ListenAddress&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_LISTENADDRESS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-forwardinsecure"></a></section>
<section id="forward-port-80-to-443">
<h3>Forward port 80 to 443<a class="headerlink" href="#forward-port-80-to-443" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Forward insecure traffic from port 80 to port 443.</p>
<ul class="simple">
<li><p><strong>true</strong>: Forwards all insecure traffic from port 80 to
secure port 443.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> When using a proxy such as NGINX
in front of Mattermost this setting is unnecessary
and should be set to false.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.Forward80To443:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_FORWARD80TO443</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-connectionsecurity"></a></section>
<section id="web-server-connection-security">
<h3>Web server connection security<a class="headerlink" href="#web-server-connection-security" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Connection security between Mattermost clients and the server.</p>
<ul class="simple">
<li><p><strong>Not specified</strong>: Mattermost will connect over an unsecure
connection.</p></li>
<li><p><strong>TLS</strong>: Encrypts the communication between Mattermost
clients and your server. See the <a class="reference external" href="/install/config-tls-mattermost.html">configuring TLS on Mattermost</a>
for more details</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.ConnectionSecurity&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_CONNECTIONSECURITY</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-tlscertificatefile"></a></section>
<section id="tls-certificate-file">
<h3>TLS certificate file<a class="headerlink" href="#tls-certificate-file" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The path to the certificate file to use for TLS
connection security.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.TLSCertFile&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_TLSCERTFILE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-tlskeyfile"></a></section>
<section id="tls-key-file">
<h3>TLS key file<a class="headerlink" href="#tls-key-file" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The path to the TLS key file to use for TLS
connection security.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.TLSKeyFile&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_TLSKEYFILE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-useletsencrypt"></a></section>
<section id="use-let-s-encrypt">
<h3>Use Let’s Encrypt<a class="headerlink" href="#use-let-s-encrypt" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable the automatic retrieval of certificates from Let’s Encrypt.
See the <a class="reference external" href="/install/config-tls-mattermost.html">configuring TLS on Mattermost documentation</a>
for more details on setting up Let’s Encrypt.</p>
<ul class="simple">
<li><p><strong>true</strong>: The certificate will be retrieved when a client
attempts to connect from a new domain. This will work with
multiple domains.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Manual certificate specification
based on the TLS Certificate File and TLS Key File specified
above.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.UseLetsEncrypt:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_USELETSENCRYPT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-letsencryptcache"></a></section>
<section id="let-s-encrypt-certificate-cache-file">
<h3>Let’s Encrypt certificate cache file<a class="headerlink" href="#let-s-encrypt-certificate-cache-file" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The path to the file where certificates and other data
about the Let’s Encrypt service will be stored.</p>
<p>File path input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.LetsEncryptCertificateCacheFile&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_LETSENCRYPTCERTIFICATECACHEFILE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-readtimeout"></a></section>
<section id="read-timeout">
<h3>Read timeout<a class="headerlink" href="#read-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Maximum time allowed from when the connection is
accepted to when the request body is fully read.</p>
<p>Numerical input in seconds. Default is <strong>300</strong> seconds.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.ReadTimeout:</span> <span class="pre">300&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_READTIMEOUT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-writetimeout"></a></section>
<section id="write-timeout">
<h3>Write timeout<a class="headerlink" href="#write-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><ul class="simple">
<li><p>If using HTTP (insecure), this is the maximum time
allowed from the end of reading the request headers
until the response is written.</p></li>
<li><p>If using HTTPS, it’s the total time from when the
connection is accepted until the response is written.</p></li>
</ul>
<p>Numerical input in seconds. Default is <strong>300</strong> seconds.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.WriteTimeout:</span> <span class="pre">300&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_WRITETIMEOUT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-idletimeout"></a></section>
<section id="idle-timeout">
<h3>Idle timeout<a class="headerlink" href="#idle-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Set an explicit idle timeout in the HTTP server.
This is the maximum time allowed before an idle
connection is disconnected.</p>
<p>Numerical input in seconds. Default is <strong>300</strong> seconds.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.IdleTimeout:</span> <span class="pre">300&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_IDLETIMEOUT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-webservermode"></a></section>
<section id="webserver-mode">
<h3>Webserver mode<a class="headerlink" href="#webserver-mode" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>We recommend gzip to improve performance unless your
environment has specific restrictions, such as a web proxy that
distributes gzip files poorly.</p>
<ul class="simple">
<li><p><strong>gzip</strong>: <strong>(Default)</strong> The Mattermost server will serve static
files compressed with gzip to improve performance.
gzip compression applies to the HTML, CSS, Javascript, and other
static content files that make up the Mattermost web client.</p></li>
<li><p><strong>Uncompressed</strong>: The Mattermost server will serve static
files uncompressed.</p></li>
<li><p><strong>Disabled</strong>: The Mattermost server will not serve static files.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.WebserverMode:</span> <span class="pre">gzip&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_WEBSERVERMODE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-insecureoutgoingconnections"></a></section>
<section id="enable-insecure-outgoing-connections">
<h3>Enable insecure outgoing connections<a class="headerlink" href="#enable-insecure-outgoing-connections" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to allow insecure outgoing connections.</p>
<ul class="simple">
<li><p><strong>true</strong>: Outgoing HTTPS requests, including S3 clients,
can accept unverified, self-signed certificates.
For example, outgoing webhooks to a server with a
self-signed TLS certificate, using any domain, will be
allowed, and will skip TLS verification.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Only secure HTTPS requests are
allowed.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.EnableInsecureOutgoingConnections:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_ENABLEINSECUREOUTGOINGCONNECTIONS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Security note</strong>: Enabling this feature makes these connections susceptible to man-in-the-middle attacks.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="web-managedresourcepaths"></a></section>
<section id="managed-resource-paths">
<h3>Managed resource paths<a class="headerlink" href="#managed-resource-paths" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>A comma-separated list of paths within the Mattermost
domain that are managed by a third party service
instead of Mattermost itself.</p>
<p>Links to these paths will be opened in a new
tab/window by Mattermost apps.</p>
<p>For example, if Mattermost is running on
<code class="docutils literal notranslate"><span class="pre">https://mymattermost.com</span></code>, setting this to
conference will cause links such as
<code class="docutils literal notranslate"><span class="pre">https://mymattermost.com/conference</span></code> to open in a
new window.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.ManagedResourcePaths&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_MANAGEDRESOURCEPATHS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note:</strong>
When using the Mattermost Desktop App, additional configuration is required to open the link within the Desktop App instead of
in a browser. See the <a class="reference external" href="/install/desktop-app-managed-resources.html">desktop managed resources</a>
documentation for details.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="reload-configuration-from-disk">
<h3>Reload configuration from disk<a class="headerlink" href="#reload-configuration-from-disk" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>You must change the database line in the <code class="docutils literal notranslate"><span class="pre">config.json</span></code>
file, and then reload configuration to fail over
without taking the server down.</p>
<p>Select the <strong>Reload configuration from disk</strong> button
in the System Console after changing your database
configuration. Then, go to <strong>Environment &gt; Database</strong>
and select <strong>Recycle Database Connections</strong> to
complete the reload.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: N/A</p></li>
<li><p>Environment variable: N/A</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="purge-all-caches">
<h3>Purge all caches<a class="headerlink" href="#purge-all-caches" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Purge all in-memory caches for sessions, accounts,
and channels.</p>
<p>Select the <strong>Purge All Caches</strong> button in the System
Console to purge all caches.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Web Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: N/A</p></li>
<li><p>Environment variable: N/A</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Purging the caches may adversely impact performance. Deployments using <a class="reference external" href="/scale/high-availability-cluster.html">high availability clusters</a> will attempt to purge all the servers in the cluster</p></td>
</tr>
</tbody>
</table>
</div>
<a id="web-websocketurl"></a></section>
<section id="websocket-url">
<h3>Websocket URL<a class="headerlink" href="#websocket-url" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>You can configure the server to instruct clients
on where they should try to connect websockets to.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.WebsocketURL:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_WEBSOCKETURL</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-licensefilelocation"></a></section>
<section id="license-file-location">
<h3>License file location<a class="headerlink" href="#license-file-location" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise and Professional</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The path and filename of the license file on disk.
On startup, if Mattermost can’t find a valid license
in the database from a previous upload, it looks in
this path for the license file.</p>
<p>String input. Can be an absolute path or a path
relative to the <code class="docutils literal notranslate"><span class="pre">mattermost</span></code> directory.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.LicenseFileLocation:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_LICENSEFILELOCATION</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-tlsminimumversion"></a></section>
<section id="tls-minimum-version">
<h3>TLS minimum version<a class="headerlink" href="#tls-minimum-version" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The minimum TLS version used by the Mattermost server.</p>
<p>String input. Default is <strong>1.2</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.TLSMinVer:</span> <span class="pre">1.2&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_TLSMINVER</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: This setting only takes effect if you are using the built-in server binary directly, and not using a reverse proxy
layer, such as NGINX.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="web-trustedproxyipheader"></a></section>
<section id="trusted-proxy-ip-header">
<h3>Trusted proxy IP header<a class="headerlink" href="#trusted-proxy-ip-header" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Specified headers that will be checked, one by one,
for IP addresses (order is important).
All other headers are ignored.</p>
<p>String array input consisting of header names,
such as <code class="docutils literal notranslate"><span class="pre">[&quot;X-Forwarded-For&quot;,</span> <span class="pre">&quot;X-Real-Ip&quot;]</span></code>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.TrustedProxyIPHeader:</span> <span class="pre">[]&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_TRUSTEDPROXYIPHEADER</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>The default value of <code class="docutils literal notranslate"><span class="pre">[]</span></code> means that no header will be trusted. Prior to v5.12, the absence of this configuration setting entry
will have it set to <code class="docutils literal notranslate"><span class="pre">[&quot;X-Forwarded-For&quot;,</span> <span class="pre">&quot;X-Real-Ip&quot;]</span></code> on upgrade to maintain backwards compatibility.</p></li>
<li><p>We recommend keeping the default setting when Mattermost is running without a proxy to avoid the client sending the headers and
bypassing rate limiting and/or the audit log.</p></li>
<li><p>For environments that use a reverse proxy, this issue does not exist, provided that the headers are set by the reverse proxy.
In those environments, only explicitly whitelist the header set by the reverse proxy and no additional values.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-enablehsts"></a></section>
<section id="enable-strict-transport-security-hsts">
<h3>Enable Strict Transport Security (HSTS)<a class="headerlink" href="#enable-strict-transport-security-hsts" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><ul class="simple">
<li><p><strong>true</strong>: Adds the Strict Transport Security (HSTS)
header to all responses, forcing the browser to
request all resources via HTTPS.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> No restrictions on TLS
transport. Strict Transport Security (HSTS) header
isn’t added to responses.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.TLSStrictTransport:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_TLSSTRICTTRANSPORT</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">Strict-Transport-Security</a>
documentation for details.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="web-securetlstransportexpiry"></a></section>
<section id="secure-tls-transport-expiry">
<h3>Secure TLS transport expiry<a class="headerlink" href="#secure-tls-transport-expiry" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The time, in seconds, that the browser remembers a
site is only to be accessed using HTTPS. After this
period, a site can’t be accessed using HTTP unless
<code class="docutils literal notranslate"><span class="pre">TLSStrictTransport</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>Numerical input. Default is <strong>63072000</strong> (2 years).</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.TLSStrictTransportMaxAge:</span> <span class="pre">63072000&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_TLSSTRICTTRANSPORTMAXAGE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">Strict-Transport-Security</a>
documentation for details.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="web-tlscipheroverwrites"></a></section>
<section id="tls-cipher-overwrites">
<h3>TLS cipher overwrites<a class="headerlink" href="#tls-cipher-overwrites" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Set TLS ciphers overwrites to meet requirements from
legacy clients which don’t support modern ciphers,
or to limit the types of accepted ciphers.</p>
<p>If none specified, the Mattermost server assumes a
set of currently considered secure ciphers, and allows
overwrites in the edge case.</p>
<p>String array input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.TLSOverwriteCiphers:</span> <span class="pre">[]&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_TLSOVERWRITECIPHERS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>This setting only takes effect if you are using the built-in server binary directly, and not using a reverse proxy layer, such
as NGINX.</p></li>
<li><p>See the <code class="docutils literal notranslate"><span class="pre">ServerTLSSupportedCiphers</span></code> variable in <a class="reference external" href="https://github.com/mattermost/mattermost/blob/master/server/public/model/config.go">/model/config.go</a> for a list of ciphers considered secure.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-goroutinehealththreshold"></a></section>
<section id="goroutine-health-threshold">
<h3>Goroutine health threshold<a class="headerlink" href="#goroutine-health-threshold" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Set a threshold on the number of goroutines when the
Mattermost system is considered to be in a healthy
state.</p>
<p>When goroutines exceed this limit, a warning is
returned in the server logs.</p>
<p>Numeric input. Default is <strong>-1</strong> which turns off
checking for the threshold.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.GoroutineHealthThreshold:</span> <span class="pre">-1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_GOROUTINEHEALTHTHRESHOLD</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-allowcookiesforsubdomains"></a></section>
<section id="allow-cookies-for-subdomains">
<h3>Allow cookies for subdomains<a class="headerlink" href="#allow-cookies-for-subdomains" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Allows cookies for
subdomains by setting the domain parameter on
Mattermost cookies.</p></li>
<li><p><strong>false</strong>: Cookies not allowed for subdomains.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.AllowCookiesForSubdomains:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_ALLOWCOOKIESFORSUBDOMAINS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="web-clusterlogtimeout"></a></section>
<section id="cluster-log-timeout">
<h3>Cluster log timeout<a class="headerlink" href="#cluster-log-timeout" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Define the frequency, in milliseconds, of cluster
request time logging for performance monitoring.</p>
<p>Numerical input. Default is <strong>2000</strong> milliseconds
(2 seconds).</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.ClusterLogTimeoutMilliseconds:</span> <span class="pre">2000&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_CLUSTERLOGTIMEOUTMILLISECONDS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference internal" href="../scale/performance-monitoring.html"><span class="doc">performance monitoring</span></a> documentation for details.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="database">
<h2>Database<a class="headerlink" href="#database" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure the database environment in which Mattermost is deployed by going to <strong>System Console &gt; Environment &gt; Database</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="database-drivername"></a><section id="driver-name">
<h3>Driver name<a class="headerlink" href="#driver-name" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The type of database. Can be either:</p>
<ul class="simple">
<li><p><strong>mysql</strong>: <strong>(Default)</strong> Enables driver to MySQL database.</p></li>
<li><p><strong>postgres</strong>: Enables driver to PostgreSQL database.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.DriverName&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_DRIVERNAME</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-datasource"></a></section>
<section id="data-source">
<h3>Data source<a class="headerlink" href="#data-source" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The connection string to the master database.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.DataSource&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_DATASOURCE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>To enable SSL:</p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&amp;tls=true</span></code> to your database connection string if your SQL driver supports it.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">&amp;tls=skip-verify</span></code> if you use self-signed certificates.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td colspan="2"><p><strong>PostgreSQL databases</strong></p>
<p>When <strong>Driver Name</strong> is set to <code class="docutils literal notranslate"><span class="pre">postgres</span></code>, use a connection string in the form of:
<code class="docutils literal notranslate"><span class="pre">postgres://mmuser:password&#64;localhost:5432/mattermost_test?sslmode=disable&amp;connect_timeout=10.</span></code></p>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>MySQL databases</strong></p>
<p>When <strong>Driver Name</strong> is set to <code class="docutils literal notranslate"><span class="pre">mysql</span></code>, using <code class="docutils literal notranslate"><span class="pre">collation</span></code> is recommended over using <code class="docutils literal notranslate"><span class="pre">charset</span></code>.</p>
<p>To specify collation:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;SqlSettings&quot;: {
    &quot;DataSource&quot;:
&quot;&lt;user:pass&gt;@&lt;servername&gt;/mattermost?charset=utf8mb4,utf8&amp;collation=utf8mb4_general_ci&quot;,
    [...]
 }
</pre></div>
</div>
<p>If collation is omitted, the default collation, <code class="docutils literal notranslate"><span class="pre">utf8mb4_general_ci</span></code> is used:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;SqlSettings&quot;: {
    &quot;DataSource&quot;: &quot;&lt;user:pass&gt;@&lt;servername&gt;/mattermost?charset=utf8mb4,utf8&quot;,
    [...]
 }
</pre></div>
</div>
<p><strong>Note</strong>: If you’re using MySQL 8.0 or later, the default collation has changed to <code class="docutils literal notranslate"><span class="pre">utf8mb4_0900_ai_ci</span></code>. See our <a class="reference external" href="/install/software-hardware-requirements.html">Database Software
Requirements</a> documentation for details on MySQL 8.0 support.</p>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-maxidleconnections"></a></section>
<section id="maximum-idle-database-connections">
<h3>Maximum idle database connections<a class="headerlink" href="#maximum-idle-database-connections" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum number of idle connections held open
to the database.</p>
<p>Numerical input. Default is <strong>10</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.MaxIdleConns&quot;:</span> <span class="pre">10,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_MAXIDLECONNS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-maxopenconnections"></a></section>
<section id="maximum-open-connections">
<h3>Maximum open connections<a class="headerlink" href="#maximum-open-connections" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum number of open connections to the
database.</p>
<p>Numerical input. Default is <strong>300</strong> for self-hosted
deployments, and <strong>100</strong> for Cloud deployments.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.MaxOpenConns&quot;:</span> <span class="pre">300,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_MAXOPENCONNS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-querytimeout"></a></section>
<section id="query-timeout">
<h3>Query timeout<a class="headerlink" href="#query-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The amount of time to wait, in seconds, for a response
from the database after opening a connection and
sending the query.</p>
<p>Numerical input in seconds. Default is <strong>30</strong> seconds.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.QueryTimeout:</span> <span class="pre">30&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_QUERYTIMEOUT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-maxconnectionlifetime"></a></section>
<section id="maximum-connection-lifetime">
<h3>Maximum connection lifetime<a class="headerlink" href="#maximum-connection-lifetime" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Maximum lifetime for a connection to the database,
in milliseconds. Use this setting to configure the
maximum amount of time a connection to the database
may be reused</p>
<p>Numerical input in milliseconds. Default is
<strong>3600000</strong> milliseconds (1 hour).</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.ConnMaxLifetimeMilliseconds:</span> <span class="pre">3600000&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_CONNMAXLIFETIMEMILLISECONDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-connmaxidletime"></a></section>
<section id="maximum-connection-idle-timeout">
<h3>Maximum connection idle timeout<a class="headerlink" href="#maximum-connection-idle-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Maximum time a database connection can remain idle,
in milliseconds.</p>
<p>Numerical input in milliseconds. Default is <strong>300000</strong>
(5 minutes).</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.ConnMaxIdleTimeMilliseconds:</span> <span class="pre">300000&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_CONNMAXIDLETIMEMILLISECONDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-minhashtaglength"></a></section>
<section id="minimum-hashtag-length">
<h3>Minimum hashtag length<a class="headerlink" href="#minimum-hashtag-length" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Minimum number of characters in a hashtag.
This value must be greater than or equal to <strong>2</strong>.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.MinimumHashtagLength:</span> <span class="pre">3&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_MINIMUMHASHTAGLENGTH</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: MySQL databases must be configured to support searching strings shorter than three characters. See the
<a class="reference external" href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-fine-tuning.html">MySQL documentation</a> for details.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="database-sqltrace"></a></section>
<section id="sql-statement-logging">
<h3>SQL statement logging<a class="headerlink" href="#sql-statement-logging" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Executed SQL statements can be written to the log for
development.</p>
<ul class="simple">
<li><p><strong>true</strong>: Executing SQL statements are written to the log.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> SQL statements aren’t written
to the log.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.Trace:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_TRACE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="recycle-database-connections">
<h3>Recycle database connections<a class="headerlink" href="#recycle-database-connections" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Select the <strong>Recycle Database Connections</strong> button to
manually recycle the connection pool by closing the
current set of open connections to the database
within 20 seconds, and then creating a new set of
connections.</p>
<p>To fail over without stopping the server, change the
database line in the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file, select
<strong>Reload Configuration from Disk</strong> via <strong>Environment
&gt; Web Server</strong>, then select <strong>Recycle Database
Connections</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: N/A</p></li>
<li><p>Environment variable: N/A</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-disablesearch"></a></section>
<section id="disable-database-search">
<h3>Disable database search<a class="headerlink" href="#disable-database-search" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>When other search engines are configured, such as
<a class="reference external" href="/scale/elasticsearch.html">Elasticsearch</a>,
the database can be disabled to perform searches.</p>
<ul class="simple">
<li><p><strong>true</strong>: Disables the use of the database to perform
searches. If another search engine isn’t configured,
setting this value to <code class="docutils literal notranslate"><span class="pre">true</span></code> will result in empty search
results.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Database search isn’t disabled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Database</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.DisableDatabaseSearch:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_DISABLEDATABASESEARCH</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>Search behavior in Mattermost depends on which search engines are enabled.</p>
<ul class="simple">
<li><p>When <a class="reference external" href="/scale/elasticsearch.html">Elasticsearch</a> is enabled, Mattermost will try to use it first.</p></li>
<li><p>If Elasticsearch fails or is disabled, Mattermost will attempt to use <a class="reference external" href="/deploy/bleve-search.html">Bleve</a>, if enabled. If this occurs,
you will see the warning <code class="docutils literal notranslate"><span class="pre">Encountered</span> <span class="pre">error</span> <span class="pre">on</span> <span class="pre">SearchPostsInTeamForUser.</span></code></p></li>
<li><p>If both Elasticsearch and Bleve fail or are disabled, Mattermost tries to search the database directly, if this is enabled.</p></li>
<li><p>If all of the above methods fail or are disabled, the search results will be empty.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="applied-schema-migrations">
<h3>Applied schema migrations<a class="headerlink" href="#applied-schema-migrations" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<p>A list of all migrations that have been applied to the data store based on the version information available in the <code class="docutils literal notranslate"><span class="pre">db_migrations</span></code> table. Select <strong>About Mattermost</strong> from the product menu to review the current database schema version applied to your deployment.</p>
<a id="database-activesearchbackend"></a></section>
<section id="active-search-backend">
<h3>Active Search Backend<a class="headerlink" href="#active-search-backend" title="Link to this heading">#</a></h3>
<p>Read-only display of the currently active backend used for search. Values can include <code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">database</span></code>, <code class="docutils literal notranslate"><span class="pre">elasticsearch</span></code>, or <code class="docutils literal notranslate"><span class="pre">bleve</span></code>.</p>
<a id="database-readreplicas"></a></section>
<section id="read-replicas">
<h3>Read replicas<a class="headerlink" href="#read-replicas" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise and Professional</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E10 and E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Specifies the connection strings for the read replica
databases.</p></td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.DataSourceReplicas&quot;:</span> <span class="pre">[]</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_DATASOURCEREPLICAS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Each database connection string in the array must be in the same form used for the
<a class="reference external" href="#data-source">Data source</a> setting.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="database-searchreplicas"></a></section>
<section id="search-replicas">
<h3>Search replicas<a class="headerlink" href="#search-replicas" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise and Professional</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E10 and E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Specifies the connection strings for the search
replica databases. A search replica is similar to a
read replica, but is used only for handling search
queries.</p></td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.DataSourceSearchReplicas&quot;:</span> <span class="pre">[]</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_DATASOURCESEARCHREPLICAS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Each database connection string in the array must be in the same form used for the <a class="reference external" href="#data-source">Data source</a>
setting.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="database-replicalagsettings"></a></section>
<section id="replica-lag-settings">
<h3>Replica lag settings<a class="headerlink" href="#replica-lag-settings" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>String array input specifies a connection string and
user-defined SQL queries on the database to measure
replica lag for a single replica instance.</p>
<p>These settings monitor absolute lag based on binlog
distance/transaction queue length, and the time taken
for the replica to catch up.</p>
<p>String array input consists of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DataSource</span></code>: The database credentials to connect
to the replica instance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QueryAbsoluteLag</span></code>: A plain SQL query that must
return a single row. The first column must be the
node value of the Prometheus metric, and the second
column must be the value of the lag used to
measure absolute lag.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QueryTimeLag</span></code>: A plain SQL query that must
return a single row. The first column must be the
node value of the Prometheus metric, and the second
column must be the value of the lag used to measure
the time lag.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.ReplicaLagSettings&quot;:</span> <span class="pre">[]</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_REPLICALAGSETTINGS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>Examples:</p>
<p>For AWS Aurora instances, <code class="docutils literal notranslate"><span class="pre">QueryAbsoluteLag</span></code> can be:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="n">server_id</span><span class="p">,</span><span class="w"> </span><span class="n">highest_lsn_rcvd</span><span class="o">-</span><span class="n">durable_lsn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bindiff</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">aurora_global_db_instance_status</span><span class="p">()</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">server_id</span><span class="o">=&lt;&gt;</span>
</pre></div>
</div>
<p>And for AWS Aurora instances, <code class="docutils literal notranslate"><span class="pre">QueryTimeLag</span></code> can be:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="n">server_id</span><span class="p">,</span><span class="w"> </span><span class="n">visibility_lag_in_msec</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">aurora_global_db_instance_status</span><span class="p">()</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">server_id</span><span class="o">=&lt;&gt;</span>
</pre></div>
</div>
<p>For MySQL Group Replication, the absolute lag can be measured from the number of pending transactions in the applier queue:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="n">member_id</span><span class="p">,</span><span class="w"> </span><span class="n">count_transactions_remote_in_applier_queue</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">performance_schema</span><span class="p">.</span><span class="n">replication_group_member_stats</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">member_id</span><span class="o">=&lt;&gt;</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<a id="database-replicamonitorintervalseconds"></a></section>
<section id="replica-monitor-interval-seconds">
<h3>Replica monitor interval (seconds)<a class="headerlink" href="#replica-monitor-interval-seconds" title="Link to this heading">#</a></h3>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Specifies how frequently unhealthy replicas will be
monitored for liveness check. Mattermost will
dynamically choose a replica if it’s alive.</p>
<p>Numerical input. Default is 5 seconds.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.SqlSettings.ReplicaMonitorIntervalSeconds&quot;:</span> <span class="pre">5</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SQLSETTINGS_REPLICAMONITORINTERVALSECONDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="elasticsearch">
<h2>Elasticsearch<a class="headerlink" href="#elasticsearch" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Elasticsearch provides enterprise-scale deployments with optimized search performance and prevents performance degradation and timeouts. Learn more about <a class="reference external" href="/scale/elasticsearch.html">Elasticsearch</a> in our product documentation.</p>
<p>You can configure the Elasticsearch environment in which Mattermost is deployed in <strong>System Console &gt; Environment &gt; Elasticsearch</strong>. You can also edit the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="elastic-enableindexing"></a><section id="enable-elasticsearch-indexing">
<h3>Enable Elasticsearch indexing<a class="headerlink" href="#enable-elasticsearch-indexing" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to index new posts automatically.</p>
<ul class="simple">
<li><p><strong>true</strong>: Indexing of new posts occurs automatically.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Elasticsearch indexing is disabled
and new posts are not indexed.</p></li>
</ul>
</td>
<td colspan="2"><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.EnableIndexing:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_ENABLEINDEXING</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="3"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>If indexing is disabled and re-enabled after an index is created, we recommend you purge and rebuild the index to ensure complete
search results.</p></li>
<li><p>Search queries will use database search until Elasticsearch for search queries is enabled.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-serverconnectionaddress"></a></section>
<section id="server-connection-address">
<h3>Server connection address<a class="headerlink" href="#server-connection-address" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The address of the Elasticsearch server.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.ConnectionUrl&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_CONNECTIONURL</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-CApath"></a></section>
<section id="ca-path">
<h3>CA path<a class="headerlink" href="#ca-path" title="Link to this heading">#</a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Optional path to the Custom Certificate Authority
certificates for the Elasticsearch server.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.CA&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_CA</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Available from Mattermost v7.8. Can be used in conjunction with basic auth credentials or to replace them.
Leave this setting blank to use the default Certificate Authority certificates for the operating system.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-clientcertificatepath"></a></section>
<section id="client-certificate-path">
<h3>Client certificate path<a class="headerlink" href="#client-certificate-path" title="Link to this heading">#</a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Optional client certificate for the connection to
the Elasticsearch server in the PEM format.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.ClientCert&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_CLIENTCERT</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Available from Mattermost v7.8. Can be used in conjunction with basic auth credentials or to replace them.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-clientcertificatekeypath"></a></section>
<section id="client-certificate-key-path">
<h3>Client certificate key path<a class="headerlink" href="#client-certificate-key-path" title="Link to this heading">#</a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Optional key for the client certificate in the PEM
format.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.ClientKey&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_CLIENTKEY</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Available from Mattermost v7.8. Can be used in conjunction with basic auth credentials or to replace them.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-skiptlsverification"></a></section>
<section id="skip-tls-verification">
<h3>Skip TLS verification<a class="headerlink" href="#skip-tls-verification" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The certificate step for TLS connections can be skipped.</p>
<ul class="simple">
<li><p><strong>true</strong>: Skips the certificate verification step for
TLS connections.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Mattermost does not skip
certificate verification.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.SkipTLSVerification:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_SKIPTLSVERIFICATION</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-serverusername"></a></section>
<section id="server-username">
<h3>Server username<a class="headerlink" href="#server-username" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>(Optional) The username to authenticate to the
Elasticsearch server.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.UserName&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_USERNAME</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-serverpassword"></a></section>
<section id="server-password">
<h3>Server password<a class="headerlink" href="#server-password" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>(Optional) The password to authenticate to the
Elasticsearch server.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.Password&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_PASSWORD</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-enablesniffing"></a></section>
<section id="enable-cluster-sniffing">
<h3>Enable cluster sniffing<a class="headerlink" href="#enable-cluster-sniffing" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to automatically find and connect to
all data nodes in a cluster.</p>
<ul class="simple">
<li><p><strong>true</strong>: Sniffing finds and connects to all data nodes
in your cluster automatically.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Cluster sniffing is disabled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.Sniff:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_SNIFF</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>Select the <strong>Test Connection</strong> button in the System Console to validate the connection between Mattermost and the Elasticsearch server.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-bulkindexing"></a></section>
<section id="bulk-indexing">
<h3>Bulk indexing<a class="headerlink" href="#bulk-indexing" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to start a bulk index of all existing
posts in the database.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: N/A</p></li>
<li><p>Environment variable: N/A</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>Select the <strong>Index Now</strong> button in the System Console to start a bulk index of all posts. If the indexing process is canceled, the
index and search results will be incomplete.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-indexestoskipwhilepurging"></a></section>
<section id="indexes-to-skip-while-purging">
<h3>Indexes to skip while purging<a class="headerlink" href="#indexes-to-skip-while-purging" title="Link to this heading">#</a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Specify index names to ignore while purging indexes.
Separate multiple index names with commas.</p>
<p>Use an asterisk (*) to match a sequence of index name
characters.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: ElasticsearchSettings.IgnoredPurgeIndexes</p></li>
<li><p>Environment variable: MM_ELASTICSEARCHSETTINGS_IGNOREDPURGEINDEXES</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-purgeindexes"></a></section>
<section id="purge-indexes">
<h3>Purge indexes<a class="headerlink" href="#purge-indexes" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Purge the entire Elasticsearch index.
Typically only used if the index has corrupted and search
isn’t behaving as expected.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: N/A</p></li>
<li><p>Environment variable: N/A</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>Select the <strong>Purge Indexes</strong> button in the System Console to purge the index.
After purging the index, create a new index by selecting the <strong>Index Now</strong> button.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-enablesearch"></a></section>
<section id="enable-elasticsearch-for-search-queries">
<h3>Enable Elasticsearch for search queries<a class="headerlink" href="#enable-elasticsearch-for-search-queries" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to use Elasticsearch for all search
queries using the latest index</p>
<ul class="simple">
<li><p><strong>true</strong>: Elasticsearch will be used for all search
queries using the latest index. Search results may be
incomplete until a bulk index of the existing post database
is finished.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Database search is used for
search queries.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.EnableSearching:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_ENABLESEARCHING</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-enableautocomplete"></a></section>
<section id="enable-elasticsearch-for-autocomplete-queries">
<h3>Enable Elasticsearch for autocomplete queries<a class="headerlink" href="#enable-elasticsearch-for-autocomplete-queries" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to use Elasticsearch for all
autocompletion queries on users and channels using the
latest index.</p>
<ul class="simple">
<li><p><strong>true</strong>: Elasticsearch will be used for all autocompletion
queries on users and channels using the latest index.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Database autocomplete is used.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.EnableAutocomplete:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_ENABLEAUTOCOMPLETE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Autocompletion results may be incomplete until a bulk index of the existing users and channels database is finished.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-postindexreplicas"></a></section>
<section id="post-index-replicas">
<h3>Post index replicas<a class="headerlink" href="#post-index-replicas" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of replicas to use for each post index.</p>
<p>Numerical input. Default is <strong>1</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.PostIndexReplicas:</span> <span class="pre">1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_POSTINDEXREPLICAS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Important note</strong>: If this setting is changed, the changed configuration only applies to newly-created indexes. To apply the change to
existing indexes, purge and rebuild the index after changing this setting.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-postindexshards"></a></section>
<section id="post-index-shards">
<h3>Post index shards<a class="headerlink" href="#post-index-shards" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of shards to use for each post index.</p>
<p>Numerical input. Default is <strong>1</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.PostIndexShards:</span> <span class="pre">1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_POSTINDEXSHARDS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Important note</strong>: If this setting is changed, the changed configuration only applies to newly-created indexes. To apply the change to
existing indexes, purge and rebuild the index after changing this setting.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-channelindexreplicas"></a></section>
<section id="channel-index-replicas">
<h3>Channel index replicas<a class="headerlink" href="#channel-index-replicas" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of replicas to use for each channel index.</p>
<p>Numerical input. Default is <strong>1</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.ChannelIndexReplicas:</span> <span class="pre">1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_CHANNELINDEXREPLICAS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-channelindexshards"></a></section>
<section id="channel-index-shards">
<h3>Channel index shards<a class="headerlink" href="#channel-index-shards" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of shards to use for each channel index.</p>
<p>Numerical input. Default is <strong>1</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.ChannelIndexShards:</span> <span class="pre">1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_CHANNELINDEXSHARDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-userindexreplicas"></a></section>
<section id="user-index-replicas">
<h3>User index replicas<a class="headerlink" href="#user-index-replicas" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of replicas to use for each user index.</p>
<p>Numerical input. Default is <strong>1</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.UserIndexReplicas:</span> <span class="pre">1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_USERINDEXREPLICAS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-userindexshards"></a></section>
<section id="user-index-shards">
<h3>User index shards<a class="headerlink" href="#user-index-shards" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of shards to use for each user index.</p>
<p>Numerical input. Default is <strong>1</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.UserIndexShards:</span> <span class="pre">1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_USERINDEXSHARDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-aggregatesearchindexes"></a></section>
<section id="aggregate-search-indexes">
<h3>Aggregate search indexes<a class="headerlink" href="#aggregate-search-indexes" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Elasticsearch indexes older than the age specified by this
setting, in days, will be aggregated during the daily
scheduled job.</p>
<p>Numerical input. Default is <strong>365</strong> days.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.AggregatePostsAfterDays:</span> <span class="pre">365&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_AGGREGATEPOSTSAFTERDAYS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: If you’re using <a class="reference external" href="/comply/data-retention-policy.html">data retention</a> and
<a class="reference external" href="/scale/elasticsearch.html">Elasticsearch</a>, configure this with a value greater than your data retention policy.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-postaggregatorstarttime"></a></section>
<section id="post-aggregator-start-time">
<h3>Post aggregator start time<a class="headerlink" href="#post-aggregator-start-time" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The start time of the daily scheduled aggregator job.</p>
<p>Must be a 24-hour time stamp in the form <code class="docutils literal notranslate"><span class="pre">HH:MM</span></code> based on
the local time of the server.</p>
<p>Default is <strong>03:00</strong> (3 AM)</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.PostsAggregatorJobStartTime:</span> <span class="pre">03:00&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_POSTSAGGREGATORJOBSTARTTIME</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-indexprefix"></a></section>
<section id="index-prefix">
<h3>Index prefix<a class="headerlink" href="#index-prefix" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The prefix added to the Elasticsearch index name.</p></td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.IndexPrefix&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_INDEXPREFIX</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: When this setting is used, all Elasticsearch indexes created by Mattermost are given this prefix. You can set different
prefixes so that multiple Mattermost deployments can share an Elasticsearch cluster without the index names colliding.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-liveindexingbatchsize"></a></section>
<section id="live-indexing-batch-size">
<h3>Live indexing batch size<a class="headerlink" href="#live-indexing-batch-size" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of new posts batched together before they’re
added to the Elasticsearch index.</p>
<p>Numerical input. Default is <strong>1</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.LiveIndexingBatchSize:</span> <span class="pre">1&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_LIVEINDEXINGBATCHSIZE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: It may be necessary to increase this value to avoid hitting the rate limit of your Elasticsearch cluster on installs handling
multiple messages per second.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-bulkindexingtimewindow"></a></section>
<section id="bulk-indexing-time-window">
<h3>Bulk indexing time window<a class="headerlink" href="#bulk-indexing-time-window" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum time window, in seconds, for a batch of posts
being indexed by the Bulk Indexer. This setting serves as a
performance optimization for installs with over
~10 million posts in the database.</p>
<p>Numerical input in seconds. Default is <strong>3600</strong> seconds
(1 hour). Approximate this value based on the average number
of seconds for 2,000 posts to be added to the database on a
typical day in production.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Elasticsearch</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.BulkIndexingTimeWindowSeconds:</span> <span class="pre">3600&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_BULKINDEXINGTIMEWINDOWSECONDS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Setting this value too low will cause bulk indexing jobs to run slowly.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-requesttimeout"></a></section>
<section id="request-timeout">
<h3>Request timeout<a class="headerlink" href="#request-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The timeout, in seconds, for Elasticsearch calls.</p>
<p>Numerical input in seconds. Default is <strong>30</strong> seconds.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.RequestTimeoutSeconds</span> <span class="pre">:30&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_REQUESTTIMEOUTSECONDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="elastic-trace"></a></section>
<section id="trace">
<h3>Trace<a class="headerlink" href="#trace" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Options for printing Elasticsearch trace errors.</p>
<ul class="simple">
<li><p><strong>error</strong>: Creates the error trace when initializing
the Elasticsearch client and prints any template creation
or search query that returns an error as part of the
error message.</p></li>
<li><p><strong>all</strong>: Creates the three traces (error, trace and info)
for the driver and doesn’t print the queries because they
will be part of the trace log level of the driver.</p></li>
<li><p><strong>not specified</strong>: <strong>(Default)</strong> No error trace is created.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.Elasticsearchsettings.Trace&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_ELASTICSEARCHSETTINGS_TRACE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="file-storage">
<h2>File storage<a class="headerlink" href="#file-storage" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure file storage settings by going to <strong>System Console &gt; Environment &gt; File Storage</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mattermost currently supports storing files on the local filesystem and Amazon S3 or S3-compatible containers. We have tested Mattermost with <a class="reference external" href="https://min.io/">MinIO</a> and <a class="reference external" href="https://docs.digitalocean.com/products/spaces/">Digital Ocean Spaces</a> products, but not all S3-compatible containers on the market. If you are looking to use other S3-compatible containers, we recommend completing your own testing.</p>
</div>
<a id="file-storagesystem"></a><section id="file-storage-system">
<h3>File storage system<a class="headerlink" href="#file-storage-system" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The type of file storage system used.
Can be either Local File System or Amazon S3.</p>
<ul class="simple">
<li><p><strong>local</strong>: <strong>(Default)</strong> Files and images are stored in
the specified local file directory.</p></li>
<li><p><strong>amazons3</strong>: Files and images are stored on Amazon S3
based on the access key, bucket, and region fields
provided. The driver is compatible with MinIO (beta)
and Digital Ocean Spaces.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.DriverName:</span>&#160; <span class="pre">local”,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_DRIVERNAME</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-localstoragedirectory"></a></section>
<section id="local-storage-directory">
<h3>Local storage directory<a class="headerlink" href="#local-storage-directory" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The local directory to which files are written when the
<strong>File storage system</strong> is set to <strong>local</strong>.
Can be any directory writable by the user Mattermost is
running as, and is relative to the directory where
Mattermost is installed.</p>
<p>Defaults to <strong>./data/</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.Directory”,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_DIRECTORY</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: When <strong>File storage system</strong> is set to <strong>amazons3</strong>, this setting has no effect.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="file-maxfilesize"></a></section>
<section id="maximum-file-size">
<h3>Maximum file size<a class="headerlink" href="#maximum-file-size" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum file size for message attachments.
This value must be specified in megabytes in the
System Console, and in bytes in the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file.</p>
<p>The default is <code class="docutils literal notranslate"><span class="pre">104857600</span></code> bytes (<strong>1</strong> megabyte).</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.MaxFileSize:</span> <span class="pre">104857600&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_MAXFILESIZE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Warning</strong>: Verify server memory can support your setting choice. Large file sizes increase the risk of server crashes and failed
uploads due to network disruptions.</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><strong>Note</strong>: If you use a proxy or load balancer in front of Mattermost, the following proxy settings must be adjusted accordingly:</p>
<ul class="simple">
<li><p>For NGINX, use <code class="docutils literal notranslate"><span class="pre">client_max_body_size</span></code>.</p></li>
<li><p>For Apache use <code class="docutils literal notranslate"><span class="pre">LimitRequestBody</span></code>.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-enabledocsearchbycontent"></a></section>
<section id="enable-document-search-by-content">
<h3>Enable document search by content<a class="headerlink" href="#enable-document-search-by-content" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable users to search the contents of documents attached
to messages.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Documents are searchable by
their content.</p></li>
<li><p><strong>false</strong>: Documents aren’t searchable by their content.
When document content search is disabled, users can search
for files by file name only.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.ExtractContent:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_EXTRACTCONTENT</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Document content search results for files shared before upgrading to Mattermost Server v5.35 may be incomplete until an
extraction command is executed using the <a class="reference external" href="/manage/mmctl-command-line-tool.html?highlight=mmctl#mmctl-extract">mmctl</a>.
If this command is not run, users can search older files based on file name only.</p>
<p>You can optionally install the following <a class="reference external" href="https://github.com/sajari/docconv#dependencies">dependencies</a> to extend content searching support in
Mattermost to include file formats beyond PDF, DOCX, and ODT, such as DOC, RTF, XML, HTML, and PAGES:</p>
<ul class="simple">
<li><p><strong>tidy</strong>: Used to search the contents of HTML and PAGES documents.</p></li>
<li><p><strong>wv</strong>: Used to search the contents of DOC documents.</p></li>
<li><p><strong>popplerutils</strong>: Used to significantly improve server performance when extracting the contents of PDF documents.</p></li>
<li><p><strong>unrtf</strong>: Used to search the contents of RTF documents.</p></li>
<li><p><strong>Justtext</strong>: Used to search HTML documents.</p></li>
</ul>
<p>If you choose not to install these dependencies, you’ll see log entries for documents that couldn’t be extracted.
Any documents that can’t be extracted are skipped and logged so that content extraction can proceed.</p>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-enabledocsearchwithinzipfile"></a></section>
<section id="enable-searching-content-of-documents-within-zip-files">
<h3>Enable searching content of documents within ZIP files<a class="headerlink" href="#enable-searching-content-of-documents-within-zip-files" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enables users to search the contents of compressed ZIP files
attached to messages.</p>
<ul class="simple">
<li><p><strong>true</strong>: Contents of documents within ZIP files are
returned in search results. This may have an impact on
server performance for large files.
the specified local file directory.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> The contents of documents within
ZIP files aren’t returned in search results.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.ArchiveRecursion:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_ARCHIVERECURSION</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Document content search within ZIP files is available, with mobile support coming soon.
Searching document contents adds load to your server. For large deployments, or teams that share many large, text-heavy documents,
we recommend you review our <a class="reference external" href="/install/software-hardware-requirements.html#hardware-requirements">hardware requirements</a>,
and test enabling this feature in a staging environment before enabling it in a production environment.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3bucket"></a></section>
<section id="amazon-s3-bucket">
<h3>Amazon S3 bucket<a class="headerlink" href="#amazon-s3-bucket" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The name of the bucket for your S3-compatible object
storage instance.</p>
<p>A string with the S3-compatible bucket name.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3Bucket&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3BUCKET</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3pathprefix"></a></section>
<section id="amazon-s3-path-prefix">
<h3>Amazon S3 path prefix<a class="headerlink" href="#amazon-s3-path-prefix" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The prefix you selected for your <strong>Amazon S3 bucket</strong> in AWS.</p>
<p>A string containing the path prefix.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3PathPrefix&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3PATHPREFIX</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3region"></a></section>
<section id="amazon-s3-region">
<h3>Amazon S3 region<a class="headerlink" href="#amazon-s3-region" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The AWS region you selected when creating your
<strong>Amazon S3 bucket</strong> in AWS.</p>
<p>A string with the AWS region containing the bucket.
If no region is set, Mattermost attempts to get the
appropriate region from AWS, and sets it to <strong>us-east-1</strong>
if none found.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">`&quot;.FileSettings.AmazonS3Region&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3REGION</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: For MinIO or Digital Ocean Spaces, leave this setting empty.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3accesskeyid"></a></section>
<section id="amazon-s3-access-key-id">
<h3>Amazon S3 access key ID<a class="headerlink" href="#amazon-s3-access-key-id" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>A string with the access key for the S3-compatible storage
instance. Your EC2 administrator can supply you with the
Access Key ID.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3AccessKeyId&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3ACCESSKEYID</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: This is required for access unless you are using an
<a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2_instance-profiles.html">Amazon S3 IAM Role</a> with
Amazon S3.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3endpoint"></a></section>
<section id="amazon-s3-endpoint">
<h3>Amazon S3 endpoint<a class="headerlink" href="#amazon-s3-endpoint" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The hostname of your S3-compatible instance.</p>
<p>A string with the hostname of the S3-compatible storage
instance. Defaults to <strong>s3.amazonaws.com</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3Endpoint:</span> <span class="pre">s3.amazonaws.com&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3ENDPOINT</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: For Digital Ocean Spaces, the hostname should be set to <strong>&lt;region&gt;.digitaloceanspaces.com</strong>, where <strong>&lt;region&gt;</strong> is the abbreviation
for the region you selected when setting up the Space. It can be <strong>nyc3</strong>, <strong>ams3</strong>, or <strong>sgp1</strong>.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3secretaccesskey"></a></section>
<section id="amazon-s3-secret-access-key">
<h3>Amazon S3 secret access key<a class="headerlink" href="#amazon-s3-secret-access-key" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The secret access key associated with your Amazon S3
Access Key ID.</p>
<p>A string with the secret access key for the S3-compatible
storage instance.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3SecretAccessKey&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3SECRETACCESSKEY</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3secureconnection"></a></section>
<section id="enable-secure-amazon-s3-connections">
<h3>Enable secure Amazon S3 connections<a class="headerlink" href="#enable-secure-amazon-s3-connections" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable secure Amazon S3 connections.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Enables only secure Amazon
S3 connections.</p></li>
<li><p><strong>false</strong>: Allows insecure connections to Amazon S3.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3SSL:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3SSL</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3signv2"></a></section>
<section id="amazon-s3-signature-v2">
<h3>Amazon S3 signature v2<a class="headerlink" href="#amazon-s3-signature-v2" title="Link to this heading">#</a></h3>
<p><em>Not available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>By default, Mattermost uses Signature v4 to sign API calls
to AWS, but under some circumstances, v2 is required.</p>
<ul class="simple">
<li><p><strong>true</strong>: Use Signature v2 signing process.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Use Signature v4 signing process.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3SignV2:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3SIGNV2</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="https://docs.aws.amazon.com/general/latest/gr/signature-version-2.html">AWS</a> documentation for information about when to
use the Signature v2 signing process.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3sse"></a></section>
<section id="enable-server-side-encryption-for-amazon-s3">
<h3>Enable server-side encryption for Amazon S3<a class="headerlink" href="#enable-server-side-encryption-for-amazon-s3" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable server-side encryption for Amazon S3.</p>
<ul class="simple">
<li><p><strong>true</strong>: Encrypts files in Amazon S3 using server-side
encryption with Amazon S3-managed keys.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Doesn’t encrypt files in
Amazon S3.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3SSE:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3SSE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-s3trace"></a></section>
<section id="enable-amazon-s3-debugging">
<h3>Enable Amazon S3 debugging<a class="headerlink" href="#enable-amazon-s3-debugging" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable Amazon S3 debugging to capture additional
debugging information in system logs</p>
<ul class="simple">
<li><p><strong>true</strong>: Log additional debugging information is logged
to the system logs.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> No Amazon S3 debugging information
is included in the system logs. Typically set to <strong>false</strong>
in production.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; File Storage</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3Trace:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3TRACE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>Select the <strong>Test Connection</strong> button in the System Console to validate the settings and ensure the user can access the server.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="file-initialfont"></a></section>
<section id="initial-font">
<h3>Initial font<a class="headerlink" href="#initial-font" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The font used in auto-generated profile pictures with colored
backgrounds and username initials.</p>
<p>A string with the font file name. Default is
<strong>nunito-bold.ttf</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.InitialFont:</span> <span class="pre">nunito-bold.ttf&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_INITIALFONT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="file-amazons3requesttimeoutmilliseconds"></a></section>
<section id="amazon-s3-request-timeout">
<h3>Amazon S3 request timeout<a class="headerlink" href="#amazon-s3-request-timeout" title="Link to this heading">#</a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The amount of time, in milliseconds, before requests to
Amazon S3 storage time out.</p>
<p>Default is 30000 (30 seconds).</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.FileSettings.AmazonS3RequestTimeoutMilliseconds:</span> <span class="pre">30000</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_FILESETTINGS_AMAZONS3REQUESTTIMEOUTMILLISECONDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="image-proxy">
<h2>Image proxy<a class="headerlink" href="#image-proxy" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>An image proxy is used by Mattermost apps to prevent them from connecting directly to remote self-hosted servers. Configure an image proxy by going to <strong>System Console &gt; Environment &gt; Image Proxy</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables.</p>
<a id="image-enableproxy"></a><section id="enable-image-proxy">
<h3>Enable image proxy<a class="headerlink" href="#enable-image-proxy" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>An image proxy anonymizes Mattermost app connections and
prevents them from accessing insecure content.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Enables an image proxy for loading
external images.</p></li>
<li><p><strong>false</strong>: Disables the image proxy.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Image Proxy</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ImageProxySettings.Enable&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_IMAGEPROXYSETTINGS_ENABLE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="/deploy/image-proxy.html">image proxy</a> documentation to learn more.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="image-proxytype"></a></section>
<section id="image-proxy-type">
<h3>Image proxy type<a class="headerlink" href="#image-proxy-type" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The type of image proxy used by Mattermost.</p>
<ul class="simple">
<li><p><strong>local</strong>: <strong>(Default)</strong> The Mattermost server itself acts
as the image proxy.</p></li>
<li><p><strong>atmos/camo</strong>: An external atmos/camo image proxy is used.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Image Proxy</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ImageProxySettings.ImageProxyType&quot;:</span> <span class="pre">&quot;local&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_IMAGEPROXYSETTINGS_IMAGEPROXYTYPE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="/deploy/image-proxy.html">image proxy</a> documentation to learn more.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="image-remoteimageproxyurl"></a></section>
<section id="remote-image-proxy-url">
<h3>Remote image proxy URL<a class="headerlink" href="#remote-image-proxy-url" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The URL of the atmos/camo proxy. This setting isn’t needed
when using the <strong>local</strong> image proxy.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Image Proxy</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ImageProxySettings.RemoteImageProxyURL&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_IMAGEPROXYSETTINGS_REMOTEIMAGEPROXYURL</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="image-remoteimageproxyoptions"></a></section>
<section id="remote-image-proxy-options">
<h3>Remote image proxy options<a class="headerlink" href="#remote-image-proxy-options" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The URL signing key passed to an atmos/camo image proxy.
This setting isn’t needed when using the <strong>local</strong> image
proxy type.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Image Proxy</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ImageProxySettings.RemoteImageProxyOptions&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_IMAGEPROXYSETTINGS_REMOTEIMAGEPROXYOPTIONS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="/deploy/image-proxy.html">image proxy</a> documentation to learn more.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="smtp">
<h2>SMTP<a class="headerlink" href="#smtp" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure SMTP email server settings by going to <strong>System Console &gt; Environment &gt; SMTP</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables.</p>
<a id="smtp-server"></a><section id="smtp-server">
<h3>SMTP server<a class="headerlink" href="#smtp-server" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The location of the SMTP email server used for email
notifications.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.SMTPServer&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_SMTPSERVER</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-port"></a></section>
<section id="smtp-server-port">
<h3>SMTP server port<a class="headerlink" href="#smtp-server-port" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The port of SMTP email server.</p>
<p>Numerical input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.SMTPPort&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_SMTPPORT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-enableauth"></a></section>
<section id="enable-smtp-authentication">
<h3>Enable SMTP authentication<a class="headerlink" href="#enable-smtp-authentication" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable SMTP authentication.</p>
<ul class="simple">
<li><p><strong>true</strong>: SMTP username and password are used for
authenticating to the SMTP server.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Mattermost doesn’t attempt to
authenticate to the SMTP server.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.EnableSMTPAuth&quot;:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_ENABLESMTPAUTH</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-username"></a></section>
<section id="smtp-server-username">
<h3>SMTP server username<a class="headerlink" href="#smtp-server-username" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The username for authenticating to the SMTP server.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.SMTPUsername&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_SMTPUSERNAME</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-password"></a></section>
<section id="smtp-server-password">
<h3>SMTP server password<a class="headerlink" href="#smtp-server-password" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The password associated with the SMTP username.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.SMTPPassword&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_SMTPPASSWORD</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-connectionsecurity"></a></section>
<section id="smtp-connection-security">
<h3>SMTP connection security<a class="headerlink" href="#smtp-connection-security" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Specify connection security for emails sent using SMTP.</p>
<ul class="simple">
<li><p><strong>Not specified</strong>: <strong>(Default)</strong> Send email over an
unsecure connection.</p></li>
<li><p><strong>TLS</strong>: Communication between Mattermost and your email
server is encrypted.</p></li>
<li><p><strong>STARTTLS</strong>: Attempts to upgrade an existing insecure
connection to a secure connection using TLS.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.ConnectionSecurity&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_CONNECTIONSECURITY</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-skipservercertverification"></a></section>
<section id="skip-server-certificate-verification">
<h3>Skip server certificate verification<a class="headerlink" href="#skip-server-certificate-verification" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to skip the verification of the email server
certificate.</p>
<ul class="simple">
<li><p><strong>true</strong>: Mattermost won’t verify the email server certificate.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Mattermost verifies the email
server certificate.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.SkipServerCertificateVerification&quot;:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_SKIPSERVERCERTIFICATEVERIFICATION</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-enablesecurityalerts"></a></section>
<section id="enable-security-alerts">
<h3>Enable security alerts<a class="headerlink" href="#enable-security-alerts" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable security alerts.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> System Admins are notified by email
if a relevant security fix alert is announced. Requires email
to be enabled.</p></li>
<li><p><strong>false</strong>: Security alerts are disabled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.EnableSecurityFixAlert&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_ENABLESECURITYFIXALERT</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="/manage/telemetry.html#security-update-check-feature">Telemetry</a> documentation to learn more.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="smtp-servertimeout"></a></section>
<section id="smtp-server-timeout">
<h3>SMTP server timeout<a class="headerlink" href="#smtp-server-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum amount of time, in seconds, allowed for
establishing a TCP connection between Mattermost and the SMTP
server.</p>
<p>Numerical value in seconds.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; SMTP</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.SMTPServerTimeout&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_SMTPSERVERTIMEOUT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="push-notification-server">
<h2>Push notification server<a class="headerlink" href="#push-notification-server" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure Mattermost to enable push notifications to Mattermost clients by going to <strong>System Console &gt; Environment &gt; Push Notification Server</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="push-enablenotifications"></a><section id="enable-push-notifications">
<h3>Enable push notifications<a class="headerlink" href="#enable-push-notifications" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable Mattermost push notifications.</p>
<ul class="simple">
<li><p><strong>Do not send push notifications</strong>: Mobile push notifications
are disabled.</p></li>
<li><p><strong>Use HPNS connection with uptime SLA to send notifications
to iOS and Android apps</strong>: <strong>(Default)</strong> Use Mattermost’s
<a class="reference external" href="/deploy/mobile-hpns.htmlpush-notifications-service-hpns">hosted push notification service</a>.</p></li>
<li><p><strong>Use TPNS connection to send notifications to iOS and
Android apps</strong>: Use Mattermost’s <a class="reference external" href="/deploy/mobile-hpns.html#test-push-notifications-service-tpns">test push notification
service</a>.</p></li>
<li><p><strong>Manually enter Push Notification Service location</strong>:
When building your own custom mobile apps, you must <a class="reference external" href="/deploy/mobile-hpns.html#host-your-own-push-proxy-service">host
your own mobile push proxy service</a>, and specify that
URL in the <strong>Push Notification Server</strong> field.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Push Notification Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.SendPushNotifications&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_SENDPUSHNOTIFICATIONS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>Mattermost Enterprise, Professional, and Cloud customers can use Mattermost’s SLA-bound Hosted Push Notification Service (HPNS) in one of two
of two locations, including the United States and Germany. Mattermost Team Edition customers can use Mattermost’s Test Push Notification
server (TPNS).</p></li>
<li><p>The TPNS is provided for testing push notifications prior to compiling your own service, and isn’t available for Mattermost Cloud deployments.
Ensure you’re familiar with its <a class="reference external" href="/deploy/mobile-hpns.html#test-push-notifications-service-tpns">limitations</a>.</p></li>
<li><p>Review the <a class="reference external" href="/deploy/mobile-hpns.html">mobile push notifications</a> and <a class="reference external" href="/deploy/build-custom-mobile-apps.html">mobile apps</a> documentation,
including guidance on compiling your own mobile apps and MPNS, before deploying to production.</p></li>
<li><p>To confirm push notifications are working, connect to the <a class="reference external" href="https://apps.apple.com/us/app/mattermost/id1257222717">Mattermost iOS App</a>
available on the App Store, or the <a class="reference external" href="https://play.google.com/store/apps/details?id=com.mattermost.rn">Mattermost Android App</a> available on
Google Play.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="push-serverlocation"></a></section>
<section id="push-notification-server-location">
<h3>Push notification server location<a class="headerlink" href="#push-notification-server-location" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The physical location of the Mattermost Hosted Push
Notification Service (HPNS) server.</p>
<p>Select from <strong>US</strong> <strong>(Default)</strong> or <strong>Germany</strong> to
automatically populate the <strong>Push Notification Server</strong>
field server URL.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Push Notification Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.EmailSettings.PushNotificationServer&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_PUSHNOTIFICATIONSERVER</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="push-maxnotificationsperchannel"></a></section>
<section id="maximum-notifications-per-channel">
<h3>Maximum notifications per channel<a class="headerlink" href="#maximum-notifications-per-channel" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum total number of users in a channel before &#64;all,
&#64;here, and &#64;channel no longer send desktop, email, or mobile
push notifications to maximize performance.</p>
<p>Numerical input. Default is <strong>1000</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Push Notification Server</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.TeamSettings.MaxNotificationsPerChannel:</span> <span class="pre">1000&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_EMAILSETTINGS_MAXNOTIFICATIONSPERCHANNEL</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: We recommend increasing this value a little at a time, monitoring system health by tracking <a class="reference external" href="/scale/performance-monitoring.html">performance monitoring metrics</a>, and only increasing this value if large channels have restricted permissions
controlling who can post to the channel, such as a read-only Town Square channel.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="high-availability">
<h2>High availability<a class="headerlink" href="#high-availability" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>You can configure Mattermost as a <a class="reference external" href="/scale/high-availability-cluster.html">high availability environment</a> by going to <strong>System Console &gt; Environment &gt; High Availability</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<p>In a Mattermost high availability cluster deployment, the System Console is set to read-only, and settings can only be changed by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file directly. However, to test a high availability environment, you can disable <code class="docutils literal notranslate"><span class="pre">ClusterSettings.ReadOnlyConfig</span></code> in the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file by setting it to <code class="docutils literal notranslate"><span class="pre">false</span></code>. This allows changes applied using the System Console to be saved back to the configuration file.</p>
<a id="ha-enable"></a><section id="enable-high-availability-mode">
<h3>Enable high availability mode<a class="headerlink" href="#enable-high-availability-mode" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>You can enable high availability mode.</p>
<ul class="simple">
<li><p><strong>true</strong>: The Mattermost server will attempt inter-node
communication with the other servers in the cluster that
have the same cluster name. This sets the System Console to
read-only mode to keep the servers’ <code class="docutils literal notranslate"><span class="pre">config.json</span></code> files
in sync.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Mattermost high availability mode
is disabled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.Enable&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_ENABLE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-clustername"></a></section>
<section id="cluster-name">
<h3>Cluster name<a class="headerlink" href="#cluster-name" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The cluster to join by name in a high availability environment.</p>
<p>Only nodes with the same cluster name will join together.
This is to support blue-green deployments or staging pointing
to the same database.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.ClusterName&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_CLUSTERNAME</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-overridehostname"></a></section>
<section id="override-hostname">
<h3>Override hostname<a class="headerlink" href="#override-hostname" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>You can override the hostname of this server.</p>
<ul class="simple">
<li><p>This property can be set to a specific IP address if needed;
however, we don’t recommend overriding the hostname unless
it’s necessary.</p></li>
<li><p>If left blank, Mattermost attempts to get the hostname from
the operating system or uses the IP address.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.OverrideHostname&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_OVERRIDEHOSTNAME</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="/scale/high-availability-cluster.html">high availability cluster</a> documentation for details.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="ha-useipaddress"></a></section>
<section id="use-ip-address">
<h3>Use IP address<a class="headerlink" href="#use-ip-address" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>You can configure your high availability environment to
communicate using the hostname instead of the IP address.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> The cluster attempts to communicate
using the IP address specified.</p></li>
<li><p><strong>false</strong>: The cluster attempts to communicate using the
hostname.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.UseIPAddress:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_USEIPADDRESS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-usegossip"></a></section>
<section id="use-gossip">
<h3>Use gossip<a class="headerlink" href="#use-gossip" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>All cluster traffic uses the gossip protocol.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> The server attempts to communicate
via the gossip protocol over the gossip port specified.</p></li>
<li><p><strong>false</strong>: The server attempts to communicate over the
streaming port.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.UseExperimentalGossip:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_USEEXPERIMENTALGOSSIP</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>Gossip clustering can no longer be disabled.</p></li>
<li><p>The gossip port and gossip protocol are used to determine cluster health even when this setting is set to <strong>false</strong>.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-gossipencryption"></a></section>
<section id="enable-experimental-gossip-encryption">
<h3>Enable experimental gossip encryption<a class="headerlink" href="#enable-experimental-gossip-encryption" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Gossip encryption uses AES-256 by default, and this value isn’t
configurable by design.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default for Cloud deployments)</strong>
All communication through the cluster using the gossip
protocol will be encrypted.</p></li>
<li><p><strong>false</strong>: <strong>(Default for self-hosted deployments)</strong>
All communication using gossip protocol remains unchanged.
protocol remains unencrypted.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.EnableExperimentalGossipEncryption:</span> <span class="pre">false”,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_ENABLEEXPERIMENTALGOSSIPENCRYPTION</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: Alternatively, you can manually set the <code class="docutils literal notranslate"><span class="pre">ClusterEncryptionKey</span></code> row value in the <strong>Systems</strong> table. A key is a byte array converted to base64.
Set this value to either 16, 24, or 32 bytes to select AES-128, AES-192, or AES-256 respectively.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="ha-gossipcompression"></a></section>
<section id="enable-gossip-compression">
<h3>Enable gossip compression<a class="headerlink" href="#enable-gossip-compression" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>We recommend that you disable this configuration
setting for better performance.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default for self-hosted deployments)</strong>
All communication through the cluster uses gossip
compression. This setting is enabled by default to maintain
compatibility with older servers.</p></li>
<li><p><strong>false</strong>: <strong>(Default for Cloud deployments)</strong>
All communication using the gossip protocol remains
uncompressed.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.EnableGossipCompression:</span> <span class="pre">true”,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_ENABLEGOSSIPCOMPRESSION</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-gossipport"></a></section>
<section id="gossip-port">
<h3>Gossip port<a class="headerlink" href="#gossip-port" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The port used for the gossip protocol. Both UDP and TCP
should be allowed on this port.</p>
<p>Numerical input. Default is <strong>8074</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.GossipPort:</span> <span class="pre">8074”,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_GOSSIPPORT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-streamingport"></a></section>
<section id="streaming-port">
<h3>Streaming port<a class="headerlink" href="#streaming-port" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The port used for streaming data between servers.</p>
<p>Numerical input. Default is <strong>8075</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; High Availability</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.StreamingPort:</span> <span class="pre">8075&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_STREAMINGPORT</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-readonlyconfig"></a></section>
<section id="read-only-config">
<h3>Read only config<a class="headerlink" href="#read-only-config" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Changes made to settings in the
System Console are ignored.</p></li>
<li><p><strong>false</strong>: Changes made to settings in the System Console
are written to <code class="docutils literal notranslate"><span class="pre">config.json</span></code>.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.ReadOnlyConfig:</span> <span class="pre">true,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_READONLYCONFIG</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-networkinterface"></a></section>
<section id="network-interface">
<h3>Network interface<a class="headerlink" href="#network-interface" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>An IP address used to identify the device that does automatic
IP detection in high availability clusters.</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.NetworkInterface:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_NETWORKINTERFACE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-bindaddress"></a></section>
<section id="bind-address">
<h3>Bind address<a class="headerlink" href="#bind-address" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>An IP address used to bind cluster traffic to a specific
network device.</p>
<p>This setting is used primarily for servers with multiple
network devices or different Bind Address and Advertise Address
like in deployments that involve NAT (Network Address
Translation).</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.BindAddress:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_BINDADDRESS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-advertiseaddress"></a></section>
<section id="advertise-address">
<h3>Advertise address<a class="headerlink" href="#advertise-address" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The IP address used to access the server from other nodes.
This settings is used primary when cluster nodes are not in
the same network and involve NAT (Network Address Translation).</p>
<p>String input.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.AdvertiseAddress:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_ADVERTISEADDRESS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-maxidleconnections"></a></section>
<section id="maximum-idle-connections-for-high-availability">
<h3>Maximum idle connections for high availability<a class="headerlink" href="#maximum-idle-connections-for-high-availability" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum number of idle connections held open from one
server to all others in the cluster.</p>
<p>Numerical input. Default is <strong>100</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.MaxIdleConns:</span> <span class="pre">100,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_MAXIDLECONNS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-maxidleconnectionsperhost"></a></section>
<section id="maximum-idle-connections-per-host">
<h3>Maximum idle connections per host<a class="headerlink" href="#maximum-idle-connections-per-host" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum number of idle connections held open from one
server to another server in the cluster.</p>
<p>Numerical input. Default is <strong>128</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.MaxIdleConnsPerHost:</span> <span class="pre">128&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_MAXIDLECONNSPERHOST</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ha-idleconnectiontimeout"></a></section>
<section id="idle-connection-timeout">
<h3>Idle connection timeout<a class="headerlink" href="#idle-connection-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The amount of time, in milliseconds, to leave an idle
connection open between servers in the cluster.</p>
<p>Numerical input. Default is <strong>90000</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ClusterSettings.IdleConnTimeoutMilliseconds:</span> <span class="pre">90000&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_CLUSTERSETTINGS_IDLECONNTIMEOUTMILLISECONDS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="rate-limiting">
<h2>Rate limiting<a class="headerlink" href="#rate-limiting" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Rate limiting prevents your Mattermost server from being overloaded with too many requests, and decreases the risk and impact of third-party applications or malicious attacks on your server. Configure rate limiting settings by going to <strong>System Console &gt; Environment &gt; Rate Limiting</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="ratelimit-enableratelimiting"></a><section id="enable-rate-limiting">
<h3>Enable rate limiting<a class="headerlink" href="#enable-rate-limiting" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable rate limiting to throttle APIs to a
specified number of requests per second.</p>
<ul class="simple">
<li><p><strong>true</strong>: APIs are throttled at the rate specified by the
<a class="reference external" href="#maximum-queries-per-second">Maximum queries per second</a>
configuration setting.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> API access isn’t throttled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Rate Limiting</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.RateLimitSettings.Enable:</span> <span class="pre">false”,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_RATELIMITSETTINGS_ENABLE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ratelimit-maxpersecond"></a></section>
<section id="maximum-queries-per-second">
<h3>Maximum queries per second<a class="headerlink" href="#maximum-queries-per-second" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Throttle the API at this number of requests per second when
<a class="reference external" href="#enable-rate-limiting">rate limiting</a> is enabled.</p>
<p>Numerical input. Default is <strong>10</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Rate Limiting</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.RateLimitSettings.PerSec:</span> <span class="pre">10,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_RATELIMITSETTINGS_PERSEC</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ratelimit-maxburst"></a></section>
<section id="maximum-burst-size">
<h3>Maximum burst size<a class="headerlink" href="#maximum-burst-size" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum number of requests allowed beyond the per second
query limit when <a class="reference external" href="#enable-rate-limiting">rate limiting</a>
is enabled.</p>
<p>Numerical input. Default is <strong>100</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Rate Limiting</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.RateLimitSettings.MaxBurst:</span> <span class="pre">100,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_RATELIMITSETTINGS_MAXBURST</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ratelimit-memorystoresize"></a></section>
<section id="memory-store-size">
<h3>Memory store size<a class="headerlink" href="#memory-store-size" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The maximum number of user sessions connected to the system as
determined by vary rate limit settings when
<a class="reference external" href="#enable-rate-limiting">rate limiting</a> is enabled.</p>
<p>Numerical input. Default is <strong>10000</strong>. Typically set to the
number of users in the system.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Rate Limiting</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.RateLimitSettings.MemoryStoreSize:</span> <span class="pre">10000,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_RATELIMITSETTINGS_MEMORYSTORESIZE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ratelimit-varybyremoteaddress"></a></section>
<section id="vary-rate-limit-by-remote-address">
<h3>Vary rate limit by remote address<a class="headerlink" href="#vary-rate-limit-by-remote-address" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to rate limit API access by IP address
when <a class="reference external" href="#enable-rate-limiting">rate limiting</a> is enabled.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Rate limit API access by IP address.
Recommended when using a proxy.</p></li>
<li><p><strong>false</strong>: Rate limiting does not vary by IP address.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Rate Limiting</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.RateLimitSettings.VaryByRemoteAddr:</span> <span class="pre">true,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_RATELIMITSETTINGS_VARYBYREMOTEADDR</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ratelimit-varybyuser"></a></section>
<section id="vary-rate-limit-by-user">
<h3>Vary rate limit by user<a class="headerlink" href="#vary-rate-limit-by-user" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to rate limit API access by authentication
token or not when <a class="reference external" href="#enable-rate-limiting">rate limiting</a>
is enabled.</p>
<ul class="simple">
<li><p><strong>true</strong>: Rate limit API access by user authentication token.
Recommended when using a proxy.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Rate limiting does not vary by user
authentication token.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Rate Limiting</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.RateLimitSettings.VaryByUser:</span> <span class="pre">false,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_RATELIMITSETTINGS_VARYBYUSER</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="ratelimit-varybyhttpheader"></a></section>
<section id="vary-rate-limit-by-http-header">
<h3>Vary rate limit by HTTP header<a class="headerlink" href="#vary-rate-limit-by-http-header" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to vary rate limiting API access
by the HTTP header field specified. Recommended when you’re
using a proxy.</p>
<ul class="simple">
<li><p>When configuring NGINX, set this to <strong>X-Real-IP</strong>.</p></li>
<li><p>When configuring AmazonELB, set this to <strong>X-Forwarded-For</strong>.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Rate Limiting</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.RateLimitSettings.VaryByHeader:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_RATELIMITSETTINGS_VARYBYHEADER</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure logging by going to <strong>System Console &gt; Environment &gt; Logging</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="log-enableconsole"></a><section id="output-logs-to-console">
<h3>Output logs to console<a class="headerlink" href="#output-logs-to-console" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to output logs to the
console.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Output log messages
are written to the console based on the
<a class="reference external" href="#console-log-level">console log level</a>
configuration. The server writes messages
to the standard output stream (stdout).</p></li>
<li><p><strong>false</strong>: Output log messages aren’t
written to the console.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.EnableConsole&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_ENABLECONSOLE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-consolelevel"></a></section>
<section id="console-log-level">
<h3>Console log level<a class="headerlink" href="#console-log-level" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The level of detail in log events written
when Mattermost outputs log messages to the
console.</p>
<ul class="simple">
<li><p><strong>DEBUG</strong>: <strong>(Default)</strong> Outputs verbose
detail for developers debugging issues.</p></li>
<li><p><strong>ERROR</strong>: Outputs only error messages.</p></li>
<li><p><strong>INFO</strong>: Outputs error messages and
information around startup and
initialization.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.ConsoleLevel&quot;:</span> <span class="pre">DEBUG&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_CONSOLELEVEL</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-consolejson"></a></section>
<section id="output-console-logs-as-json">
<h3>Output console logs as JSON<a class="headerlink" href="#output-console-logs-as-json" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to output console logs
as JSON.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Logged events are
written in a machine-readable JSON format.
Typically set to <strong>true</strong> in production.</p></li>
<li><p><strong>false</strong>: Logged events are written in
plain text.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.ConsoleJson&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_CONSOLEJSON</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-enablefile"></a></section>
<section id="output-logs-to-file">
<h3>Output logs to file<a class="headerlink" href="#output-logs-to-file" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to output console logs
to a file.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Logged events are
written based on the
<a class="reference external" href="#file-log-level">file log level</a>
configuration to a <code class="docutils literal notranslate"><span class="pre">mattermost.log</span></code> file
located in the directory configured via
file location. Typically set to <strong>true</strong>
in production.</p></li>
<li><p><strong>false</strong>: Logged events aren’t written to
a file.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.EnableFile&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_ENABLEFILE</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-filelevel"></a></section>
<section id="file-log-level">
<h3>File log level<a class="headerlink" href="#file-log-level" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The level of detail in log events when
Mattermost outputs log messages to a file.</p>
<ul class="simple">
<li><p><strong>DEBUG</strong>: Outputs verbose detail for
developers debugging issues.</p></li>
<li><p><strong>ERROR</strong>: Outputs only error messages.</p></li>
<li><p><strong>INFO</strong>: <strong>(Default)</strong> Outputs error
messages and information around startup
and initialization.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.FileLevel&quot;:</span> <span class="pre">INFO&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_FILELEVEL</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-filejson"></a></section>
<section id="output-file-logs-as-json">
<h3>Output file logs as JSON<a class="headerlink" href="#output-file-logs-as-json" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to output file logs as
JSON.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Logged events are
written in a machine-readable JSON format.
Typically set to <strong>true</strong> in production.</p></li>
<li><p><strong>false</strong>: Logged events are written in
plain text.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.FileJson&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_FILEJSON</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-filelocation"></a></section>
<section id="file-log-directory">
<h3>File log directory<a class="headerlink" href="#file-log-directory" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The location of the log files.</p>
<p>String input. If left blank, log files are
stored in the <code class="docutils literal notranslate"><span class="pre">./logs</span></code> directory.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.FileLocation&quot;:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_FILELOCATION</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: The path you configure must exist, and Mattermost must have write permissions for this directory.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="log-enablewebhookdebug"></a></section>
<section id="enable-webhook-debugging">
<h3>Enable webhook debugging<a class="headerlink" href="#enable-webhook-debugging" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to capture the contents
of incoming webhooks to log files for
debugging.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> The contents of
incoming webhooks are printed to log files
for debugging.</p></li>
<li><p><strong>false</strong>: The contents of incoming
webhooks aren’t printed to log files.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.EnableWebhookDebugging&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_ENABLEWEBHOOKDEBUGGING</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-advancedloggingjson"></a></section>
<section id="enable-diagnostics-and-error-reporting">
<h3>Enable diagnostics and error reporting<a class="headerlink" href="#enable-diagnostics-and-error-reporting" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to allow any combination
of console, local file, syslog, and TCP
socket targets, and send log records to
multiple targets.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.AdvancedLoggingJSON&quot;:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_ADVANCEDLOGGINGJSON</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="log-multipletargetoutput"></a></section>
<section id="output-logs-to-multiple-targets">
<h3>Output logs to multiple targets<a class="headerlink" href="#output-logs-to-multiple-targets" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Configure Mattermost to allow any combination
of console, local file, syslog, and TCP
socket targets, and send log records to
multiple targets.</p>
<p>String input can contain a filespec to
another configuration file, a database DSN,
or JSON.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Logging</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.LogSettings.AdvancedLoggingJSON&quot;:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_LOGSETTINGS_ADVANCEDLOGGINGJSON</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>These targets have been chosen as they support the vast majority of log aggregators, and other log analysis tools,
without needing additional software installed.</p></li>
<li><p>Logs are recorded asynchronously to reduce latency to the caller.</p></li>
<li><p>Advanced logging supports hot-reloading of logger configuration.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td colspan="2"><p>See the <a class="reference internal" href="../comply/audit-log.html"><span class="doc">audit log v2</span></a> documentation for additional information.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="log-lockteammatenamedisplay"></a></section>
<section id="teammate-name-display">
<h3>Teammate name display<a class="headerlink" href="#teammate-name-display" title="Link to this heading">#</a></h3>
<div class="mm-badge mm-badge--note"><p>Note</p>
<p><img alt="plans-img-yellow" class="mm-badge-flag" src="../_images/flag_icon_yellow.svg" /> Available only on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise</a> plans</p>
</div><p><em>Available in legacy Enterprise Edition E20</em></p>
<p>This setting isn’t available in the System Console and can only be set in <code class="docutils literal notranslate"><span class="pre">config.json</span></code>.</p>
<p>Control Teammate Name Display at the system level.</p>
<p><strong>True</strong>: Allows System Admins to control Teammate Name Display at the system level.</p>
<p><strong>False</strong>: System Admins cannot control Teammate Name Display at the system level.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>This feature’s <code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting is <code class="docutils literal notranslate"><span class="pre">&quot;LockTeammateNameDisplay&quot;</span></code> with options <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="log-enablecolor"></a></section>
<section id="colorize-plain-text-console-logs">
<h3>Colorize plain text console logs<a class="headerlink" href="#colorize-plain-text-console-logs" title="Link to this heading">#</a></h3>
<p>This setting isn’t available in the System Console and can only be set in <code class="docutils literal notranslate"><span class="pre">config.json</span></code>.</p>
<p><strong>True</strong>: When logged events are output to the console as plain text, colorize log levels details.</p>
<p><strong>False</strong>: Plain text log details aren’t colorized in the console.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>This feature’s <code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting is <code class="docutils literal notranslate"><span class="pre">&quot;EnableColor&quot;:</span> <span class="pre">false</span></code> with options <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="session-lengths">
<h2>Session lengths<a class="headerlink" href="#session-lengths" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>User sessions are cleared when a user tries to log in, and sessions are cleared every 24 hours from the sessions database table. Configure session lengths by going to <strong>System Console &gt; Environment &gt; Session Lengths</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="sessionlength-extendwithactivity"></a><section id="extend-session-length-with-activity">
<h3>Extend session length with activity<a class="headerlink" href="#extend-session-length-with-activity" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Improves the user experience by extending sessions and keeping
users logged in if they are active in their Mattermost apps.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Sessions are automatically
extended when users are active in their Mattermost
client. User sessions only expire when users aren’t active
in their Mattermost client for the entire duration of the
session lengths defined.</p></li>
<li><p><strong>false</strong>: Sessions won’t extend with activity in
Mattermost. User sessions immediately expire at the
end of the session length or based on the
<a class="reference external" href="#session-idle-timeout">session idle timeout</a> configured.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Session Lengths</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.ExtendSessionLengthWithActivity:</span> <span class="pre">true,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_EXTENDSESSONLENGTHWITHACTIVITY</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="sessionlength-webinhours"></a></section>
<section id="session-length-for-ad-ldap-and-email">
<h3>Session length for AD/LDAP and email<a class="headerlink" href="#session-length-for-ad-ldap-and-email" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Set the number of hours counted from the last time a user
entered their credentials into the web app or the desktop
app to the expiry of the user’s session on email and AD/LDAP
authentication.</p>
<p>Numerical input in hours. Default is <strong>720</strong> hours.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Session Lengths</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.SessionLengthWebInHours:</span> <span class="pre">720,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_SESSONLENGTHWEBINHOURS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: After changing this setting, the new session length takes effect after the next time the user enters their credentials.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="sessionlength-mobileinhours"></a></section>
<section id="session-length-for-mobile">
<h3>Session length for mobile<a class="headerlink" href="#session-length-for-mobile" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Set the number of hours counted from the last time a user
entered their credential into the mobile app to the expiry
of the user’s session.</p>
<p>Numerical input in hours. Default is <strong>720</strong> hours.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Session Lengths</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.SessionLengthMobileInHours:</span> <span class="pre">720,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_SESSONLENGTHMOBILEINHOURS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Note</strong>: After changing this setting, the new session length takes effect after the next time the user enters their credentials.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="sessionlength-ssoinhours"></a></section>
<section id="session-length-for-sso">
<h3>Session length for SSO<a class="headerlink" href="#session-length-for-sso" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Set the number of hours from the last time a user entered
their SSO credentials to the expiry of the user’s session.
This setting defines the session length for SSO
authentication, such as SAML, GitLab, and OAuth 2.0.</p>
<p>Numerical input in hours. Default is <strong>720</strong> hours.
Numbers as decimals are also valid values for this
configuration setting.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Session Lengths</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.SessionLengthSSOInHours:</span> <span class="pre">720,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_SESSONLENGTHSSOINHOURS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>After changing this setting, the new session length takes effect after the next time the user enters their credentials.</p></li>
<li><p>If the authentication method is SAML, GitLab, or OAuth 2.0, users may automatically be logged back in to Mattermost if they are already logged
in to SAML, GitLab, or with OAuth 2.0.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="sessionlength-sessioncache"></a></section>
<section id="session-cache">
<h3>Session cache<a class="headerlink" href="#session-cache" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Set the number of minutes to cache a session in memory.</p>
<p>Numerical input in minutes. Default is <strong>10</strong> minutes.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Session Lengths</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.SessionCacheInMinutes:</span> <span class="pre">10,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_SESSONCACHEINMINUTES</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="sessionlength-sessionidletimeout"></a></section>
<section id="session-idle-timeout">
<h3>Session idle timeout<a class="headerlink" href="#session-idle-timeout" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The number of minutes from the last time a user was active
on the system to the expiry of the user’s session.
Once expired, the user will need to log in to continue.</p>
<p>Numerical input in minutes. Default is <strong>43200</strong> (30 days).
Minimum value is <strong>5</strong> minutes, and a value of <strong>0</strong> sets
the time as unlimited.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: N/A</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.SessionIdleTimeoutInMinutes:</span> <span class="pre">43200,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_SESSONIDLETIMEOUTINMINUTES</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>This setting has no effect when <a class="reference external" href="#extend-session-length-with-activity">extend session length with activity</a> is set to <strong>true</strong>.</p></li>
<li><p>This setting applies to the webapp and the desktop app. For mobile apps, use an
<a class="reference external" href="/deploy/deploy-mobile-apps-using-emm-provider.html">EMM provider</a> to lock the app when not in use.</p></li>
<li><p>In <a class="reference external" href="/scale/high-availability-cluster.html">high availability mode</a>, enable IP hash load balancing for reliable
timeout measurement.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="performance-monitoring">
<h2>Performance monitoring<a class="headerlink" href="#performance-monitoring" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">Enterprise plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure performance monitoring by going to <strong>System Console &gt; Environment &gt; Performance Monitoring</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="perf-enablemonitoring"></a><section id="enable-performance-monitoring">
<h3>Enable performance monitoring<a class="headerlink" href="#enable-performance-monitoring" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable performance monitoring.</p>
<ul class="simple">
<li><p><strong>true</strong>: Performance monitoring data
collection and profiling is enabled.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Mattermost
performance monitoring is disabled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Performance Monitoring</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.MetricsSettings.Enable&quot;:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_METRICSSETTINGS_ENABLE</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="/scale/performance-monitoring.html">performance monitoring</a> documentation
to learn more.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="perf-listenaddress"></a></section>
<section id="listen-address-for-performance">
<h3>Listen address for performance<a class="headerlink" href="#listen-address-for-performance" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>The port the Mattermost server will listen on to expose
performance metrics, when enabled.</p>
<p>Numerical input. Default is <strong>8067</strong>.</p>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Performance Monitoring</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.MetricsSettings.ListenAddress&quot;:</span> <span class="pre">8067&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_METRICSSETTINGS_LISTENADDRESS</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="developer">
<h2>Developer<a class="headerlink" href="#developer" title="Link to this heading">#</a></h2>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Configure developer mode by going to <strong>System Console &gt; Environment &gt; Developer</strong>, or by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file as described in the following tables. Changes to configuration settings in this section require a server restart before taking effect.</p>
<a id="dev-enabletesting"></a><section id="enable-testing-commands">
<h3>Enable testing commands<a class="headerlink" href="#enable-testing-commands" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable the <code class="docutils literal notranslate"><span class="pre">/test</span></code> slash command.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> The <code class="docutils literal notranslate"><span class="pre">/test</span></code> slash
command is enabled to load test accounts
and test data.</p></li>
<li><p><strong>false</strong>:  The <code class="docutils literal notranslate"><span class="pre">/test</span></code> slash command is
disabled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Developer</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.EnableTesting&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_ENABLETESTING</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="dev-enabledeveloper"></a></section>
<section id="enable-developer-mode">
<h3>Enable developer mode<a class="headerlink" href="#enable-developer-mode" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable developer mode.</p>
<ul class="simple">
<li><p><strong>true</strong>: <strong>(Default)</strong> Javascript errors
are shown in a banner at the top of
Mattermost the user interface.
Not recommended for use in production.</p></li>
<li><p><strong>false</strong>: Users are not alerted to
Javascript errors.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Developer</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.EnableDeveloper&quot;:</span> <span class="pre">true&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_ENABLEDEVELOPER</span></code></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<a id="dev-enableclientdebugging"></a></section>
<section id="enable-client-debugging">
<h3>Enable client debugging<a class="headerlink" href="#enable-client-debugging" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Enable or disable client-side debugging settings
found in <em>Settings &gt; Advanced &gt; Debugging</em> for
individual users.</p>
<ul class="simple">
<li><p><strong>true</strong>: Those settings are visible and can
be enabled by users.</p></li>
<li><p><strong>false</strong>: <strong>(Default)</strong> Those settings are
hidden and disabled.</p></li>
</ul>
</td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Developer</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.EnableClientPerformanceDebugging&quot;:</span> <span class="pre">false&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_ENABLECLIENTPERFORMANCEDEBUGGING</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>See the <a class="reference external" href="/preferences/manage-advanced-options.html#performance-debugging">client debugging</a> documentation to learn more.</p></td>
</tr>
</tbody>
</table>
</div>
<a id="dev-allowuntrustedinternalconnections"></a></section>
<section id="allow-untrusted-internal-connections">
<h3>Allow untrusted internal connections<a class="headerlink" href="#allow-untrusted-internal-connections" title="Link to this heading">#</a></h3>
<p><em>Available in legacy Enterprise Edition E10/E20</em></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Limit the ability for the Mattermost server
to make untrusted requests within its local
network. A request is considered “untrusted”
when it’s made on behalf of a client.</p></td>
<td><ul class="simple">
<li><p>System Config path: <strong>Environment &gt; Developer</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.json</span> <span class="pre">setting</span></code>: <code class="docutils literal notranslate"><span class="pre">&quot;.ServiceSettings.AllowedUntrustedInternalConnections&quot;:</span> <span class="pre">&quot;&quot;,</span></code></p></li>
<li><p>Environment variable: <code class="docutils literal notranslate"><span class="pre">MM_SERVICESETTINGS_ALLOWEDUNTRUSTEDINTERNALCONNECTIONS</span></code></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p>This setting is a whitelist of local network addresses that can be requested by the Mattermost server. It’s configured as a
whitespace-separated list of hostnames, IP addresses, and CIDR ranges that can be accessed.</p>
<p>Requests that can only be configured by System Admins are considered trusted and won’t be affected by this setting. Trusted URLs include
ones used for OAuth login or for sending push notifications.</p>
<p>The following features make untrusted requests and are affected by this setting:</p>
<ul class="simple">
<li><p>Integrations using webhooks, slash commands, or message actions. This prevents them from requesting endpoints within the local network.</p></li>
<li><p>Link previews. When a link to a local network address is posted in a chat message, this prevents a link preview from being displayed.</p></li>
<li><p>The local <a class="reference external" href="/deploy/image-proxy.html">image proxy</a>. If the local image proxy is enabled, images located on
the local network cannot be used by integrations or posted in chat messages.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Some examples of when you may want to modify this setting include:</p>
<ul class="simple">
<li><p>When installing a plugin that includes its own images, such as <a class="reference external" href="https://github.com/matterpoll/matterpoll">Matterpoll</a>, you’ll need to
add the Mattermost server’s domain name to
this list.</p></li>
<li><p>When running a bot or webhook-based integration on your local network, you’ll need to add the hostname of the bot/integration to this list.</p></li>
<li><p>If your network is configured in such a way that publicly-accessible web pages or images are accessed by the Mattermost server using
their internal IP address, the hostnames for those servers must be added to this list.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="2"><p><strong>Warning</strong>: This setting is intended to prevent users located outside your local network from using the Mattermost server to request
confidential data from inside your network. Care should be used when configuring this setting to prevent unintended access to your local
network.</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><strong>Notes</strong>:</p>
<ul class="simple">
<li><p>The public IP of the Mattermost application server itself is also considered a reserved IP.</p></li>
<li><p>Use whitespaces instead of commas to list the hostnames, IP addresses, or CIDR ranges.
For example: <code class="docutils literal notranslate"><span class="pre">webhooks.internal.example.com</span></code>, <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>, or <code class="docutils literal notranslate"><span class="pre">10.0.16.0/28</span></code>.</p></li>
<li><p>IP address and domain name rules are applied before host resolution.</p></li>
<li><p>CIDR rules are applied after host resolution, and only CIDR rules require DNS resolution.</p></li>
<li><p>Mattermost attempts to match IP addresses and hostnames without even resolving. If that fails, Mattermost resolve using the local resolver
(by reading the <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code> file first), then checking for matching CIDR rules.
For example, if the domain “webhooks.internal.example.com” resolves to the IP address <code class="docutils literal notranslate"><span class="pre">10.0.16.20</span></code>, a webhook with the URL
<code class="docutils literal notranslate"><span class="pre">https://webhooks.internal.example.com/webhook</span></code> can be whitelisted using <code class="docutils literal notranslate"><span class="pre">webhooks.internal.example.com</span></code>, or <code class="docutils literal notranslate"><span class="pre">10.0.16.16/28</span></code>,
but not <code class="docutils literal notranslate"><span class="pre">10.0.16.20</span></code>.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="site-configuration-settings.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Site configuration settings</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="user-management-configuration-settings.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">User management configuration settings</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2015-2023 Mattermost
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Environment configuration settings</a><ul>
<li><a class="reference internal" href="#web-server">Web server</a><ul>
<li><a class="reference internal" href="#site-url">Site URL</a></li>
<li><a class="reference internal" href="#web-server-listen-address">Web server listen address</a></li>
<li><a class="reference internal" href="#forward-port-80-to-443">Forward port 80 to 443</a></li>
<li><a class="reference internal" href="#web-server-connection-security">Web server connection security</a></li>
<li><a class="reference internal" href="#tls-certificate-file">TLS certificate file</a></li>
<li><a class="reference internal" href="#tls-key-file">TLS key file</a></li>
<li><a class="reference internal" href="#use-let-s-encrypt">Use Let’s Encrypt</a></li>
<li><a class="reference internal" href="#let-s-encrypt-certificate-cache-file">Let’s Encrypt certificate cache file</a></li>
<li><a class="reference internal" href="#read-timeout">Read timeout</a></li>
<li><a class="reference internal" href="#write-timeout">Write timeout</a></li>
<li><a class="reference internal" href="#idle-timeout">Idle timeout</a></li>
<li><a class="reference internal" href="#webserver-mode">Webserver mode</a></li>
<li><a class="reference internal" href="#enable-insecure-outgoing-connections">Enable insecure outgoing connections</a></li>
<li><a class="reference internal" href="#managed-resource-paths">Managed resource paths</a></li>
<li><a class="reference internal" href="#reload-configuration-from-disk">Reload configuration from disk</a></li>
<li><a class="reference internal" href="#purge-all-caches">Purge all caches</a></li>
<li><a class="reference internal" href="#websocket-url">Websocket URL</a></li>
<li><a class="reference internal" href="#license-file-location">License file location</a></li>
<li><a class="reference internal" href="#tls-minimum-version">TLS minimum version</a></li>
<li><a class="reference internal" href="#trusted-proxy-ip-header">Trusted proxy IP header</a></li>
<li><a class="reference internal" href="#enable-strict-transport-security-hsts">Enable Strict Transport Security (HSTS)</a></li>
<li><a class="reference internal" href="#secure-tls-transport-expiry">Secure TLS transport expiry</a></li>
<li><a class="reference internal" href="#tls-cipher-overwrites">TLS cipher overwrites</a></li>
<li><a class="reference internal" href="#goroutine-health-threshold">Goroutine health threshold</a></li>
<li><a class="reference internal" href="#allow-cookies-for-subdomains">Allow cookies for subdomains</a></li>
<li><a class="reference internal" href="#cluster-log-timeout">Cluster log timeout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#database">Database</a><ul>
<li><a class="reference internal" href="#driver-name">Driver name</a></li>
<li><a class="reference internal" href="#data-source">Data source</a></li>
<li><a class="reference internal" href="#maximum-idle-database-connections">Maximum idle database connections</a></li>
<li><a class="reference internal" href="#maximum-open-connections">Maximum open connections</a></li>
<li><a class="reference internal" href="#query-timeout">Query timeout</a></li>
<li><a class="reference internal" href="#maximum-connection-lifetime">Maximum connection lifetime</a></li>
<li><a class="reference internal" href="#maximum-connection-idle-timeout">Maximum connection idle timeout</a></li>
<li><a class="reference internal" href="#minimum-hashtag-length">Minimum hashtag length</a></li>
<li><a class="reference internal" href="#sql-statement-logging">SQL statement logging</a></li>
<li><a class="reference internal" href="#recycle-database-connections">Recycle database connections</a></li>
<li><a class="reference internal" href="#disable-database-search">Disable database search</a></li>
<li><a class="reference internal" href="#applied-schema-migrations">Applied schema migrations</a></li>
<li><a class="reference internal" href="#active-search-backend">Active Search Backend</a></li>
<li><a class="reference internal" href="#read-replicas">Read replicas</a></li>
<li><a class="reference internal" href="#search-replicas">Search replicas</a></li>
<li><a class="reference internal" href="#replica-lag-settings">Replica lag settings</a></li>
<li><a class="reference internal" href="#replica-monitor-interval-seconds">Replica monitor interval (seconds)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#elasticsearch">Elasticsearch</a><ul>
<li><a class="reference internal" href="#enable-elasticsearch-indexing">Enable Elasticsearch indexing</a></li>
<li><a class="reference internal" href="#server-connection-address">Server connection address</a></li>
<li><a class="reference internal" href="#ca-path">CA path</a></li>
<li><a class="reference internal" href="#client-certificate-path">Client certificate path</a></li>
<li><a class="reference internal" href="#client-certificate-key-path">Client certificate key path</a></li>
<li><a class="reference internal" href="#skip-tls-verification">Skip TLS verification</a></li>
<li><a class="reference internal" href="#server-username">Server username</a></li>
<li><a class="reference internal" href="#server-password">Server password</a></li>
<li><a class="reference internal" href="#enable-cluster-sniffing">Enable cluster sniffing</a></li>
<li><a class="reference internal" href="#bulk-indexing">Bulk indexing</a></li>
<li><a class="reference internal" href="#indexes-to-skip-while-purging">Indexes to skip while purging</a></li>
<li><a class="reference internal" href="#purge-indexes">Purge indexes</a></li>
<li><a class="reference internal" href="#enable-elasticsearch-for-search-queries">Enable Elasticsearch for search queries</a></li>
<li><a class="reference internal" href="#enable-elasticsearch-for-autocomplete-queries">Enable Elasticsearch for autocomplete queries</a></li>
<li><a class="reference internal" href="#post-index-replicas">Post index replicas</a></li>
<li><a class="reference internal" href="#post-index-shards">Post index shards</a></li>
<li><a class="reference internal" href="#channel-index-replicas">Channel index replicas</a></li>
<li><a class="reference internal" href="#channel-index-shards">Channel index shards</a></li>
<li><a class="reference internal" href="#user-index-replicas">User index replicas</a></li>
<li><a class="reference internal" href="#user-index-shards">User index shards</a></li>
<li><a class="reference internal" href="#aggregate-search-indexes">Aggregate search indexes</a></li>
<li><a class="reference internal" href="#post-aggregator-start-time">Post aggregator start time</a></li>
<li><a class="reference internal" href="#index-prefix">Index prefix</a></li>
<li><a class="reference internal" href="#live-indexing-batch-size">Live indexing batch size</a></li>
<li><a class="reference internal" href="#bulk-indexing-time-window">Bulk indexing time window</a></li>
<li><a class="reference internal" href="#request-timeout">Request timeout</a></li>
<li><a class="reference internal" href="#trace">Trace</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-storage">File storage</a><ul>
<li><a class="reference internal" href="#file-storage-system">File storage system</a></li>
<li><a class="reference internal" href="#local-storage-directory">Local storage directory</a></li>
<li><a class="reference internal" href="#maximum-file-size">Maximum file size</a></li>
<li><a class="reference internal" href="#enable-document-search-by-content">Enable document search by content</a></li>
<li><a class="reference internal" href="#enable-searching-content-of-documents-within-zip-files">Enable searching content of documents within ZIP files</a></li>
<li><a class="reference internal" href="#amazon-s3-bucket">Amazon S3 bucket</a></li>
<li><a class="reference internal" href="#amazon-s3-path-prefix">Amazon S3 path prefix</a></li>
<li><a class="reference internal" href="#amazon-s3-region">Amazon S3 region</a></li>
<li><a class="reference internal" href="#amazon-s3-access-key-id">Amazon S3 access key ID</a></li>
<li><a class="reference internal" href="#amazon-s3-endpoint">Amazon S3 endpoint</a></li>
<li><a class="reference internal" href="#amazon-s3-secret-access-key">Amazon S3 secret access key</a></li>
<li><a class="reference internal" href="#enable-secure-amazon-s3-connections">Enable secure Amazon S3 connections</a></li>
<li><a class="reference internal" href="#amazon-s3-signature-v2">Amazon S3 signature v2</a></li>
<li><a class="reference internal" href="#enable-server-side-encryption-for-amazon-s3">Enable server-side encryption for Amazon S3</a></li>
<li><a class="reference internal" href="#enable-amazon-s3-debugging">Enable Amazon S3 debugging</a></li>
<li><a class="reference internal" href="#initial-font">Initial font</a></li>
<li><a class="reference internal" href="#amazon-s3-request-timeout">Amazon S3 request timeout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#image-proxy">Image proxy</a><ul>
<li><a class="reference internal" href="#enable-image-proxy">Enable image proxy</a></li>
<li><a class="reference internal" href="#image-proxy-type">Image proxy type</a></li>
<li><a class="reference internal" href="#remote-image-proxy-url">Remote image proxy URL</a></li>
<li><a class="reference internal" href="#remote-image-proxy-options">Remote image proxy options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#smtp">SMTP</a><ul>
<li><a class="reference internal" href="#smtp-server">SMTP server</a></li>
<li><a class="reference internal" href="#smtp-server-port">SMTP server port</a></li>
<li><a class="reference internal" href="#enable-smtp-authentication">Enable SMTP authentication</a></li>
<li><a class="reference internal" href="#smtp-server-username">SMTP server username</a></li>
<li><a class="reference internal" href="#smtp-server-password">SMTP server password</a></li>
<li><a class="reference internal" href="#smtp-connection-security">SMTP connection security</a></li>
<li><a class="reference internal" href="#skip-server-certificate-verification">Skip server certificate verification</a></li>
<li><a class="reference internal" href="#enable-security-alerts">Enable security alerts</a></li>
<li><a class="reference internal" href="#smtp-server-timeout">SMTP server timeout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#push-notification-server">Push notification server</a><ul>
<li><a class="reference internal" href="#enable-push-notifications">Enable push notifications</a></li>
<li><a class="reference internal" href="#push-notification-server-location">Push notification server location</a></li>
<li><a class="reference internal" href="#maximum-notifications-per-channel">Maximum notifications per channel</a></li>
</ul>
</li>
<li><a class="reference internal" href="#high-availability">High availability</a><ul>
<li><a class="reference internal" href="#enable-high-availability-mode">Enable high availability mode</a></li>
<li><a class="reference internal" href="#cluster-name">Cluster name</a></li>
<li><a class="reference internal" href="#override-hostname">Override hostname</a></li>
<li><a class="reference internal" href="#use-ip-address">Use IP address</a></li>
<li><a class="reference internal" href="#use-gossip">Use gossip</a></li>
<li><a class="reference internal" href="#enable-experimental-gossip-encryption">Enable experimental gossip encryption</a></li>
<li><a class="reference internal" href="#enable-gossip-compression">Enable gossip compression</a></li>
<li><a class="reference internal" href="#gossip-port">Gossip port</a></li>
<li><a class="reference internal" href="#streaming-port">Streaming port</a></li>
<li><a class="reference internal" href="#read-only-config">Read only config</a></li>
<li><a class="reference internal" href="#network-interface">Network interface</a></li>
<li><a class="reference internal" href="#bind-address">Bind address</a></li>
<li><a class="reference internal" href="#advertise-address">Advertise address</a></li>
<li><a class="reference internal" href="#maximum-idle-connections-for-high-availability">Maximum idle connections for high availability</a></li>
<li><a class="reference internal" href="#maximum-idle-connections-per-host">Maximum idle connections per host</a></li>
<li><a class="reference internal" href="#idle-connection-timeout">Idle connection timeout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rate-limiting">Rate limiting</a><ul>
<li><a class="reference internal" href="#enable-rate-limiting">Enable rate limiting</a></li>
<li><a class="reference internal" href="#maximum-queries-per-second">Maximum queries per second</a></li>
<li><a class="reference internal" href="#maximum-burst-size">Maximum burst size</a></li>
<li><a class="reference internal" href="#memory-store-size">Memory store size</a></li>
<li><a class="reference internal" href="#vary-rate-limit-by-remote-address">Vary rate limit by remote address</a></li>
<li><a class="reference internal" href="#vary-rate-limit-by-user">Vary rate limit by user</a></li>
<li><a class="reference internal" href="#vary-rate-limit-by-http-header">Vary rate limit by HTTP header</a></li>
</ul>
</li>
<li><a class="reference internal" href="#logging">Logging</a><ul>
<li><a class="reference internal" href="#output-logs-to-console">Output logs to console</a></li>
<li><a class="reference internal" href="#console-log-level">Console log level</a></li>
<li><a class="reference internal" href="#output-console-logs-as-json">Output console logs as JSON</a></li>
<li><a class="reference internal" href="#output-logs-to-file">Output logs to file</a></li>
<li><a class="reference internal" href="#file-log-level">File log level</a></li>
<li><a class="reference internal" href="#output-file-logs-as-json">Output file logs as JSON</a></li>
<li><a class="reference internal" href="#file-log-directory">File log directory</a></li>
<li><a class="reference internal" href="#enable-webhook-debugging">Enable webhook debugging</a></li>
<li><a class="reference internal" href="#enable-diagnostics-and-error-reporting">Enable diagnostics and error reporting</a></li>
<li><a class="reference internal" href="#output-logs-to-multiple-targets">Output logs to multiple targets</a></li>
<li><a class="reference internal" href="#teammate-name-display">Teammate name display</a></li>
<li><a class="reference internal" href="#colorize-plain-text-console-logs">Colorize plain text console logs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-lengths">Session lengths</a><ul>
<li><a class="reference internal" href="#extend-session-length-with-activity">Extend session length with activity</a></li>
<li><a class="reference internal" href="#session-length-for-ad-ldap-and-email">Session length for AD/LDAP and email</a></li>
<li><a class="reference internal" href="#session-length-for-mobile">Session length for mobile</a></li>
<li><a class="reference internal" href="#session-length-for-sso">Session length for SSO</a></li>
<li><a class="reference internal" href="#session-cache">Session cache</a></li>
<li><a class="reference internal" href="#session-idle-timeout">Session idle timeout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performance-monitoring">Performance monitoring</a><ul>
<li><a class="reference internal" href="#enable-performance-monitoring">Enable performance monitoring</a></li>
<li><a class="reference internal" href="#listen-address-for-performance">Listen address for performance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#developer">Developer</a><ul>
<li><a class="reference internal" href="#enable-testing-commands">Enable testing commands</a></li>
<li><a class="reference internal" href="#enable-developer-mode">Enable developer mode</a></li>
<li><a class="reference internal" href="#enable-client-debugging">Enable client debugging</a></li>
<li><a class="reference internal" href="#allow-untrusted-internal-connections">Allow untrusted internal connections</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>