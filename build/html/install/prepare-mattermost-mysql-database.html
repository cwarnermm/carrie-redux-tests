<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />
        <link rel="canonical" href="https://www.ethereal.cc/redux/install/prepare-mattermost-mysql-database.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Prepare your Mattermost MySQL database - Mattermost documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/compass-icons.css?v=b28d7826" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --font-stack: Noto Sans, Helvetica Neue, Arial, sans-serif;
  --font-stack--monospace: Fira Mono, Courier New, Courier, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Mattermost  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Mattermost  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview/index.html">About Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of About Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/product.html">Mattermost overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/use-cases.html">Use cases</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Use cases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/secure-command-and-control.html">Secure command and control</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../about/unified-collaboration.html">Unified communication</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Unified communication</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-for-microsoft-teams.html">Mattermost for Microsoft Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-google-calendar-integration.html">Mattermost Google Calendar integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../about/devops-collaboration.html">DevOps collaboration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/incident-response-collaboration.html">Incident response collaboration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/security.html">Security overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/integrations.html">Integrations overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/subscription.html">Subscription overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/self-hosted-subscriptions.html">Self-hosted subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/cloud-subscriptions.html">Cloud subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/editions-and-offerings.html">Mattermost editions and plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/corporate-directory-integration.html">Corporate directory integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/certifications-and-compliance.html">Certifications and compliance overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/frequently-asked-questions.html">Frequently asked questions (FAQ)</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Frequently asked questions (FAQ)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-general.html">General Mattermost questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-community.html">Community questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-notifications.html">Notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-video-audio-screensharing.html">Video, audio, and screen sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-enterprise.html">Enterprise questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-license.html">License questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-integrations.html">Integrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-use-cases.html">Use cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-product.html">Product questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-high-trust.html">High trust questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-design-decisions.html">Design decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-business.html">Business questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-illicit-use.html">Illicit use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/deployment.html">Deploy Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Deploy Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="prepare-mattermost-database.html">Prepare your Mattermost database</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-ubuntu.html">Deploy on Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-docker.html">Deploy using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-tar.html">Deploy with a tarball</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-mattermost-omnibus.html">Deploy using Omnibus</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-kubernetes.html">Deploy using Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-rhel-8.html">Deploy on Red Hat</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/prepare-for-your-mattermost-deployment.html">Prepare for your Mattermost deployment</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Prepare for your Mattermost deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="software-hardware-requirements.html">  Software and hardware requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="mattermost-kubernetes-operator.html">  About the Mattermost Kubernetes Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/admin-onboarding-tasks.html">  Administrator tasks</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../getting-started/architecture-overview.html">  Architecture overview</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of   Architecture overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/implementation-plan.html">  Plan your Mattermost implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/enterprise-roll-out-checklist.html">  Enterprise roll out checklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/welcome-email-to-end-users.html">  Welcome email template</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-guides.html">Deployment guides</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Deployment guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/server-deployment.html">Server deployment</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Server deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deployment-overview.html"> Deployment overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="setting-up-socket-based-mattermost-database.html"> Set up a socket-based Mattermost database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/image-proxy.html"> Image proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/backup-disaster-recovery.html"> Backup and disaster recovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/encryption-options.html"> Encryption options</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="transport-encryption.html"> Configure transport encryption</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of  Configure transport encryption</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="proxy-to-mattermost-transport-encryption.html">Configuring proxy to Mattermost transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="database-transport-encryption.html">Configuring database transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="cluster-transport-encryption.html">Configuring cluster transport encryption</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/bleve-search.html"> Bleve search</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/desktop-mobile-app-deployment.html">Desktop and mobile app deployment</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Desktop and mobile app deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/desktop-app.html">Desktop app deployment guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="desktop-msi-installer-and-group-policy-install.html">Desktop MSI installer and group policy installation guides (beta)</a></li>
<li class="toctree-l4"><a class="reference internal" href="desktop-custom-dictionaries.html">Desktop App custom dictionaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="desktop-app-managed-resources.html">Desktop managed resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/use-prebuilt-mobile-apps.html">Using Mattermostâ€™s pre-built mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-testing-notifications.html">Testing push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-overview.html">Deploy Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-hpns.html">Mobile push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/build-custom-mobile-apps.html">Building and distributing your own custom Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deploy-mobile-apps-using-emm-provider.html">Deploying mobile apps using an EMM provider</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-appconfig.html">AppConfig for EMM solutions with Mattermost Mobile Apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/consider-mobile-vpn-options.html">Mobile VPN options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-faq.html">Mobile apps FAQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/client-side-data.html">Client-side data storage FAQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/upgrade-mattermost.html">Upgrade Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Upgrade Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/prepare-to-upgrade-mattermost.html"> Prepare to upgrade Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/upgrading-mattermost-server.html"> Upgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="enterprise-install-upgrade.html"> Enterprise install and upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/installing-license-key.html"> Install a license key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-definitions.html"> Release definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/important-upgrade-notes.html"> Important upgrade notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-lifecycle.html"> Release lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/extended-support-release.html"> Extended Support Release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/downgrading-mattermost-server.html"> Downgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/version-archive.html"> Version archive</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/scale-mattermost.html">Scale Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Scale Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../scale/scaling-for-enterprise.html"> Scale for Enterprise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/high-availability-cluster.html"> High availability cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/elasticsearch.html"> Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-monitoring.html"> Performance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-alerting.html"> Mattermost performance alerting guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-troubleshooting.html">Deployment troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Deployment troubleshooting</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">  General troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/high-scale-troubleshoot.html">  Troubleshooting your high scale deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-troubleshoot.html">  Troubleshooting mobile applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="trouble-postgres.html">  PostgreSQL installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="trouble_mysql.html">  MySQL installation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/changelogs.html">Changelogs</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Changelogs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="self-managed-changelog.html">  Mattermost self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="legacy-self-hosted-changelog.html">  Mattermost legacy self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-changelog.html">  Mattermost Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-app-changelog.html">  Mobile apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="desktop-app-changelog.html">  Desktop apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="deprecated-features.html">  Deprecated features</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/additional-server-installation-guides.html">Additional server installation guides</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Additional server installation guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="deploying-team-edition-on-bitnami.html">  Deploy Mattermost on Bitnami</a></li>
<li class="toctree-l3"><a class="reference internal" href="setting-up-aws-elastic-beanstalk-docker.html">  AWS Elastic Beanstalk Docker setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-team-edition-helm-chart.html">  Install Mattermost Team Edition in GitLab Helm Chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/open-source-components.html">  Open source components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/administration.html">Manage Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Manage Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/get-started-with-administration.html">Get started</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Get started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../configure/optimize-your-workspace.html">Optimize your workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuration-settings.html">Mattermost configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/self-hosted-account-settings.html">Self-hosted edition and license</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/cloud-billing-account-settings.html">Cloud subscription, billing, and account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/reporting-configuration-settings.html">Reporting configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/user-management-configuration-settings.html">User management configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/environment-configuration-settings.html">Environment configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/site-configuration-settings.html">Site configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/authentication-configuration-settings.html">Authentication configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/plugins-configuration-settings.html">Plugins configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/integrations-configuration-settings.html">Integrations configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/compliance-configuration-settings.html">Compliance configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/experimental-configuration-settings.html">Experimental configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/deprecated-configuration-settings.html">Deprecated configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/environment-variables.html">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/user-provisioning-workflows.html">Provisioning workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/multi-factor-authentication.html">Multi-factor authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ad-ldap.html">Active Directory/LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-gitlab.html">GitLab SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-openidconnect.html">OpenID SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-google.html">Google SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-office.html">Office 365 SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/advanced-permissions.html">Advanced permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/system-admin-roles.html">System admin roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/team-channel-members.html">Manage team and channel members</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/custom-branding-tools.html">Custom branding tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/electronic-discovery.html">eDiscovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-monitoring.html">Compliance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-export.html">Compliance export</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/legal-hold.html">Legal hold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/data-retention-policy.html">Data retention tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/custom-terms-of-service.html">Custom terms of service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/notify-admin.html">Notify Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ad-ldap-groups-synchronization.html">AD/LDAP groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/managing-team-channel-membership-using-ad-ldap-sync-groups.html">Use AD/LDAP synchronized groups to manage team or private channel membership</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/guest-accounts.html">Guest accounts</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../onboard/sso-saml.html">SAML Single Sign-On</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of SAML Single Sign-On</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-okta.html">Okta SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-onelogin.html">OneLogin SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-adfs.html">Microsoft ADFS SAML Configuration for Windows Server 2012</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-adfs-msws2016.html">Microsoft ADFS SAML Configuration for Windows Server 2016</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-keycloak.html">Keycloak SAML Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-saml-technical.html">SAML Single-Sign-On: technical documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/shared-channels.html">Shared channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/statistics.html">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/in-product-notices.html">In-product notices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/user-satisfaction-surveys.html">User satisfaction surveys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/health-checks.html">Health check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/announcement-banner.html">Announcement banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/bulk-export-tool.html">Bulk export tool</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/cloud-workspace-management.html">Cloud workspace management</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Cloud workspace management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-billing.html">Mattermost Cloud billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/workspace-usage.html">Workspace usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-export.html">Workspace migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-residency.html">Cloud data residency</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/self-hosted-administration.html">Self-hosted administration</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Self-hosted administration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/self-hosted-billing.html">Mattermost self-hosted billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuation-in-a-database.html">Store configuration in the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/bulk-loading-data.html">Bulk loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/smtp-email.html">SMTP email setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/email-templates.html">Email templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/calls-deployment.html">Calls deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuring-cloudfront-to-host-mattermost-static-assets.html">Configure CloudFront to host static assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/using-outbound-proxy.html">Use an outbound proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/migrating-to-mattermost.html">Migration guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/postgres-migration.html">Migration from MySQL to PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/enabling-chinese-japanese-korean-search.html">Chinese, Japanese, and Korean search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/customizing-mattermost.html">Customize Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/audit-log.html">Audit logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/embedded-json-audit-log-schema.html">JSON audit log schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ssl-client-certificate.html">SSL client certificate setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/certificate-based-authentication.html">Certificate-based authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/telemetry.html">Manage telemetry</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/other-administration-resources.html">Other resources</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Other resources</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../onboard/convert-oauth20-service-providers-to-openidconnect.html">Convert OAuth 2.0 providers to OpenID Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/generating-support-packet.html">Generate a support packet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/mmctl-command-line-tool.html">mmctl command line tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/migration-announcement-email.html">Migration announcement email template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/advanced-permissions-backend-infrastructure.html">Advanced permissions infrastructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/command-line-tools.html">Command line tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/use-mattermost.html">Use Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Use Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/collaborate.html">Connect and collaborate</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Connect and collaborate</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/access-your-workspace.html">Access your Mattermost workspace</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Access your Mattermost workspace</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-desktop-app.html">Install the desktop app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-ios-app.html">Install the iOS mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-android-app.html">Install the Android mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/log-out.html">Log out of Mattermost</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/organize-using-teams.html">Organize using teams</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Organize using teams</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-settings.html">Team settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-keyboard-shortcuts.html">Team keyboard shortcuts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/organize-using-custom-user-groups.html">Organize using custom user groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/invite-people.html">Invite people</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/learn-about-roles.html">Learn about Mattermost roles</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/collaborate-within-channels.html">Collaborate within channels</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Collaborate within channels</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-types.html">Channel types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-naming-conventions.html">Channel naming conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-header-purpose.html">Communicate a channel's focus and scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/create-channels.html">Create channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/rename-channels.html">Rename channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/convert-public-channels.html">Convert public channels to private</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/join-leave-channels.html">Join and leave channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/make-calls.html">Make calls in Mattermost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/manage-channel-members.html">Manage channel members</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/browse-channels.html">Browse channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/navigate-between-channels.html">Navigate between channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/favorite-channels.html">Mark channels as favorites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-channels-unread.html">Mark channels as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/archive-unarchive-channels.html">Archive and unarchive channels</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/communicate-with-messages.html">Communicate with messages and threads</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Communicate with messages and threads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/send-messages.html">Send messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/reply-to-messages.html">Reply to messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/react-with-emojis-gifs.html">React with emojis and GIFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/organize-conversations.html">Organize conversations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-messages-unread.html">Mark messages as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/forward-messages.html">Forward messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-links.html">Share links to channels and messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/save-pin-messages.html">Save and pin messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-reminders.html">Set message reminders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/search-for-messages.html">Search for messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/format-messages.html">Format messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-priority.html">Set message priority</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mention-people.html">Mention people</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-files-in-messages.html">Share files in messages</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/keyboard-shortcuts.html">Keyboard shortcuts</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Keyboard shortcuts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/keyboard-accessibility.html">Keyboard accessibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/run-slash-commands.html">Run slash commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/built-in-slash-commands.html">Built-in-slash-commands</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/extend-mattermost-with-integrations.html">Extend Mattermost with integrations</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Extend Mattermost with integrations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/collaborate-using-mattermost-for-microsoft-teams.html">Collaborate using Mattermost for MS Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/use-mattermost-google-calendar-plugin.html">Use the Mattermost Google Calendar plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/repeatable-processes.html">Build repeatable processes</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Build repeatable processes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/learn-about-playbooks.html">Learn about playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-playbooks.html">Work with playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-runs.html">Work with runs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-tasks.html">Work with tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/notifications-and-updates.html">Work with notifications and updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/metrics-and-goals.html">Work with metrics and goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/share-and-collaborate.html">Share and collaborate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/interact-with-playbooks.html">Interact with playbooks</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/preferences.html">Customize your preferences</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Customize your preferences</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-notifications.html">Manage your notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-theme.html">Customize your Mattermost theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-channel-sidebar.html">Customize your channel sidebar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-profile.html">Manage your profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-security-preferences.html">Manage your security preferences</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/set-your-status-availability.html">Set your status &amp; availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-display-options.html">Manage your display options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-sidebar-options.html">Manage your sidebar options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-advanced-options.html">Manage advanced options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-desktop-app-experience.html">Customize your desktop app experience</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/connect-multiple-workspaces.html">Connect to multiple workspaces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://developers.mattermost.com/">Develop with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/get-help.html">Get help with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/community-chat.html">Join our community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://handbook.mattermost.com/">Learn how we work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/contribute-to-documentation.html">Contribute to this documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="prepare-your-mattermost-mysql-database">
<h1>Prepare your Mattermost MySQL database<a class="headerlink" href="#prepare-your-mattermost-mysql-database" title="Link to this heading">#</a></h1>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><nav class="contents local" id="on-this-page">
<p class="topic-title">On this page</p>
<ul class="simple">
<li><p><a class="reference internal" href="#set-up-the-mattermost-mysql-database" id="id3">Set up the Mattermost MySQL database</a></p></li>
<li><p><a class="reference internal" href="#back-up-the-database" id="id4">Back up the database</a></p></li>
<li><p><a class="reference internal" href="#upgrade-mattermost" id="id5">Upgrade Mattermost</a></p></li>
<li><p><a class="reference internal" href="#high-availabiilty-configuration-setting-recommendations" id="id6">High availabiilty configuration setting recommendations</a></p></li>
<li><p><a class="reference internal" href="#encryption-at-rest" id="id7">Encryption-at-rest</a></p></li>
<li><p><a class="reference internal" href="#use-sockets-for-the-database" id="id8">Use sockets for the database</a></p></li>
<li><p><a class="reference internal" href="#mattermost-configuration-in-the-database" id="id9">Mattermost configuration in the database</a></p></li>
<li><p><a class="reference internal" href="#technical-notes-about-searching" id="id10">Technical notes about searching</a></p></li>
<li><p><a class="reference internal" href="#migrate-from-bitnami-to-a-self-hosted-mattermost-deployment" id="id11">Migrate from Bitnami to a self-hosted Mattermost deployment</a></p></li>
<li><p><a class="reference internal" href="#downgrade-mattermost-v6-0-to-v5-38" id="id12">Downgrade Mattermost v6.0 to v5.38</a></p></li>
</ul>
</nav>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>PostgreSQL is our preferred database of choice. See the <a class="reference external" href="/install/software-hardware-requirements.html#database-software">database software</a> documentation for details on database version support.</p>
</div>
<section id="set-up-the-mattermost-mysql-database">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Set up the Mattermost MySQL database</a><a class="headerlink" href="#set-up-the-mattermost-mysql-database" title="Link to this heading">#</a></h2>
<p>To set up a MySQL database for use by the Mattermost server:</p>
<ol class="arabic simple">
<li><p>Log into the server that will host the database, ands install MySQL.</p></li>
<li><p>Log in to MySQL as <em>root</em> by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">mysql</span></code>.</p></li>
<li><p>Create the Mattermost user <em>mmuser</em> by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">user</span> <span class="pre">'mmuser'&#64;'%'</span> <span class="pre">identified</span> <span class="pre">by</span> <span class="pre">'mmuser-password';</span></code>.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Use a password that is more secure than <code class="docutils literal notranslate"><span class="pre">mmuser-password</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">%</span></code> means that <code class="docutils literal notranslate"><span class="pre">mmuser</span></code> can connect from any machine on the network. However, itâ€™s more secure to use the IP address of the machine that hosts Mattermost. For example, if you install Mattermost on the machine with IP address <code class="docutils literal notranslate"><span class="pre">10.10.10.2</span></code>, then use the following command: <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">user</span> <span class="pre">'mmuser'&#64;'10.10.10.2'</span> <span class="pre">identified</span> <span class="pre">by</span> <span class="pre">'mmuser-password';</span></code></p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Create the Mattermost database by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">database</span> <span class="pre">mattermost;</span></code>.</p></li>
<li><p>Grant access privileges to the user <code class="docutils literal notranslate"><span class="pre">mmuser</span></code> by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">grant</span> <span class="pre">all</span> <span class="pre">privileges</span> <span class="pre">on</span> <span class="pre">mattermost.*</span> <span class="pre">to</span> <span class="pre">'mmuser'&#64;'%';</span></code>.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This query grants the MySQL user we just created all privileges on the database for convenience. If you need more security, use the following query to grant the user only the privileges necessary to run Mattermost: <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">GRANT</span> <span class="pre">ALTER,</span> <span class="pre">CREATE,</span> <span class="pre">DELETE,</span> <span class="pre">DROP,</span> <span class="pre">INDEX,</span> <span class="pre">INSERT,</span> <span class="pre">SELECT,</span> <span class="pre">UPDATE,</span> <span class="pre">REFERENCES</span> <span class="pre">ON</span> <span class="pre">mattermost.*</span> <span class="pre">TO</span> <span class="pre">'mmuser'&#64;'%';</span></code></p>
</div>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Log out of MySQL by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">exit</span></code>. Once the database is installed and the initial setup is complete, you can install the Mattermost server.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have installed MySQL on its own server, edit the <code class="docutils literal notranslate"><span class="pre">/etc/mysql/mysql.conf.d/mysqld.cnf</span></code> file and comment out the <code class="docutils literal notranslate"><span class="pre">bind-address</span> <span class="pre">=</span> <span class="pre">127.0.0.1</span></code> using the <code class="docutils literal notranslate"><span class="pre">#</span></code> symbol, then restart your database server.</p>
</div>
</section>
<section id="back-up-the-database">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Back up the database</a><a class="headerlink" href="#back-up-the-database" title="Link to this heading">#</a></h2>
<p>Back up your Mattermost database using standard procedures depending on your database version. <a class="reference external" href="https://dev.mysql.com/doc/refman/5.6/en/backup-types.html">MySQL backup documentation</a> is available online. Use the selector on the page to choose your MySQL version.</p>
</section>
<section id="upgrade-mattermost">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Upgrade Mattermost</a><a class="headerlink" href="#upgrade-mattermost" title="Link to this heading">#</a></h2>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Upgrade to v7.1</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Upgrade to v7.0</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">Upgrade to v6.7</button><button aria-controls="panel-0-0-3" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-3" name="0-3" role="tab" tabindex="-1">v6.0 database schema migrations</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><p>Mattermost v7.1 introduces schema changes in the form of a new column and its index. Our test results for the schema changes include: 12M Posts, 2.5M Reactions - ~1min 34s (instance: PC with 8 cores, 16GB RAM).</p>
<p>You can run the following SQL queries before the upgrade that obtains a lock on <code class="docutils literal notranslate"><span class="pre">Reactions</span></code> table.</p>
<p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">Reactions</span> <span class="pre">ADD</span> <span class="pre">COLUMN</span> <span class="pre">ChannelId</span> <span class="pre">varchar(26)</span> <span class="pre">NOT</span> <span class="pre">NULL</span> <span class="pre">DEFAULT</span> <span class="pre">&quot;&quot;;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">UPDATE</span> <span class="pre">Reactions</span> <span class="pre">SET</span> <span class="pre">ChannelId</span> <span class="pre">=</span> <span class="pre">COALESCE((select</span> <span class="pre">ChannelId</span> <span class="pre">from</span> <span class="pre">Posts</span> <span class="pre">where</span> <span class="pre">Posts.Id</span> <span class="pre">=</span> <span class="pre">Reactions.PostId),</span> <span class="pre">'')</span> <span class="pre">WHERE</span> <span class="pre">ChannelId=&quot;&quot;;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">INDEX</span> <span class="pre">idx_reactions_channel_id</span> <span class="pre">ON</span> <span class="pre">Reactions(ChannelId)</span> <span class="pre">LOCK=NONE;</span></code></p>
<p>Usersâ€™ reactions posted during this time wonâ€™t be reflected in the database until the migrations are complete. This is fully backwards-compatible.</p>
<p>If your connection collation and table collations are different, this can result in the error <cite>Illegal mix of collations</cite>. To resolve this error, set the same collation for both the connection and the table. There are different collations at different levels - connection, database, table, column, and database administrators may choose to set different collation levels for different objects.</p>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><p>Self-hosted Mattermost customers using MySQL databases may notice the migration to release v7.0 taking longer than usual when there are a large number of rows in the <code class="docutils literal notranslate"><span class="pre">FileInfo</span></code> table. See the <a class="reference external" href="/upgrade/important-upgrade-notes.html">important upgrade notes</a> documentation for details.</p>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><p>Mattermost v6.7 introduces schema changes in the form of a new index. The following notes our test results for the schema changes:</p>
<ul class="simple">
<li><p>7M Posts - ~17s (instance: db.r5.xlarge)</p></li>
<li><p>9M Posts - 2min 12s (instance: db.r5.large)</p></li>
</ul>
<p>If you want a zero downtime upgrade, you can apply this index prior to doing the upgrade:</p>
<p><code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">INDEX</span> <span class="pre">idx_posts_create_at_id</span> <span class="pre">on</span> <span class="pre">Posts(CreateAt,</span> <span class="pre">Id)</span> <span class="pre">LOCK=NONE;</span></code></p>
<p>This is fully backwards-compatible and will not acquire any table lock or affect any existing operations on the table.</p>
</div><div aria-labelledby="tab-0-0-3" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-3" name="0-3" role="tabpanel" tabindex="0"><p>The release of v6.0 introduces database schema changes and longer migration times should be expected, especially on MySQL installations.</p>
<p>Mattermost v6.0 introduces several database schema changes to improve both database and application performance. The upgrade will run significant database schema changes that can cause an extended startup time depending on the dataset size. Weâ€™ve conducted extensive tests on supported MySQL database drivers, using realistic datasets of more than 10 million posts and more than 72 million posts.</p>
<p>A migration to v6.0 of 10+ million posts will take approximately 1 hour and 22 minutes to complete for a MySQL database. See the <a class="reference external" href="https://gist.github.com/streamer45/59b3582118913d4fc5e8ff81ea78b055">Mattermost v6.0 DB schema migrations analysis</a> documentation for test specifications, data sizes, and test results.</p>
<p>A large migration from v5.39 to v6.0 of 72+ million posts will take approximately 3 hours and 40 minutes to complete for a MySQL database. See the <a class="reference external" href="https://gist.github.com/streamer45/868c451164f6e8069d8b398685a31b6e">Migration results analysis</a> documentation for test specifications, data sizes, and test results.</p>
<p>The following queries, executed during the migration process on an environment with 10+ million posts, will have a significant impact on database CPU usage and write operation restrictions for the duration of the query:</p>
<p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">Posts</span> <span class="pre">MODIFY</span> <span class="pre">Props</span> <span class="pre">JSON;</span></code> (~26 minutes)</p>
<p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">Posts</span> <span class="pre">DROP</span> <span class="pre">COLUMN</span> <span class="pre">ParentId;</span></code> (~26 minutes)</p>
<p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">Posts</span> <span class="pre">MODIFY</span> <span class="pre">COLUMN</span> <span class="pre">FileIds</span> <span class="pre">text;</span></code> (~26 minutes)</p>
<p>For a complete breakdown of MySQL queries, as well as their impact and duration, see the <a class="reference external" href="https://gist.github.com/streamer45/59b3582118913d4fc5e8ff81ea78b055#mysql-1">Mattermost v6.0 DB schema migrations analysis</a> documentation.</p>
<p><strong>MySQL Mitigation Strategies</strong></p>
<p>Run combined queries prior to the upgrade. The previous queries can be combined when run prior to the upgrade as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">Posts</span> <span class="pre">MODIFY</span> <span class="pre">COLUMN</span> <span class="pre">FileIds</span> <span class="pre">text,</span> <span class="pre">MODIFY</span> <span class="pre">COLUMN</span> <span class="pre">Props</span> <span class="pre">JSON;</span></code></p>
<p>This limits the time taken to that of a single query of that type.</p>
<p><strong>Online migration</strong>: An online migration that avoids locking can be attempted on MySQL installations, especially for particularly heavy queries or very big datasets (tens of millions of posts or more). This can be done through an external tool like <a class="reference external" href="https://www.percona.com/doc/percona-toolkit/LATEST/pt-online-schema-change.html">pt-online-schema-change</a>. However, the online migration process can cause a significant spike in CPU usage on the database instance it runs.</p>
<p>See the <a class="reference external" href="https://gist.github.com/streamer45/59b3582118913d4fc5e8ff81ea78b055#online-migration-mysql">Mattermost v6.0 DB schema migrations analysis</a> documentation for a sample execution and additional caveats.</p>
</div></div>
</section>
<section id="high-availabiilty-configuration-setting-recommendations">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">High availabiilty configuration setting recommendations</a><a class="headerlink" href="#high-availabiilty-configuration-setting-recommendations" title="Link to this heading">#</a></h2>
<p>For MySQL, we recommend the following configuration options for high performance:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">innodb_buffer_pool_size</span></code>: Set to ~70% of your total RAM.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">innodb_log_file_size</span></code>: Set to 256 MB. Increasing this helps in write intensive operations. Recovery times will be longer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">innodb_flush_log_at_trx_commit</span></code>: 2. This can potentially cause up to one second of loss of transaction data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_heap_table_size</span></code>: 64 MB.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmp_table_size</span></code>: 64 MB.</p></li>
</ul>
</section>
<section id="encryption-at-rest">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Encryption-at-rest</a><a class="headerlink" href="#encryption-at-rest" title="Link to this heading">#</a></h2>
<p>Encryption-at-rest is available for messages via hardware and software disk encryption solutions applied to the Mattermost database, which resides on its own server within your infrastructure. See the <a class="reference external" href="https://www.percona.com/blog/2016/04/08/mysql-data-at-rest-encryption/">MySQL</a> database documentation for details on encryption options at the disk level.</p>
</section>
<section id="use-sockets-for-the-database">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Use sockets for the database</a><a class="headerlink" href="#use-sockets-for-the-database" title="Link to this heading">#</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p
CREATE<span class="w"> </span>DATABASE<span class="w"> </span>mattermostdb<span class="p">;</span>
CREATE<span class="w"> </span>USER<span class="w"> </span>mmuser<span class="w"> </span>IDENTIFIED<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;mmuser_password&#39;</span><span class="p">;</span>
GRANT<span class="w"> </span>ALL<span class="w"> </span>ON<span class="w"> </span>mattermostdb.*<span class="w"> </span>TO<span class="w"> </span>mmuser<span class="p">;</span>
</pre></div>
</div>
<p>Mattermost is configured in <code class="docutils literal notranslate"><span class="pre">/etc/webapps/mattermost/config.json</span></code>, and strings need to be quoted.</p>
<ul class="simple">
<li><p>set <code class="docutils literal notranslate"><span class="pre">DriverName</span></code> to <code class="docutils literal notranslate"><span class="pre">mysql</span></code>.</p></li>
<li><p>set <code class="docutils literal notranslate"><span class="pre">DataSource</span></code> to <code class="docutils literal notranslate"><span class="pre">mmuser:mmuser_password&#64;unix(/run/mysqld/mysqld.sock)/mattermostdb?charset=utf8mb4,utf8</span></code>.</p></li>
</ul>
</section>
<section id="mattermost-configuration-in-the-database">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Mattermost configuration in the database</a><a class="headerlink" href="#mattermost-configuration-in-the-database" title="Link to this heading">#</a></h2>
<p>You can use the database as the single source of truth for the active configuration of your Mattermost installation. This changes the Mattermost binary from reading the default <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file to reading the configuration settings stored within a configuration table in the database.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>mysql://mmuser:really_secure_password@tcp(127.0.0.1:3306)/mattermost?charset=utf8mb4,utf8&amp;writeTimeout=30s
</pre></div>
</div>
<section id="create-an-environment-file">
<h3>Create an environment file<a class="headerlink" href="#create-an-environment-file" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If youâ€™re running Mattermost in a High Availability cluster, this step must be done on all servers in the cluster.</p>
</div>
<p>Create the file <code class="docutils literal notranslate"><span class="pre">/opt/mattermost/config/mattermost.environment</span></code> to set the <code class="docutils literal notranslate"><span class="pre">MM_CONFIG</span></code> environment variable to the database connection string. For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>MM_CONFIG=&#39;mysql://mmuser:mostest@tcp(127.0.0.1:3306)/mattermost?charset=utf8mb4,utf8&amp;writeTimeout=30s&#39;
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be sure to escape any single quotes in the database connection string by placing a <code class="docutils literal notranslate"><span class="pre">\</span></code> in front of them like this <code class="docutils literal notranslate"><span class="pre">\'</span></code>. For example: <code class="docutils literal notranslate"><span class="pre">MM_CONFIG='mysql://mmuser:it\'s-a-password!&#64;tcp(127.0.0.1:3306)/mattermost?charset=utf8mb4,utf8&amp;writeTimeout=30s'</span></code></p>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>MM_CONFIG=&#39;mysql://mmuser:it\&#39;s-a-password!@tcp(127.0.0.1:3306)/mattermost?charset=utf8mb4,utf8&amp;writeTimeout=30s&#39;
</pre></div>
</div>
<p>Finally, run this command to verify the permissions on your Mattermost directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>mattermost:mattermost<span class="w"> </span>/opt/mattermost
</pre></div>
</div>
</section>
<section id="modify-the-mattermost-systemd-file">
<h3>Modify the Mattermost <code class="docutils literal notranslate"><span class="pre">systemd</span></code> file<a class="headerlink" href="#modify-the-mattermost-systemd-file" title="Link to this heading">#</a></h3>
<p>First, find the <code class="docutils literal notranslate"><span class="pre">mattermost.service</span></code> file using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>mattermost.service
</pre></div>
</div>
<p>The second line of output will have the location of the running <code class="docutils literal notranslate"><span class="pre">mattermost.service</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Loaded: loaded (/lib/systemd/system/mattermost.service; enabled; vendor preset: enabled)
</pre></div>
</div>
<p>Edit this file as <em>root</em> to add the below text just above the line that begins with <code class="docutils literal notranslate"><span class="pre">ExecStart</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>EnvironmentFile=/opt/mattermost/config/mattermost.environment
</pre></div>
</div>
<p>Hereâ€™s a complete <code class="docutils literal notranslate"><span class="pre">mattermost.service</span></code> file with the <code class="docutils literal notranslate"><span class="pre">EnvironmentFile</span></code> line added:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[Unit]
Description=Mattermost
After=network.target
After=mysql.service
Requires=mysql.service

[Service]
Type=notify
EnvironmentFile=/opt/mattermost/config/mattermost.environment
ExecStart=/opt/mattermost/bin/mattermost
TimeoutStartSec=3600
KillMode=mixed
Restart=always
RestartSec=10
WorkingDirectory=/opt/mattermost
User=mattermost
Group=mattermost
LimitNOFILE=49152

[Install]
WantedBy=mysql.service
</pre></div>
</div>
</section>
</section>
<section id="technical-notes-about-searching">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Technical notes about searching</a><a class="headerlink" href="#technical-notes-about-searching" title="Link to this heading">#</a></h2>
<p>By default, Mattermost uses full text search support included in MySQL. Select the <strong>product menu</strong> <a href="#id1"><span class="problematic" id="id2">|product-list|</span></a> then select <strong>About Mattermost</strong> to see which database youâ€™re using.</p>
<ul class="simple">
<li><p>Stop words are filtered out of search results. See <a class="reference external" href="https://dev.mysql.com/doc/refman/5.7/en/fulltext-stopwords.html">MySQL</a> database documentation for a full list of applicable stop words.</p></li>
<li><p>Hashtags or recent mentions of usernames containing a dot donâ€™t return results.</p></li>
<li><p>Avoid using underline <code class="docutils literal notranslate"><span class="pre">_</span></code> symbol to <a class="reference external" href="#wildcards">perform a wildcard search</a>. Use the asterisk <code class="docutils literal notranslate"><span class="pre">*</span></code> symbol instead.</p></li>
<li><p>Stop words that are excluded from search in MySQL include: <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;,</span> <span class="pre">&quot;about&quot;,</span> <span class="pre">&quot;an&quot;,</span> <span class="pre">&quot;are&quot;,</span> <span class="pre">&quot;as&quot;,</span> <span class="pre">&quot;at&quot;,</span> <span class="pre">&quot;be&quot;,</span> <span class="pre">&quot;by&quot;,</span> <span class="pre">&quot;com&quot;,</span> <span class="pre">&quot;de&quot;,</span> <span class="pre">&quot;en&quot;,</span> <span class="pre">&quot;for&quot;,</span> <span class="pre">&quot;from&quot;,</span> <span class="pre">&quot;how&quot;,</span> <span class="pre">&quot;i&quot;,</span> <span class="pre">&quot;in&quot;,</span> <span class="pre">&quot;is&quot;,</span> <span class="pre">&quot;it&quot;,</span> <span class="pre">&quot;la&quot;,</span> <span class="pre">&quot;of&quot;,</span> <span class="pre">&quot;on&quot;,</span> <span class="pre">&quot;or&quot;,</span> <span class="pre">&quot;that&quot;,</span> <span class="pre">&quot;the&quot;,</span> <span class="pre">&quot;this&quot;,</span> <span class="pre">&quot;to&quot;,</span> <span class="pre">&quot;was&quot;,</span> <span class="pre">&quot;what&quot;,</span> <span class="pre">&quot;when&quot;,</span> <span class="pre">&quot;where&quot;,</span> <span class="pre">&quot;who&quot;,</span> <span class="pre">&quot;will&quot;,</span> <span class="pre">&quot;with&quot;,</span> <span class="pre">&quot;und&quot;,</span> <span class="pre">&quot;the&quot;,</span> <span class="pre">&quot;www&quot;</span></code>.</p></li>
</ul>
<section id="perform-searches-in-chinese-korean-and-japanese">
<h3>Perform searches in Chinese, Korean, and Japanese<a class="headerlink" href="#perform-searches-in-chinese-korean-and-japanese" title="Link to this heading">#</a></h3>
<p>The best experience for searching in Chinese, Korean, and Japanese is to use MySQL 5.7.6 or later with special configuration. See the <a class="reference external" href="/install/i18n.html">Chinese, Japanese and Korean Search documentation</a> for details.</p>
<p>You can perform searches without this configuration by adding wildcards <code class="docutils literal notranslate"><span class="pre">*</span></code> to the end of search terms.</p>
</section>
</section>
<section id="migrate-from-bitnami-to-a-self-hosted-mattermost-deployment">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Migrate from Bitnami to a self-hosted Mattermost deployment</a><a class="headerlink" href="#migrate-from-bitnami-to-a-self-hosted-mattermost-deployment" title="Link to this heading">#</a></h2>
<p>If youâ€™re planning a migration from Bitnami to a self-hosted Mattermost installation with a MySQL database, read these notes in our migration guide: <a class="reference external" href="/onboard/migrating-to-mattermost.html#migrating-from-bitnami">Migrating from Bitnami</a>.</p>
</section>
<section id="downgrade-mattermost-v6-0-to-v5-38">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Downgrade Mattermost v6.0 to v5.38</a><a class="headerlink" href="#downgrade-mattermost-v6-0-to-v5-38" title="Link to this heading">#</a></h2>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>INSERT<span class="w"> </span>INTO<span class="w"> </span>Systems<span class="w"> </span><span class="o">(</span>Name,Value<span class="o">)</span><span class="w"> </span>VALUES<span class="w"> </span><span class="o">(</span><span class="s1">&#39;Version&#39;</span>,<span class="s1">&#39;5.38.0&#39;</span><span class="o">)</span><span class="w"> </span>ON<span class="w"> </span>DUPLICATE<span class="w"> </span>KEY<span class="w"> </span>UPDATE<span class="w"> </span><span class="nv">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;5.38.0&#39;</span><span class="p">;</span>

CREATE<span class="w"> </span>INDEX<span class="w"> </span>idx_status_status<span class="w"> </span>ON<span class="w"> </span>Status<span class="w"> </span><span class="o">(</span>Status<span class="o">)</span><span class="p">;</span>
DROP<span class="w"> </span>INDEX<span class="w"> </span>idx_status_status_dndendtime<span class="w"> </span>ON<span class="w"> </span>Status<span class="p">;</span>
CREATE<span class="w"> </span>INDEX<span class="w"> </span>idx_channelmembers_user_id<span class="w"> </span>ON<span class="w"> </span>ChannelMembers<span class="w"> </span><span class="o">(</span>UserId<span class="o">)</span><span class="p">;</span>
DROP<span class="w"> </span>INDEX<span class="w"> </span>idx_channelmembers_channel_id_scheme_guest_user_id<span class="w"> </span>ON<span class="w"> </span>ChannelMembers<span class="p">;</span>
DROP<span class="w"> </span>INDEX<span class="w"> </span>idx_channelmembers_user_id_channel_id_last_viewed_at<span class="w"> </span>ON<span class="w"> </span>ChannelMembers<span class="p">;</span>
CREATE<span class="w"> </span>INDEX<span class="w"> </span>idx_threads_channel_id<span class="w"> </span>ON<span class="w"> </span>Threads<span class="w"> </span><span class="o">(</span>ChannelId<span class="o">)</span><span class="p">;</span>
DROP<span class="w"> </span>INDEX<span class="w"> </span>idx_threads_channel_id_last_reply_at<span class="w"> </span>ON<span class="w"> </span>Threads<span class="p">;</span>
CREATE<span class="w"> </span>INDEX<span class="w"> </span>idx_channels_team_id<span class="w"> </span>ON<span class="w"> </span>Channels<span class="w"> </span><span class="o">(</span>TeamId<span class="o">)</span><span class="p">;</span>
DROP<span class="w"> </span>INDEX<span class="w"> </span>idx_channels_team_id_type<span class="w"> </span>ON<span class="w"> </span>Channels<span class="p">;</span>
DROP<span class="w"> </span>INDEX<span class="w"> </span>idx_channels_team_id_display_name<span class="w"> </span>ON<span class="w"> </span>Channels<span class="p">;</span>
CREATE<span class="w"> </span>INDEX<span class="w"> </span>idx_posts_root_id<span class="w"> </span>ON<span class="w"> </span>Posts<span class="w"> </span><span class="o">(</span>RootId<span class="o">)</span><span class="p">;</span>
DROP<span class="w"> </span>INDEX<span class="w"> </span>idx_posts_root_id_delete_at<span class="w"> </span>ON<span class="w"> </span>Posts<span class="p">;</span>

ALTER<span class="w"> </span>TABLE<span class="w"> </span>CommandWebhooks<span class="w"> </span>ADD<span class="w"> </span>COLUMN<span class="w"> </span>ParentId<span class="w"> </span>varchar<span class="o">(</span><span class="m">26</span><span class="o">)</span><span class="p">;</span>
UPDATE<span class="w"> </span>CommandWebhooks<span class="w"> </span>SET<span class="w"> </span><span class="nv">ParentId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>Posts<span class="w"> </span>ADD<span class="w"> </span>COLUMN<span class="w"> </span>ParentId<span class="w"> </span>varchar<span class="o">(</span><span class="m">26</span><span class="o">)</span><span class="p">;</span>
UPDATE<span class="w"> </span>Posts<span class="w"> </span>SET<span class="w"> </span><span class="nv">ParentId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>

ALTER<span class="w"> </span>TABLE<span class="w"> </span>Users<span class="w"> </span>MODIFY<span class="w"> </span>Timezone<span class="w"> </span>text<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>Users<span class="w"> </span>MODIFY<span class="w"> </span>NotifyProps<span class="w"> </span>text<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>Users<span class="w"> </span>MODIFY<span class="w"> </span>Props<span class="w"> </span>text<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>Threads<span class="w"> </span>MODIFY<span class="w"> </span>Participants<span class="w"> </span>longtext<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>Sessions<span class="w"> </span>MODIFY<span class="w"> </span>Props<span class="w"> </span>text<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>Posts<span class="w"> </span>MODIFY<span class="w"> </span>Props<span class="w"> </span>text<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>Jobs<span class="w"> </span>MODIFY<span class="w"> </span>Data<span class="w"> </span>text<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>LinkMetadata<span class="w"> </span>MODIFY<span class="w"> </span>Data<span class="w"> </span>text<span class="p">;</span>
ALTER<span class="w"> </span>TABLE<span class="w"> </span>ChannelMembers<span class="w"> </span>MODIFY<span class="w"> </span>NotifyProps<span class="w"> </span>text<span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The inverse of <a class="reference external" href="https://gist.github.com/streamer45/59b3582118913d4fc5e8ff81ea78b055#mysql-1">the final v6.0 upgrade query</a> is intentionally omitted from these downgrade queries because its result is backwards compatible, and running the query would unnecessarily delay the downgrade process.</p>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2015-2023 Mattermost
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Prepare your Mattermost MySQL database</a><ul>
<li><a class="reference internal" href="#set-up-the-mattermost-mysql-database">Set up the Mattermost MySQL database</a></li>
<li><a class="reference internal" href="#back-up-the-database">Back up the database</a></li>
<li><a class="reference internal" href="#upgrade-mattermost">Upgrade Mattermost</a></li>
<li><a class="reference internal" href="#high-availabiilty-configuration-setting-recommendations">High availabiilty configuration setting recommendations</a></li>
<li><a class="reference internal" href="#encryption-at-rest">Encryption-at-rest</a></li>
<li><a class="reference internal" href="#use-sockets-for-the-database">Use sockets for the database</a></li>
<li><a class="reference internal" href="#mattermost-configuration-in-the-database">Mattermost configuration in the database</a><ul>
<li><a class="reference internal" href="#create-an-environment-file">Create an environment file</a></li>
<li><a class="reference internal" href="#modify-the-mattermost-systemd-file">Modify the Mattermost <code class="docutils literal notranslate"><span class="pre">systemd</span></code> file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#technical-notes-about-searching">Technical notes about searching</a><ul>
<li><a class="reference internal" href="#perform-searches-in-chinese-korean-and-japanese">Perform searches in Chinese, Korean, and Japanese</a></li>
</ul>
</li>
<li><a class="reference internal" href="#migrate-from-bitnami-to-a-self-hosted-mattermost-deployment">Migrate from Bitnami to a self-hosted Mattermost deployment</a></li>
<li><a class="reference internal" href="#downgrade-mattermost-v6-0-to-v5-38">Downgrade Mattermost v6.0 to v5.38</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/tabs.js?v=3030b3cb"></script>
    </body>
</html>