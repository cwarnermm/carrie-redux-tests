<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />
        <link rel="canonical" href="https://www.ethereal.cc/redux/install/install-debian.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Installing Mattermost on Debian Buster - Mattermost documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/compass-icons.css?v=b28d7826" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --font-stack: Noto Sans, Helvetica Neue, Arial, sans-serif;
  --font-stack--monospace: Fira Mono, Courier New, Courier, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Mattermost  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Mattermost  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview/index.html">About Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of About Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/product.html">Mattermost overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/use-cases.html">Use cases</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Use cases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/secure-command-and-control.html">Secure command and control</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../about/unified-collaboration.html">Unified communication</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Unified communication</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-for-microsoft-teams.html">Mattermost for Microsoft Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-google-calendar-integration.html">Mattermost Google Calendar integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../about/devops-collaboration.html">DevOps collaboration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/incident-response-collaboration.html">Incident response collaboration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/security.html">Security overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/integrations.html">Integrations overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/subscription.html">Subscription overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/self-hosted-subscriptions.html">Self-hosted subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/cloud-subscriptions.html">Cloud subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/editions-and-offerings.html">Mattermost editions and plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/corporate-directory-integration.html">Corporate directory integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/certifications-and-compliance.html">Certifications and compliance overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/frequently-asked-questions.html">Frequently asked questions (FAQ)</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Frequently asked questions (FAQ)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-general.html">General Mattermost questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-community.html">Community questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-notifications.html">Notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-video-audio-screensharing.html">Video, audio, and screen sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-enterprise.html">Enterprise questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-license.html">License questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-integrations.html">Integrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-use-cases.html">Use cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-product.html">Product questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-high-trust.html">High trust questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-design-decisions.html">Design decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-business.html">Business questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-illicit-use.html">Illicit use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/deployment.html">Deploy Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Deploy Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="prepare-mattermost-database.html">Prepare your Mattermost database</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-ubuntu.html">Deploy on Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-docker.html">Deploy using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-tar.html">Deploy with a tarball</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-mattermost-omnibus.html">Deploy using Omnibus</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-kubernetes.html">Deploy using Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-rhel-8.html">Deploy on Red Hat</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/prepare-for-your-mattermost-deployment.html">Prepare for your Mattermost deployment</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Prepare for your Mattermost deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="software-hardware-requirements.html">  Software and hardware requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="mattermost-kubernetes-operator.html">  About the Mattermost Kubernetes Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/admin-onboarding-tasks.html">  Administrator tasks</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../getting-started/architecture-overview.html">  Architecture overview</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of   Architecture overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/implementation-plan.html">  Plan your Mattermost implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/enterprise-roll-out-checklist.html">  Enterprise roll out checklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/welcome-email-to-end-users.html">  Welcome email template</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-guides.html">Deployment guides</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Deployment guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/server-deployment.html">Server deployment</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Server deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deployment-overview.html"> Deployment overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="setting-up-socket-based-mattermost-database.html"> Set up a socket-based Mattermost database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/image-proxy.html"> Image proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/backup-disaster-recovery.html"> Backup and disaster recovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/encryption-options.html"> Encryption options</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="transport-encryption.html"> Configure transport encryption</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of  Configure transport encryption</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="proxy-to-mattermost-transport-encryption.html">Configuring proxy to Mattermost transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="database-transport-encryption.html">Configuring database transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="cluster-transport-encryption.html">Configuring cluster transport encryption</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/bleve-search.html"> Bleve search</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/desktop-mobile-app-deployment.html">Desktop and mobile app deployment</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Desktop and mobile app deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/desktop-app.html">Desktop app deployment guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="desktop-msi-installer-and-group-policy-install.html">Desktop MSI installer and group policy installation guides (beta)</a></li>
<li class="toctree-l4"><a class="reference internal" href="desktop-custom-dictionaries.html">Desktop App custom dictionaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="desktop-app-managed-resources.html">Desktop managed resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/use-prebuilt-mobile-apps.html">Using Mattermost’s pre-built mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-testing-notifications.html">Testing push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-overview.html">Deploy Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-hpns.html">Mobile push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/build-custom-mobile-apps.html">Building and distributing your own custom Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deploy-mobile-apps-using-emm-provider.html">Deploying mobile apps using an EMM provider</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-appconfig.html">AppConfig for EMM solutions with Mattermost Mobile Apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/consider-mobile-vpn-options.html">Mobile VPN options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-faq.html">Mobile apps FAQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/client-side-data.html">Client-side data storage FAQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/upgrade-mattermost.html">Upgrade Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Upgrade Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/prepare-to-upgrade-mattermost.html"> Prepare to upgrade Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/upgrading-mattermost-server.html"> Upgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="enterprise-install-upgrade.html"> Enterprise install and upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/installing-license-key.html"> Install a license key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-definitions.html"> Release definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/important-upgrade-notes.html"> Important upgrade notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-lifecycle.html"> Release lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/extended-support-release.html"> Extended Support Release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/downgrading-mattermost-server.html"> Downgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/version-archive.html"> Version archive</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/scale-mattermost.html">Scale Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Scale Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../scale/scaling-for-enterprise.html"> Scale for Enterprise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/high-availability-cluster.html"> High availability cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/elasticsearch.html"> Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-monitoring.html"> Performance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-alerting.html"> Mattermost performance alerting guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-troubleshooting.html">Deployment troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Deployment troubleshooting</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">  General troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/high-scale-troubleshoot.html">  Troubleshooting your high scale deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-troubleshoot.html">  Troubleshooting mobile applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="trouble-postgres.html">  PostgreSQL installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="trouble_mysql.html">  MySQL installation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/changelogs.html">Changelogs</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Changelogs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="self-managed-changelog.html">  Mattermost self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="legacy-self-hosted-changelog.html">  Mattermost legacy self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud-changelog.html">  Mattermost Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-app-changelog.html">  Mobile apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="desktop-app-changelog.html">  Desktop apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="deprecated-features.html">  Deprecated features</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/additional-server-installation-guides.html">Additional server installation guides</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Additional server installation guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="deploying-team-edition-on-bitnami.html">  Deploy Mattermost on Bitnami</a></li>
<li class="toctree-l3"><a class="reference internal" href="setting-up-aws-elastic-beanstalk-docker.html">  AWS Elastic Beanstalk Docker setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-team-edition-helm-chart.html">  Install Mattermost Team Edition in GitLab Helm Chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/open-source-components.html">  Open source components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/administration.html">Manage Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Manage Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/get-started-with-administration.html">Get started</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Get started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../configure/optimize-your-workspace.html">Optimize your workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuration-settings.html">Mattermost configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/self-hosted-account-settings.html">Self-hosted edition and license</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/cloud-billing-account-settings.html">Cloud subscription, billing, and account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/reporting-configuration-settings.html">Reporting configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/user-management-configuration-settings.html">User management configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/environment-configuration-settings.html">Environment configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/site-configuration-settings.html">Site configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/authentication-configuration-settings.html">Authentication configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/plugins-configuration-settings.html">Plugins configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/integrations-configuration-settings.html">Integrations configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/compliance-configuration-settings.html">Compliance configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/experimental-configuration-settings.html">Experimental configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/deprecated-configuration-settings.html">Deprecated configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/environment-variables.html">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/user-provisioning-workflows.html">Provisioning workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/multi-factor-authentication.html">Multi-factor authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ad-ldap.html">Active Directory/LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-gitlab.html">GitLab SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-openidconnect.html">OpenID SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-google.html">Google SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-office.html">Office 365 SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/advanced-permissions.html">Advanced permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/system-admin-roles.html">System admin roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/team-channel-members.html">Manage team and channel members</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/custom-branding-tools.html">Custom branding tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/electronic-discovery.html">eDiscovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-monitoring.html">Compliance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-export.html">Compliance export</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/legal-hold.html">Legal hold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/data-retention-policy.html">Data retention tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/custom-terms-of-service.html">Custom terms of service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/notify-admin.html">Notify Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ad-ldap-groups-synchronization.html">AD/LDAP groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/managing-team-channel-membership-using-ad-ldap-sync-groups.html">Use AD/LDAP synchronized groups to manage team or private channel membership</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/guest-accounts.html">Guest accounts</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../onboard/sso-saml.html">SAML Single Sign-On</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of SAML Single Sign-On</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-okta.html">Okta SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-onelogin.html">OneLogin SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-adfs.html">Microsoft ADFS SAML Configuration for Windows Server 2012</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-adfs-msws2016.html">Microsoft ADFS SAML Configuration for Windows Server 2016</a></li>
<li class="toctree-l4"><a class="reference internal" href="../onboard/sso-saml-keycloak.html">Keycloak SAML Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/sso-saml-technical.html">SAML Single-Sign-On: technical documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/shared-channels.html">Shared channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/statistics.html">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/in-product-notices.html">In-product notices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/user-satisfaction-surveys.html">User satisfaction surveys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/health-checks.html">Health check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/announcement-banner.html">Announcement banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/bulk-export-tool.html">Bulk export tool</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/cloud-workspace-management.html">Cloud workspace management</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Cloud workspace management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-billing.html">Mattermost Cloud billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/workspace-usage.html">Workspace usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-export.html">Workspace migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-residency.html">Cloud data residency</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/self-hosted-administration.html">Self-hosted administration</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Self-hosted administration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/self-hosted-billing.html">Mattermost self-hosted billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuation-in-a-database.html">Store configuration in the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/bulk-loading-data.html">Bulk loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/smtp-email.html">SMTP email setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/email-templates.html">Email templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/calls-deployment.html">Calls deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuring-cloudfront-to-host-mattermost-static-assets.html">Configure CloudFront to host static assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/using-outbound-proxy.html">Use an outbound proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/migrating-to-mattermost.html">Migration guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/postgres-migration.html">Migration from MySQL to PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/enabling-chinese-japanese-korean-search.html">Chinese, Japanese, and Korean search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/customizing-mattermost.html">Customize Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/audit-log.html">Audit logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/embedded-json-audit-log-schema.html">JSON audit log schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/ssl-client-certificate.html">SSL client certificate setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/certificate-based-authentication.html">Certificate-based authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/telemetry.html">Manage telemetry</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/other-administration-resources.html">Other resources</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Other resources</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../onboard/convert-oauth20-service-providers-to-openidconnect.html">Convert OAuth 2.0 providers to OpenID Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/generating-support-packet.html">Generate a support packet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/mmctl-command-line-tool.html">mmctl command line tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/migration-announcement-email.html">Migration announcement email template</a></li>
<li class="toctree-l3"><a class="reference internal" href="../onboard/advanced-permissions-backend-infrastructure.html">Advanced permissions infrastructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/command-line-tools.html">Command line tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/use-mattermost.html">Use Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Use Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/collaborate.html">Connect and collaborate</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Connect and collaborate</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/access-your-workspace.html">Access your Mattermost workspace</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Access your Mattermost workspace</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-desktop-app.html">Install the desktop app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-ios-app.html">Install the iOS mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-android-app.html">Install the Android mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/log-out.html">Log out of Mattermost</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/organize-using-teams.html">Organize using teams</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Organize using teams</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-settings.html">Team settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-keyboard-shortcuts.html">Team keyboard shortcuts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/organize-using-custom-user-groups.html">Organize using custom user groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/invite-people.html">Invite people</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/learn-about-roles.html">Learn about Mattermost roles</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/collaborate-within-channels.html">Collaborate within channels</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Collaborate within channels</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-types.html">Channel types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-naming-conventions.html">Channel naming conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-header-purpose.html">Communicate a channel's focus and scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/create-channels.html">Create channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/rename-channels.html">Rename channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/convert-public-channels.html">Convert public channels to private</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/join-leave-channels.html">Join and leave channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/make-calls.html">Make calls in Mattermost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/manage-channel-members.html">Manage channel members</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/browse-channels.html">Browse channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/navigate-between-channels.html">Navigate between channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/favorite-channels.html">Mark channels as favorites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-channels-unread.html">Mark channels as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/archive-unarchive-channels.html">Archive and unarchive channels</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/communicate-with-messages.html">Communicate with messages and threads</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Communicate with messages and threads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/send-messages.html">Send messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/reply-to-messages.html">Reply to messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/react-with-emojis-gifs.html">React with emojis and GIFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/organize-conversations.html">Organize conversations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-messages-unread.html">Mark messages as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/forward-messages.html">Forward messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-links.html">Share links to channels and messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/save-pin-messages.html">Save and pin messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-reminders.html">Set message reminders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/search-for-messages.html">Search for messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/format-messages.html">Format messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-priority.html">Set message priority</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mention-people.html">Mention people</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-files-in-messages.html">Share files in messages</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/keyboard-shortcuts.html">Keyboard shortcuts</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Keyboard shortcuts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/keyboard-accessibility.html">Keyboard accessibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/run-slash-commands.html">Run slash commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/built-in-slash-commands.html">Built-in-slash-commands</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/extend-mattermost-with-integrations.html">Extend Mattermost with integrations</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Extend Mattermost with integrations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/collaborate-using-mattermost-for-microsoft-teams.html">Collaborate using Mattermost for MS Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/use-mattermost-google-calendar-plugin.html">Use the Mattermost Google Calendar plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/repeatable-processes.html">Build repeatable processes</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Build repeatable processes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/learn-about-playbooks.html">Learn about playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-playbooks.html">Work with playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-runs.html">Work with runs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-tasks.html">Work with tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/notifications-and-updates.html">Work with notifications and updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/metrics-and-goals.html">Work with metrics and goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/share-and-collaborate.html">Share and collaborate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/interact-with-playbooks.html">Interact with playbooks</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/preferences.html">Customize your preferences</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Customize your preferences</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-notifications.html">Manage your notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-theme.html">Customize your Mattermost theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-channel-sidebar.html">Customize your channel sidebar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-profile.html">Manage your profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-security-preferences.html">Manage your security preferences</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/set-your-status-availability.html">Set your status &amp; availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-display-options.html">Manage your display options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-sidebar-options.html">Manage your sidebar options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-advanced-options.html">Manage advanced options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-desktop-app-experience.html">Customize your desktop app experience</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/connect-multiple-workspaces.html">Connect to multiple workspaces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://developers.mattermost.com/">Develop with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/get-help.html">Get help with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/community-chat.html">Join our community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://handbook.mattermost.com/">Learn how we work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/contribute-to-documentation.html">Contribute to this documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="installing-mattermost-on-debian-buster">
<span id="install-debian"></span><h1><a class="toc-backref" href="#id1" role="doc-backlink">Installing Mattermost on Debian Buster</a><a class="headerlink" href="#installing-mattermost-on-debian-buster" title="Link to this heading">#</a></h1>
<div class="mm-badge"><p><img alt="plans-img" src="../_images/flag_icon.svg" /> Available on <a class="reference external" href="https://mattermost.com/pricing/">all plans</a></p>
<p><img alt="deployment-img" src="../_images/deployment_icon.svg" /> <a class="reference external" href="https://mattermost.com/deploy/">self-hosted</a> deployments</p>
</div><p>Install a production-ready Mattermost system on up to three machines.</p>
<p>A complete Mattermost installation consists of three major components: a proxy server, a database server, and the Mattermost server. You can install all components on one machine, or you can install each component on its own machine. If you have only two machines, then install the proxy and the Mattermost server on one machine, and install the database on the other machine.</p>
<p>For the database, you can install either PostgreSQL or MySQL. The proxy is NGINX.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have any problems installing Mattermost, see the <a class="reference external" href="/install/troubleshooting.html">troubleshooting guide</a>, or <a class="reference external" href="https://mattermost.com/pl/default-ask-mattermost-community/">join the Mattermost user community for troubleshooting help</a>.</p>
<p>For help with inviting users to your system, see <a class="reference external" href="/collaborate/manage-channel-members.html">inviting team members</a> and other <a class="reference external" href="/getting-started/admin-onboarding-tasks.html#getting-started-tasks">getting started information</a>.</p>
<p>To submit an improvement or correction to this page, select <strong>Edit</strong> in the top-right corner of the page.</p>
</div>
<nav class="contents" id="install-and-configure-the-components-in-the-following-order">
<p class="topic-title">Install and configure the components in the following order.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installing-mattermost-on-debian-buster" id="id1">Installing Mattermost on Debian Buster</a></p></li>
<li><p><a class="reference internal" href="#install-mattermost-server-using-the-tarball" id="id2">Install Mattermost Server using the tarball</a></p>
<ul>
<li><p><a class="reference internal" href="#download" id="id3">Download</a></p></li>
<li><p><a class="reference internal" href="#install" id="id4">Install</a></p></li>
<li><p><a class="reference internal" href="#setup" id="id5">Setup</a></p></li>
<li><p><a class="reference internal" href="#updates" id="id6">Updates</a></p></li>
<li><p><a class="reference internal" href="#remove-mattermost" id="id7">Remove Mattermost</a></p></li>
<li><p><a class="reference internal" href="#frequently-asked-questions" id="id8">Frequently asked questions</a></p></li>
<li><p><a class="reference internal" href="#install-a-database" id="id9">Install a database</a></p></li>
<li><p><a class="reference internal" href="#configure-mattermost-server" id="id10">Configure Mattermost server</a></p></li>
<li><p><a class="reference internal" href="#configure-tls-on-mattermost-server" id="id11">Configure TLS on Mattermost server</a></p></li>
<li><p><a class="reference internal" href="#install-nginx-server" id="id12">Install NGINX server</a></p></li>
<li><p><a class="reference internal" href="#configure-nginx-as-a-proxy-for-mattermost-server" id="id13">Configure NGINX as a proxy for Mattermost server</a></p></li>
<li><p><a class="reference internal" href="#configure-nginx-with-ssl-and-http-2" id="id14">Configure NGINX with SSL and HTTP/2</a></p></li>
</ul>
</li>
</ul>
</nav>
</section>
<section id="install-mattermost-server-using-the-tarball">
<h1><a class="toc-backref" href="#id2" role="doc-backlink">Install Mattermost Server using the tarball</a><a class="headerlink" href="#install-mattermost-server-using-the-tarball" title="Link to this heading">#</a></h1>
<div class="mm-badge mm-badge--combo">

  <div class="mm-badge__plan-deploy">
    <p>
      <img src="../_static/images/badges/flag_icon.svg" alt="" />
      <span>Available on <a href="https://mattermost.com/pricing/">all plans</a></span>
    </p>
    <p>
      <img src="../_static/images/badges/deployment_icon.svg" alt="" />
      <span><a href="https://mattermost.com/download/">Self-hosted</a> deployments</span>
    </p>
  </div>

  <div class="mm-badge__reqs">
    <h3>Minimum system requirements:</h3>
    <ul>
      <li>Hardware: 1 vCPU/core with 2GB RAM (support for up to 1,000 users)</li>
      <li>Database: PostgreSQL v11+</li>
      <li>Network:
        <ul>
          <li>Application 80/443, TLS, TCP Inbound</li>
          <li>Administrator Console 8065, TLS, TCP Inbound</li>
          <li>SMTP port 10025, TCP/UDP Outbound</li>
        </ul>
      </li>
    </ul>
  </div>

</div><p>You can install the Mattermost Server on any 64-bit Linux system using the tarball. This is the most flexible installation method, but it comes with the highest effort, normally favored by advanced system administrators.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are running the Mattermost Server and database on a single system, we recommend the <a class="reference external" href="/install/installing-mattermost-omnibus.html">Mattermost Omnibus install method</a> as this greatly reduces setup and ongoing maintenance, and uses the Mattermost PPA for updates. More modern installation methods such as the Mattermost Helm Chart or Kubernetes Operator are available and are highly recommended.</p>
</div>
<nav class="contents local" id="on-this-page">
<p class="topic-title">On this page</p>
<ul class="simple">
<li><p><a class="reference internal" href="#download" id="id15">Download</a></p></li>
<li><p><a class="reference internal" href="#install" id="id16">Install</a></p></li>
<li><p><a class="reference internal" href="#setup" id="id17">Setup</a></p></li>
<li><p><a class="reference internal" href="#updates" id="id18">Updates</a></p></li>
<li><p><a class="reference internal" href="#remove-mattermost" id="id19">Remove Mattermost</a></p></li>
<li><p><a class="reference internal" href="#frequently-asked-questions" id="id20">Frequently asked questions</a></p></li>
<li><p><a class="reference internal" href="#install-a-database" id="id21">Install a database</a></p></li>
<li><p><a class="reference internal" href="#configure-mattermost-server" id="id22">Configure Mattermost server</a></p></li>
<li><p><a class="reference internal" href="#configure-tls-on-mattermost-server" id="id23">Configure TLS on Mattermost server</a></p></li>
<li><p><a class="reference internal" href="#install-nginx-server" id="id24">Install NGINX server</a></p></li>
<li><p><a class="reference internal" href="#configure-nginx-as-a-proxy-for-mattermost-server" id="id25">Configure NGINX as a proxy for Mattermost server</a></p></li>
<li><p><a class="reference internal" href="#configure-nginx-with-ssl-and-http-2" id="id26">Configure NGINX with SSL and HTTP/2</a></p></li>
</ul>
</nav>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need a PostgreSQL database. See the <a class="reference external" href="install/prepare-mattermost-database.html">database preparation</a> documentation for details on this prerequisite.</p>
</div>
<p>A Mattermost deployment includes 3 steps: <a class="reference external" href="#download">download</a>, <a class="reference external" href="#install">install</a>, and <a class="reference external" href="#setup">setup</a>.</p>
<section id="download">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Download</a><a class="headerlink" href="#download" title="Link to this heading">#</a></h2>
<p>In a terminal window, ssh onto the system that will host the Mattermost Server.</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">wget</span></code>, download the Mattermost Server release you want to install.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">Latest release</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Current ESR</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">Older releases</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="mm-code-copy mm-code-copy--long" data-click-method="Tarball" data-click-command="Download the latest release">

  <div class="mm-code-copy__wrapper">
    <code class="mm-code-copy__text mm-code-copy__trigger" data-click-el="Snippet">
    wget https://releases.mattermost.com/8.1.2/mattermost-8.1.2-linux-amd64.tar.gz
    </code>
    <span class="mm-code-copy__copied-notice">Copied to clipboard</span>
  </div>

  <button class="mm-button mm-code-copy__trigger" data-click-el="Button">
  <svg aria-hidden="true" width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="10.2972" height="10.8284" rx="0.5" stroke="white"/><rect x="6.1489" y="6.41418" width="10.2972" height="10.8284" rx="0.5" stroke="white"/></svg>
    <span>Copy to clipboard<span>
  </button>

</div></div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="mm-code-copy mm-code-copy--long" data-click-method="Tarball" data-click-command="Download the current ESR">

  <div class="mm-code-copy__wrapper">
    <code class="mm-code-copy__text mm-code-copy__trigger" data-click-el="Snippet">
      wget https://releases.mattermost.com/7.8.11/mattermost-7.8.11-linux-amd64.tar.gz
    </code>
    <span class="mm-code-copy__copied-notice">Copied to clipboard</span>
  </div>

  <button class="mm-button mm-code-copy__trigger" data-click-el="Button">
    <svg aria-hidden="true" width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.5" y="0.5" width="10.2972" height="10.8284" rx="0.5" stroke="white"/><rect x="6.1489" y="6.41418" width="10.2972" height="10.8284" rx="0.5" stroke="white"/></svg>
    <span>Copy to clipboard<span>
  </button>

</div></div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><p>If you are looking for an older release, these can be found in our <a class="reference external" href="/upgrade/version-archive.html">version archive</a> documentation.</p>
<ul class="simple">
<li><p><a class="reference external" href="/upgrade/version-archive.html#mattermost-enterprise-edition">Enterprise Edition releases</a></p></li>
<li><p><a class="reference external" href="/upgrade/version-archive.html#mattermost-team-edition">Team Edition releases</a></p></li>
</ul>
</div></div>
</section>
<section id="install">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Install</a><a class="headerlink" href="#install" title="Link to this heading">#</a></h2>
<p>Install the Mattermost Server by extracting the tarball, creating users and groups, and setting file/folder permissions.</p>
<p>First extract the tarball:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  tar -xvzf mattermost*.gz
</pre></div>
</div>
<p>Now move the entire folder to the <code class="docutils literal notranslate"><span class="pre">/opt</span></code> directory (or whatever path you require):</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo mv mattermost /opt
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you choose a custom path, ensure this alternate path is used in all steps that follow.</p>
</div>
<p>By default the Mattermost Server uses <code class="docutils literal notranslate"><span class="pre">/opt/mattermost/data</span></code> as the folder for files. This can be changed in the System Console during setup (even using alternative storage such as S3). Create the default storage folder:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo mkdir /opt/mattermost/data
</pre></div>
</div>
<p>Now set up a user and group called <code class="docutils literal notranslate"><span class="pre">mattermost</span></code>:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo useradd --system --user-group mattermost
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you choose a custom user and group name, ensure it is used in all the steps that follow.</p>
</div>
<p>Set the file and folder permissions for your installation:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo chown -R mattermost:mattermost /opt/mattermost
</pre></div>
</div>
<p>Give the <code class="docutils literal notranslate"><span class="pre">mattermost</span></code> group write permissions to the application folder:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo chmod -R g+w /opt/mattermost
</pre></div>
</div>
<p>You will now have the latest Mattermost Server version installed on your system. Starting and stopping the Mattermost Server is done using <code class="docutils literal notranslate"><span class="pre">systemd</span></code>. Create the systemd unit file:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo touch /lib/systemd/system/mattermost.service
</pre></div>
</div>
<p>As root, edit the systemd unit file to add the following lines:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  [Unit]
  Description=Mattermost
  After=network.target

  [Service]
  Type=notify
  ExecStart=/opt/mattermost/bin/mattermost
  TimeoutStartSec=3600
  KillMode=mixed
  Restart=always
  RestartSec=10
  WorkingDirectory=/opt/mattermost
  User=mattermost
  Group=mattermost
  LimitNOFILE=49152

  [Install]
  WantedBy=multi-user.target
</pre></div>
</div>
<p>Save the file and reload systemd using <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">daemon-reload</span></code>. Mattermost Server is now installed and is ready for setup.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are installing the Mattermost server on the same system as your database, you may want to add both <code class="docutils literal notranslate"><span class="pre">After=postgresql.service</span></code> and <code class="docutils literal notranslate"><span class="pre">BindsTo=postgresql.service</span></code> to the <code class="docutils literal notranslate"><span class="pre">[Unit]</span></code> section of the systemd unit file.</p>
</div>
</section>
<section id="setup">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Setup</a><a class="headerlink" href="#setup" title="Link to this heading">#</a></h2>
<p>Before you start the Mattermost Server, you need to edit the configuration file. A default configuration file is located at <code class="docutils literal notranslate"><span class="pre">/opt/mattermost/config/config.json</span></code>.</p>
<p>We recommend taking a backup of this default config ahead of making changes:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo cp /opt/mattermost/config/config.json /opt/mattermost/config/config.defaults.json
</pre></div>
</div>
<p>Configure the following properties in this file:</p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">DriverName</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;postgres&quot;</span></code>. This is the default and recommended database for all Mattermost installations.</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">DataSource</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;postgres://mmuser:&lt;mmuser-password&gt;&#64;&lt;host-name-or-IP&gt;:5432/mattermost?sslmode=disable&amp;connect_timeout=10&quot;</span></code> replacing <code class="docutils literal notranslate"><span class="pre">mmuser</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;mmuser-password&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;host-name-or-IP&gt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">mattermost</span></code> with your database name.</p></li>
<li><p>Set your <code class="docutils literal notranslate"><span class="pre">&quot;SiteURL&quot;</span></code>: The domain name for the Mattermost application (e.g. <code class="docutils literal notranslate"><span class="pre">https://mattermost.example.com</span></code>).</p></li>
</ul>
<p>After modifying the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> configuration file, you can now start the Mattermost server:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo systemctl start mattermost
</pre></div>
</div>
<p>Verify that Mattermost is running: curl <code class="docutils literal notranslate"><span class="pre">http://localhost:8065</span></code>. You should see the HTML that’s returned by the Mattermost Server.</p>
<p>The final step, depending on your requirements, is to run sudo <code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">enable</span> <span class="pre">mattermost.service</span></code> so that Mattermost will start on system boot.</p>
</section>
<section id="updates">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Updates</a><a class="headerlink" href="#updates" title="Link to this heading">#</a></h2>
<p>Updating your Mattermost Server installation when using the tarball requires several manual steps. See the <a class="reference external" href="/upgrade/upgrading-mattermost-server.html">upgrade Mattermost Server</a> documentation for details.</p>
</section>
<section id="remove-mattermost">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Remove Mattermost</a><a class="headerlink" href="#remove-mattermost" title="Link to this heading">#</a></h2>
<p>If you wish to remove the Mattermost Server for any reason, you must stop the Mattermost Server, back up all important files, and then run this command:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span> sudo rm /opt/mattermost
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your configuration, there are several important folders in <code class="docutils literal notranslate"><span class="pre">/opt/mattermost</span></code> to backup. These are <code class="docutils literal notranslate"><span class="pre">config</span></code>, <code class="docutils literal notranslate"><span class="pre">logs</span></code>, <code class="docutils literal notranslate"><span class="pre">plugins</span></code>, <code class="docutils literal notranslate"><span class="pre">client/plugins</span></code>, and <code class="docutils literal notranslate"><span class="pre">data</span></code>. We strongly recommend you back up these locations before running the <code class="docutils literal notranslate"><span class="pre">rm</span></code> command.</p>
</div>
<p>You may also remove the Mattermost systemd unit file and the user/group created for running the application.</p>
</section>
<section id="frequently-asked-questions">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Frequently asked questions</a><a class="headerlink" href="#frequently-asked-questions" title="Link to this heading">#</a></h2>
<section id="why-doesn-t-mattermost-start-at-system-boot">
<h3>Why doesn’t Mattermost start at system boot?<a class="headerlink" href="#why-doesn-t-mattermost-start-at-system-boot" title="Link to this heading">#</a></h3>
<p>To have the Mattermost Server start at system boot, the systemd until file needs to be enabled. Run the following command:</p>
<div class="mm-code-block highlight-none notranslate"><div class="highlight"><pre><span></span>  sudo systemctl enable mattermost.service
</pre></div>
</div>
</section>
<section id="why-does-mattermost-fail-to-start-at-system-boot">
<h3>Why does Mattermost fail to start at system boot?<a class="headerlink" href="#why-does-mattermost-fail-to-start-at-system-boot" title="Link to this heading">#</a></h3>
<p>If your database is on the same system as your Mattermost Server, we recommend editing the default <code class="docutils literal notranslate"><span class="pre">/lib/systemd/system/mattermost.service</span></code> systemd unit file to add <code class="docutils literal notranslate"><span class="pre">After=postgresql.service</span></code> and <code class="docutils literal notranslate"><span class="pre">BindsTo=postgresql.service</span></code> to the <code class="docutils literal notranslate"><span class="pre">[Unit]</span></code> section.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We recommend the <a class="reference external" href="/install/installing-mattermost-omnibus.html">Mattermost Omnibus install method</a> over the tarball if you are running the Mattermost Server and database a single system as this greatly reduces setup and ongoing maintenance.</p>
</div>
</section>
</section>
<section id="install-a-database">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Install a database</a><a class="headerlink" href="#install-a-database" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You only need one database: either PostgreSQL or MySQL. See the <a class="reference external" href="/install/software-hardware-requirements.html#database-software">database software</a> documentation for details on database version support.</p>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">Install PostgreSQL</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">Install MySQL</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><p>Install and set up a PostgreSQL database for use by the Mattermost server. These instructions assume that the IP address of this server is <code class="docutils literal notranslate"><span class="pre">10.10.10.1</span></code>.</p>
<ol class="arabic simple">
<li><p>Log in to the server that will host the database, and install PostgreSQL. See the <a class="reference external" href="https://www.postgresql.org/download/linux/debian/">PostgreSQL</a> documentation for details. When the installation is complete, the PostgreSQL server is running, and a Linux user account called <em>postgres</em> has been created.</p></li>
<li><p>Log in to the <em>postgres</em> account by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">--login</span> <span class="pre">--user</span> <span class="pre">postgres</span></code>.</p></li>
<li><p>Start the PostgreSQL interactive terminal by running <code class="docutils literal notranslate"><span class="pre">psql</span></code>.</p></li>
<li><p>Create the Mattermost database by running <code class="docutils literal notranslate"><span class="pre">postgres=#</span> <span class="pre">CREATE</span> <span class="pre">DATABASE</span> <span class="pre">mattermost;</span></code>.</p></li>
<li><p>Create the Mattermost user ‘mmuser’ by running <code class="docutils literal notranslate"><span class="pre">postgres=#</span> <span class="pre">CREATE</span> <span class="pre">USER</span> <span class="pre">mmuser</span> <span class="pre">WITH</span> <span class="pre">PASSWORD</span> <span class="pre">'mmuser-password';</span></code>.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use a password that is more secure than <code class="docutils literal notranslate"><span class="pre">mmuser-password</span></code>.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Grant the user access to the Mattermost database by running <code class="docutils literal notranslate"><span class="pre">postgres=#</span> <span class="pre">GRANT</span> <span class="pre">ALL</span> <span class="pre">PRIVILEGES</span> <span class="pre">ON</span> <span class="pre">DATABASE</span> <span class="pre">mattermost</span> <span class="pre">to</span> <span class="pre">mmuser;</span></code>.</p></li>
<li><p>Exit the PostgreSQL interactive terminal by running <code class="docutils literal notranslate"><span class="pre">postgres=#</span> <span class="pre">\q</span></code>.</p></li>
<li><p>Log out of the <em>postgres</em> account by running <code class="docutils literal notranslate"><span class="pre">exit</span></code>.</p></li>
<li><p>(Optional) If you use separate servers for your database and the Mattermost app server, you may allow PostgreSQL to listen on all assigned IP Addresses. To do so, open <code class="docutils literal notranslate"><span class="pre">/etc/postgresql/{version}/main/postgresql.conf</span></code> as <em>root</em> in a text editor, and replacing <code class="docutils literal notranslate"><span class="pre">{version}</span></code> with the version of PostgreSQL that’s currently running. As a best practice, ensure that only the Mattermost server is able to connect to the PostgreSQL port using a firewall.</p></li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Find the following line: <code class="docutils literal notranslate"><span class="pre">#listen_addresses</span> <span class="pre">=</span> <span class="pre">'localhost'</span></code>.</p></li>
<li><p>Uncomment the line and change <code class="docutils literal notranslate"><span class="pre">localhost</span></code> to <code class="docutils literal notranslate"><span class="pre">*</span></code>: <code class="docutils literal notranslate"><span class="pre">listen_addresses</span> <span class="pre">=</span> <span class="pre">'*'</span></code>.</p></li>
<li><p>Restart PostgreSQL for the change to take effect: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">postgresql</span></code>.</p></li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Modify the file <code class="docutils literal notranslate"><span class="pre">pg_hba.conf</span></code> to allow the Mattermost server to communicate with the database.</p></li>
</ol>
<blockquote>
<div><p><strong>If the Mattermost server and the database are on the same machine</strong>:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Open <code class="docutils literal notranslate"><span class="pre">/etc/postgresql/9.4/main/pg_hba.conf</span></code> in a text editor as <em>root</em> user.</p></li>
<li><p>Find the following lines:</p></li>
</ol>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">local</span>&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">peer</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">host</span>&#160;&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">::1/128</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">ident</span></code></p>
</div></blockquote>
<ol class="loweralpha simple" start="3">
<li><p>Change <code class="docutils literal notranslate"><span class="pre">peer</span></code> and <code class="docutils literal notranslate"><span class="pre">ident</span></code> to <code class="docutils literal notranslate"><span class="pre">trust</span></code>:</p></li>
</ol>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">local</span>&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">trust</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">host</span>&#160;&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">all</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">::1/128</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">trust</span></code></p>
</div></blockquote>
</div></blockquote>
<p><strong>If the Mattermost server and the database are on different machines</strong>:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Open <code class="docutils literal notranslate"><span class="pre">/etc/postgresql/9.4/main/pg_hba.conf</span></code> in a text editor as <em>root</em> user.</p></li>
<li><p>Add the following line to the end of the file, where <code class="docutils literal notranslate"><span class="pre">{mattermost-server-IP}</span></code> is the IP address of the machine that contains the Mattermost server: <code class="docutils literal notranslate"><span class="pre">host</span> <span class="pre">all</span> <span class="pre">all</span> <span class="pre">{mattermost-server-IP}/32</span> <span class="pre">md5</span></code>.</p></li>
</ol>
</div></blockquote>
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Reload PostgreSQL by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">reload</span> <span class="pre">postgresql</span></code>.</p></li>
<li><p>Verify that you can connect with the user <em>mmuser</em>.</p></li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>If the Mattermost server and the database are on the same machine, use the following command: <code class="docutils literal notranslate"><span class="pre">psql</span> <span class="pre">--dbname=mattermost</span> <span class="pre">--username=mmuser</span> <span class="pre">--password</span></code></p></li>
<li><p>If the Mattermost server is on a different machine, log into that machine and use the following command: <code class="docutils literal notranslate"><span class="pre">psql</span> <span class="pre">--host={postgres-server-IP}</span> <span class="pre">--dbname=mattermost</span> <span class="pre">--username=mmuser</span> <span class="pre">--password</span></code></p></li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You might have to install the PostgreSQL client software to use the command.</p>
</div>
<p>The PostgreSQL interactive terminal starts. To exit the PostgreSQL interactive terminal, type <code class="docutils literal notranslate"><span class="pre">\q</span></code> and press <kbd class="kbd docutils literal notranslate">Enter</kbd> on Windows or Linux, or <kbd class="kbd docutils literal notranslate">↵</kbd> on Mac.</p>
<p>With the database installed and the initial setup complete, you can now install the Mattermost server.</p>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"><p>Install and set up a MySQL database for use by the Mattermost server.</p>
<ol class="arabic simple">
<li><p>Log into the server that will host the database, and open a terminal window.</p></li>
<li><p>Download the MySQL repository package by running <code class="docutils literal notranslate"><span class="pre">wget</span> <span class="pre">https://dev.mysql.com/get/mysql-apt-config_0.8.13-1_all.deb</span></code>.</p></li>
<li><p>Install the repository by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dpkg</span> <span class="pre">-i</span> <span class="pre">mysql-apt-config*</span></code>.</p></li>
<li><p>Update your local package list by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span></code>.</p></li>
<li><p>Add the MySQL repo MySQL by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">mysql-server</span></code>.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>During the install, you’ll be prompted to create a password for the MySQL root user. Make a note of the password because you’ll need it in the next step.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Log in to MySQL as <em>root</em> by running <code class="docutils literal notranslate"><span class="pre">mysql</span> <span class="pre">-u</span> <span class="pre">root</span> <span class="pre">-p</span></code>. When prompted, enter the root password that you created when installing MySQL.</p></li>
<li><p>Create the Mattermost user <code class="docutils literal notranslate"><span class="pre">mmuser</span></code> by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">user</span> <span class="pre">'mmuser'&#64;'%'</span> <span class="pre">identified</span> <span class="pre">by</span> <span class="pre">'mmuser-password';</span></code>.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Use a password that is more secure than <code class="docutils literal notranslate"><span class="pre">mmuser-password</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">%</span></code> means that mmuser can connect from any machine on the network. However, it’s more secure to use the IP address of the machine that hosts Mattermost. For example, if you install Mattermost on the machine with IP address 10.10.10.2, then use the following command: <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">user</span> <span class="pre">'mmuser'&#64;'10.10.10.2'</span> <span class="pre">identified</span> <span class="pre">by</span> <span class="pre">'mmuser-password';</span></code>.</p></li>
</ul>
</div>
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Create the Mattermost database by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">database</span> <span class="pre">mattermost;</span></code>.</p></li>
<li><p>Grant access privileges to the user <code class="docutils literal notranslate"><span class="pre">mmuser</span></code> by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">grant</span> <span class="pre">all</span> <span class="pre">privileges</span> <span class="pre">on</span> <span class="pre">mattermost.*</span> <span class="pre">to</span> <span class="pre">'mmuser'&#64;'%';</span></code>.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This query grants the MySQL user we just created all privileges on the database for convenience. If you need more security, you can use the following query to grant the user only the privileges necessary to run Mattermost: <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">GRANT</span> <span class="pre">ALTER,</span> <span class="pre">CREATE,</span> <span class="pre">DELETE,</span> <span class="pre">DROP,</span> <span class="pre">INDEX,</span> <span class="pre">INSERT,</span> <span class="pre">SELECT,</span> <span class="pre">UPDATE,</span> <span class="pre">REFERENCES</span> <span class="pre">ON</span> <span class="pre">mattermost.*</span> <span class="pre">TO</span> <span class="pre">'mmuser'&#64;'%';</span></code>.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Log out of MySQL by running <code class="docutils literal notranslate"><span class="pre">mysql&gt;</span> <span class="pre">exit</span></code>. Once the database is installed, and the initial setup is complete, you can install the Mattermost server.</p></li>
</ol>
</div></div>
</section>
<section id="configure-mattermost-server">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Configure Mattermost server</a><a class="headerlink" href="#configure-mattermost-server" title="Link to this heading">#</a></h2>
<p>Create the System Admin user and set up Mattermost for general use.</p>
<ol class="arabic simple">
<li><p>Open a browser and navigate to your Mattermost instance. For example, if the IP address of the Mattermost server is <code class="docutils literal notranslate"><span class="pre">10.10.10.2</span></code> then go to <a class="reference external" href="http://10.10.10.2:8065">http://10.10.10.2:8065</a>.</p></li>
<li><p>Create the first team and user. The first user in the system has the <code class="docutils literal notranslate"><span class="pre">system_admin</span></code> role, which gives you access to the System Console.</p></li>
<li><p>To open the System Console, select the Product menu in the top-left corner of the navigation panel, then select <strong>System Console</strong>.</p></li>
<li><p>Set the site URL:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Open <strong>System Console &gt; Environment &gt; Web Server</strong>.</p></li>
<li><p>In the <strong>Site URL</strong> field, set the URL that users point their browsers at. For example, <em>https://mattermost.example.com</em>. If you’re using HTTPS, make sure that you set up TLS, either on Mattermost server or on a proxy.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Set up email notifications.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>In <strong>Site Configuration &gt; Notifications</strong> make the following changes:</p>
<ul>
<li><p>Set <strong>Enable Email Notifications</strong> to <strong>true</strong></p></li>
<li><p>Set <strong>Notification Display Name</strong> to <strong>No-Reply</strong></p></li>
<li><p>Set <strong>Notification From Address</strong> to <em>{your-domain-name}</em> For example, <em>example.com</em></p></li>
</ul>
</li>
<li><p>In <strong>System Console &gt; Environment &gt; SMTP</strong> make the following changes:</p>
<ul>
<li><p>Set <strong>SMTP Server Username</strong> to <em>{SMTP-username}</em> For example, <em>admin&#64;example.com</em></p></li>
<li><p>Set <strong>SMTP Server Password</strong> to <em>{SMTP-password}</em></p></li>
<li><p>Set <strong>SMTP Server</strong> to <em>{SMTP-server}</em> For example, <em>mail.example.com</em></p></li>
<li><p>Set <strong>SMTP Server Port</strong> to <em>465</em></p></li>
<li><p>Set <strong>Connection Security</strong> to <em>TLS</em> or <em>STARTTLS</em>, depending on what the SMTP server accepts</p></li>
</ul>
</li>
<li><p>Select <strong>Save</strong></p></li>
<li><p>Select <strong>Test Connection</strong>.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Open <strong>System Console &gt; Environment &gt; File Storage</strong> to set up the file and image storage location.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>If you store the files locally, set <strong>File Storage System</strong> to <em>Local File System</em>, and then either accept the default for the <strong>Local Storage Directory</strong> or enter a location. The location must be a directory that exists and has write permissions for the Mattermost server. It can be an absolute path or a relative path. Relative paths are relative to the <code class="docutils literal notranslate"><span class="pre">mattermost</span></code> directory.</p></li>
<li><p>If you store the files on Amazon S3, set <strong>File Storage System</strong> to <em>Amazon S3</em> and enter the appropriate values for your Amazon account.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Files and images that users attach to their messages are not stored in the database. Instead, they’re stored in a location that you specify, such as the local file system or in Amazon S3.</p></li>
<li><p>Make sure that the location has enough free space. The amount of storage required depends on the number of users and the number and size of files that users attach to messages.</p></li>
</ul>
</div>
<ol class="arabic simple" start="7">
<li><p>Select <strong>Save</strong> to apply the configuration.</p></li>
<li><p>Review and configure any other settings that may be applicable.</p></li>
<li><p>Restart Mattermost by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">mattermost</span></code>.</p></li>
</ol>
</section>
<section id="configure-tls-on-mattermost-server">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Configure TLS on Mattermost server</a><a class="headerlink" href="#configure-tls-on-mattermost-server" title="Link to this heading">#</a></h2>
<p>You have two options if you want users to connect with HTTPS:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Set up TLS on Mattermost server.</p></li>
<li><p>Install a proxy such as NGINX and set up TLS on the proxy.</p></li>
</ol>
</div></blockquote>
<p>The easiest option is to set up TLS on the Mattermost Server, but if you expect to have more than 200 users, use a proxy for better performance. A proxy server also provides standard HTTP request logs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Your Mattermost server must be accessible from the Let’s Encrypt CA in order to verify your domain name and issue the certificate. Be sure to open your firewall and configure any reverse proxies to forward traffic to ports 80 and 443. More information can be found <a class="reference external" href="https://letsencrypt.org/how-it-works/">at Let’s Encrypt</a>.</p>
</div>
<section id="configure-tls-on-the-mattermost-server">
<h3>Configure TLS on the Mattermost server<a class="headerlink" href="#configure-tls-on-the-mattermost-server" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>In <strong>System Console &gt; Environment &gt; Web Server</strong> (or <strong>System Console &gt; General &gt; Configuration</strong> in versions prior to 5.12).</p></li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Change the <strong>Listen Address</strong> setting to <code class="docutils literal notranslate"><span class="pre">:443</span></code>.</p></li>
<li><p>Change the <strong>Connection Security</strong> setting to <code class="docutils literal notranslate"><span class="pre">TLS</span></code>.</p></li>
<li><p>Change the <strong>Forward port 80 to 443</strong> setting to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Activate the <code class="docutils literal notranslate"><span class="pre">CAP_NET_BIND_SERVICE</span></code> capability to allow Mattermost to bind to low ports.</p></li>
</ol>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">setcap</span> <span class="pre">cap_net_bind_service=+ep</span> <span class="pre">/opt/mattermost/bin/mattermost</span></code></p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Install the security certificate. You can use <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a> to automatically install and setup the certificate, or you can specify your own certificate.</p></li>
</ol>
</section>
<section id="to-use-a-let-s-encrypt-certificate">
<h3>To use a Let’s Encrypt certificate<a class="headerlink" href="#to-use-a-let-s-encrypt-certificate" title="Link to this heading">#</a></h3>
<p>The certificate is retrieved the first time that a client tries to connect to the Mattermost server. Certificates are retrieved for any hostname a client tries to reach the server at.</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Change the <strong>Use Let’s Encrypt</strong> setting to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Restart the Mattermost server for these changes to take effect.</p></li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If Let’s Encrypt is enabled, forward port 80 through a firewall, with <a class="reference external" href="/configure/configuration-settings.html#forward-port-80-to-443">Forward80To443</a> <code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to complete the Let’s Encrypt certification.</p>
</div>
</section>
<section id="to-use-your-own-certificate">
<h3>To use your own certificate<a class="headerlink" href="#to-use-your-own-certificate" title="Link to this heading">#</a></h3>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Change the <strong>Use Let’s Encrypt</strong> setting to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Change the <strong>TLS Certificate File</strong> setting to the location of the certificate file.</p></li>
<li><p>Change the <strong>TLS Key File</strong> setting to the location of the private key file.</p></li>
<li><p>Restart the Mattermost server for these changes to take effect.</p></li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Password-protected certificates are not supported.</p>
</div>
</section>
<section id="use-tls-on-nginx-as-a-proxy">
<h3>Use TLS on NGINX (as a proxy)<a class="headerlink" href="#use-tls-on-nginx-as-a-proxy" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not set up TLS on Mattermost before before doing so for NGINX. It breaks the connection as the TLS prevents it from successfully communicating with the Mattermost server.</p>
</div>
<ul class="simple">
<li><p>NGINX will act as a forward proxy to encrypt the traffic between the client and Mattermost server. After installing the SSL certificate, the incoming traffic will be handled via NGINX on port 443 exposed to the internet, proxy to the Mattermost server running on port 80.</p></li>
<li><p>(Optional) Upstream encryption between NGINX to Mattermost server is allowed.</p></li>
<li><p>Follow <a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/security-controls/terminating-ssl-tcp/">NGINX’s guide on setting up SSL Termination for TCP Upstream Servers</a>.</p></li>
</ul>
<p>Other helpful resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.nginx.com/blog/nginx-ssl/">NGINX’s SSL blog</a></p></li>
<li><p><a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/security-controls/terminating-ssl-http/">NGINX’s SSL guide</a></p></li>
</ul>
</section>
</section>
<section id="install-nginx-server">
<span id="install-nginx"></span><h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Install NGINX server</a><a class="headerlink" href="#install-nginx-server" title="Link to this heading">#</a></h2>
<p>NGINX is a popular web server and is responsible for hosting some of the largest and highest-traffic sites on the internet. It’s more resource-friendly than Apache in most cases, and can be used as a web server or reverse proxy.</p>
<p>In a production setting, use a proxy server for greater security and performance of Mattermost.</p>
<ul class="simple">
<li><p>SSL termination</p></li>
<li><p>HTTP to HTTPS redirect</p></li>
<li><p>Port mapping <code class="docutils literal notranslate"><span class="pre">:80</span></code> to <code class="docutils literal notranslate"><span class="pre">:8065</span></code></p></li>
<li><p>Standard request logs</p></li>
</ul>
<section id="install-nginx-on-ubuntu-server">
<h3>Install NGINX on Ubuntu Server<a class="headerlink" href="#install-nginx-on-ubuntu-server" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Log in to the server that will host the proxy and open a terminal window.</p></li>
<li><p>Install NGINX.</p></li>
</ol>
<blockquote>
<div><p>Because NGINX is available in Ubuntu’s default repositories, it’s possible to install it from these repositories using the <code class="docutils literal notranslate"><span class="pre">apt</span></code> packaging system. First, update your local <code class="docutils literal notranslate"><span class="pre">apt</span></code> package index for access to the most recent package listings. Then, install <code class="docutils literal notranslate"><span class="pre">nginx</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">update</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">nginx</span></code></p>
<p>After accepting the procedure, <code class="docutils literal notranslate"><span class="pre">apt</span></code> will install NGINX and any required dependencies to your server.</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>After installing it, you already have everything you need. You can point your browser to your server IP address. You should see the default NGINX landing page:</p></li>
</ol>
<blockquote>
<div><img alt="Example of the default NGINX landing page." src="../_images/install_nginx_welcome.png" />
<p>If you see this page, you’ve successfully installed NGINX on your web server. This page is included with NGINX to show you that the server is running correctly.</p>
<p>Or you can also verify it by running <code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">http://localhost</span></code>.</p>
<p>If NGINX is running, you see the following output:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Welcome to nginx!<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
.
.
.
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">em</span><span class="p">&gt;</span>Thank you for using nginx.<span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="manage-the-nginx-process">
<h3>Manage the NGINX process<a class="headerlink" href="#manage-the-nginx-process" title="Link to this heading">#</a></h3>
<p>Now that you have your web server up and running, let’s review some basic management commands. These are all run in the command line interface.</p>
<p>To stop your web server, use: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">stop</span> <span class="pre">nginx</span></code></p>
<p>To start the web server when it’s stopped, use: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">start</span> <span class="pre">nginx</span></code></p>
<p>To stop and then start the service again, use: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">nginx</span></code></p>
<p>If you’re simply making configuration changes, NGINX can often reload without dropping connections. To do this, use: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">reload</span> <span class="pre">nginx</span></code></p>
<p>By default, NGINX is configured to start automatically when the server boots. If this isn’t what you want, you can disable this behavior using: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">disable</span> <span class="pre">nginx</span></code></p>
<p>To re-enable the service to start up at boot, use: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">enable</span> <span class="pre">nginx</span></code></p>
</section>
<section id="what-to-do-next">
<h3>What to do next<a class="headerlink" href="#what-to-do-next" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Map a fully qualified domain name (FQDN) such as <code class="docutils literal notranslate"><span class="pre">mattermost.example.com</span></code> on your DNS server/service, to point to the NGINX server.</p></li>
<li><p>Configure NGINX to proxy connections from the internet to the Mattermost server.</p></li>
</ol>
</section>
</section>
<section id="configure-nginx-as-a-proxy-for-mattermost-server">
<span id="config-proxy-nginx"></span><h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Configure NGINX as a proxy for Mattermost server</a><a class="headerlink" href="#configure-nginx-as-a-proxy-for-mattermost-server" title="Link to this heading">#</a></h2>
<p>NGINX is configured using a file in the <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available</span></code> directory. You need to create the file and then enable it. When creating the file, you need the IP address of your Mattermost server and the fully qualified domain name (FQDN) of your Mattermost website.</p>
<ol class="arabic simple">
<li><p>Log in to the server that hosts NGINX and open a terminal window.</p></li>
<li><p>Create a configuration file for Mattermost by running</p></li>
</ol>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">touch</span> <span class="pre">/etc/nginx/sites-available/mattermost</span></code> on Ubuntu
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">touch</span> <span class="pre">/etc/nginx/conf.d/mattermost</span></code> on RHEL 8</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Open the file <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/mattermost</span></code> (Ubuntu) or  <code class="docutils literal notranslate"><span class="pre">/etc/nginx/conf.d/mattermost</span></code> (RHEL 8) as <em>root</em> user in a text editor and replace its contents, if any, with the following lines. Make sure that you use your own values for the Mattermost server IP address and FQDN for <em>server_name</em>.</p></li>
</ol>
<p>SSL and HTTP/2 with server push are enabled in the provided configuration example.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If you’re going to use Let’s Encrypt to manage your SSL certificate, stop at step 3 and see the <a class="reference external" href="/install/config-ssl-http2-nginx.html">NGINX HTTP/2 and SSL product documentation</a> for details.</p></li>
<li><p>You’ll need valid SSL certificates in order for NGINX to pin the certificates properly. Additionally, your browser must have permissions to accept the certificate as a valid CA-signed certificate.</p></li>
<li><p>Note that the IP address included in the examples in this documentation may not match your network configuration.</p></li>
<li><p>If you’re running NGINX on the same machine as Mattermost, and NGINX resolves <code class="docutils literal notranslate"><span class="pre">localhost</span></code> to more than one IP address (IPv4 or IPv6), we recommend using <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> instead of <code class="docutils literal notranslate"><span class="pre">localhost</span></code>.</p></li>
</ul>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>upstream backend {
   server 10.10.10.2:8065;
   keepalive 32;
}

proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=mattermost_cache:10m max_size=3g inactive=120m use_temp_path=off;

server {
  listen 80 default_server;
  server_name   mattermost.example.com;
  return 301 https://$server_name$request_uri;
}

server {
   listen 443 ssl http2;
   server_name    mattermost.example.com;

   http2_push_preload on; # Enable HTTP/2 Server Push

   ssl on;
   ssl_certificate /etc/letsencrypt/live/{domain-name}/fullchain.pem;
   ssl_certificate_key /etc/letsencrypt/live/{domain-name}/privkey.pem;
   ssl_session_timeout 1d;

   # Enable TLS versions (TLSv1.3 is required upcoming HTTP/3 QUIC).
   ssl_protocols TLSv1.2 TLSv1.3;

   # Enable TLSv1.3&#39;s 0-RTT. Use $ssl_early_data when reverse proxying to
   # prevent replay attacks.
   #
   # @see: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_early_data
   ssl_early_data on;

   ssl_ciphers &#39;ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384&#39;;
   ssl_prefer_server_ciphers on;
   ssl_session_cache shared:SSL:50m;
   # HSTS (ngx_http_headers_module is required) (15768000 seconds = six months)
   add_header Strict-Transport-Security max-age=15768000;
   # OCSP Stapling ---
   # fetch OCSP records from URL in ssl_certificate and cache them
   ssl_stapling on;
   ssl_stapling_verify on;

   add_header X-Early-Data $tls1_3_early_data;

   location ~ /api/v[0-9]+/(users/)?websocket$ {
       proxy_set_header Upgrade $http_upgrade;
       proxy_set_header Connection &quot;upgrade&quot;;
       client_max_body_size 50M;
       proxy_set_header Host $http_host;
       proxy_set_header X-Real-IP $remote_addr;
       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       proxy_set_header X-Forwarded-Proto $scheme;
       proxy_set_header X-Frame-Options SAMEORIGIN;
       proxy_buffers 256 16k;
       proxy_buffer_size 16k;
       client_body_timeout 60;
       send_timeout 300;
       lingering_timeout 5;
       proxy_connect_timeout 90;
       proxy_send_timeout 300;
       proxy_read_timeout 90s;
       proxy_http_version 1.1;
       proxy_pass http://backend;
   }

   location / {
       client_max_body_size 50M;
       proxy_set_header Connection &quot;&quot;;
       proxy_set_header Host $http_host;
       proxy_set_header X-Real-IP $remote_addr;
       proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       proxy_set_header X-Forwarded-Proto $scheme;
       proxy_set_header X-Frame-Options SAMEORIGIN;
       proxy_buffers 256 16k;
       proxy_buffer_size 16k;
       proxy_read_timeout 600s;
       proxy_cache mattermost_cache;
       proxy_cache_revalidate on;
       proxy_cache_min_uses 2;
       proxy_cache_use_stale timeout;
       proxy_cache_lock on;
       proxy_http_version 1.1;
       proxy_pass http://backend;
   }
}

# This block is useful for debugging TLS v1.3. Please feel free to remove this
# and use the `$ssl_early_data` variable exposed by NGINX directly should you
# wish to do so.
map $ssl_early_data $tls1_3_early_data {
  &quot;~.&quot; $ssl_early_data;
  default &quot;&quot;;
}
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Remove the existing default sites-enabled file by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">rm</span> <span class="pre">/etc/nginx/sites-enabled/default</span></code> (Ubuntu) or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">rm</span> <span class="pre">/etc/nginx/conf.d/default</span></code> (RHEL 8)</p></li>
<li><p>Enable the mattermost configuration by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">/etc/nginx/sites-available/mattermost</span> <span class="pre">/etc/nginx/sites-enabled/mattermost</span></code> (Ubuntu) or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">/etc/nginx/conf.d/mattermost</span> <span class="pre">/etc/nginx/conf.d/default.conf</span></code> (RHEL 8)</p></li>
<li><p>Restart NGINX by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">nginx</span></code>.</p></li>
<li><p>Verify that you can see Mattermost through the proxy by running <code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">https://localhost</span></code>.</p></li>
</ol>
<blockquote>
<div><p>If everything is working, you will see the HTML for the Mattermost signup page.</p>
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Restrict access to port 8065.</p></li>
</ol>
<blockquote>
<div><p>By default, the Mattermost server accepts connections on port 8065 from every machine on the network. Use your firewall to deny connections on port 8065 to all machines except the machine that hosts NGINX and the machine that you use to administer the Mattermost server. If you’re installing on Amazon Web Services, you can use Security Groups to restrict access.</p>
</div></blockquote>
<p>Now that NGINX is installed and running, you can configure it to use SSL, which allows you to use HTTPS connections and the HTTP/2 protocol.</p>
</section>
<section id="configure-nginx-with-ssl-and-http-2">
<span id="config-ssl-http2-nginx"></span><h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Configure NGINX with SSL and HTTP/2</a><a class="headerlink" href="#configure-nginx-with-ssl-and-http-2" title="Link to this heading">#</a></h2>
<p>NGINX is configured using a file in the <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available</span></code> directory. You need to create the file and then enable it. When creating the file, you need the IP address of your Mattermost server and the fully qualified domain name (FQDN) of your Mattermost website.</p>
<p>Using SSL gives greater security by ensuring that communications between Mattermost clients and the Mattermost server are encrypted. It also allows you to configure NGINX to use the HTTP/2 protocol.</p>
<p>Although you can configure HTTP/2 without SSL, both Firefox and Chrome browsers support HTTP/2 on secure connections only.</p>
<p>You can use any certificate that you want, but these instructions show you how to download and install certificates from <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a>, a free certificate authority.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If Let’s Encrypt is enabled, forward port 80 through a firewall, with <a class="reference external" href="/configure/configuration-settings.html#forward-port-80-to-443">Forward80To443</a> <code class="docutils literal notranslate"><span class="pre">config.json</span></code> setting set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to complete the Let’s Encrypt certification. See the <a class="reference external" href="https://certbot.eff.org">Let’s Encrypt/Certbot documentation</a> for additional assistance.</p>
</div>
<ol class="arabic simple">
<li><p>Log in to the server that hosts NGINX and open a terminal window.</p></li>
<li><p>Open the your Mattermost <code class="docutils literal notranslate"><span class="pre">nginx.conf</span></code> file as <em>root</em> in a text editor, then update the <code class="docutils literal notranslate"><span class="pre">{ip}</span></code> address in the <code class="docutils literal notranslate"><span class="pre">upstream</span> <span class="pre">backend</span></code> to point towards Mattermost (such as <code class="docutils literal notranslate"><span class="pre">127.0.0.1:8065</span></code>), and update the <code class="docutils literal notranslate"><span class="pre">server_name</span></code> to be your domain for Mattermost.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>On Ubuntu this file is located at <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/</span></code>. If you don’t have this file, run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">touch</span> <span class="pre">/etc/nginx/sites-available/mattermost</span></code>.</p></li>
<li><p>On CentOS/RHEL this file is located at <code class="docutils literal notranslate"><span class="pre">/etc/nginx/conf.d/</span></code>. If you don’t have this file, run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">touch</span> <span class="pre">/etc/nginx/conf.d/mattermost</span></code>.</p></li>
<li><p>Note that the IP address included in the examples in this documentation may not match your network configuration.</p></li>
<li><p>If you’re running NGINX on the same machine as Mattermost, and NGINX resolves <code class="docutils literal notranslate"><span class="pre">localhost</span></code> to more than one IP address (IPv4 or IPv6), we recommend using <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> instead of <code class="docutils literal notranslate"><span class="pre">localhost</span></code>.</p></li>
</ul>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>upstream backend {
    server {ip}:8065;
    keepalive 32;
    }

proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=mattermost_cache:10m max_size=3g inactive=120m use_temp_path=off;

server {
    listen 80 default_server;
    server_name mattermost.example.com;

    location ~ /api/v[0-9]+/(users/)?websocket$ {
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;upgrade&quot;;
        client_max_body_size 50M;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Frame-Options SAMEORIGIN;
        proxy_buffers 256 16k;
        proxy_buffer_size 16k;
        client_body_timeout 60;
        send_timeout 300;
        lingering_timeout 5;
        proxy_connect_timeout 90;
        proxy_send_timeout 300;
        proxy_read_timeout 90s;
        proxy_pass http://backend;
    }

    location / {
        client_max_body_size 50M;
        proxy_set_header Connection &quot;&quot;;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Frame-Options SAMEORIGIN;
        proxy_buffers 256 16k;
        proxy_buffer_size 16k;
        proxy_read_timeout 600s;
        proxy_cache mattermost_cache;
        proxy_cache_revalidate on;
        proxy_cache_min_uses 2;
        proxy_cache_use_stale timeout;
        proxy_cache_lock on;
        proxy_http_version 1.1;
        proxy_pass http://backend;
    }
}
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Remove the existing default sites-enabled file by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">rm</span> <span class="pre">/etc/nginx/sites-enabled/default</span></code> (Ubuntu) or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">rm</span> <span class="pre">/etc/nginx/conf.d/default</span></code> (RHEL 8).</p></li>
<li><p>Enable the Mattermost configuration by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">/etc/nginx/sites-available/mattermost</span> <span class="pre">/etc/nginx/sites-enabled/mattermost</span></code> (Ubuntu) or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">/etc/nginx/conf.d/mattermost</span> <span class="pre">/etc/nginx/conf.d/default.conf</span></code> (RHEL 8).</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">nginx</span> <span class="pre">-t</span></code> to ensure your configuration is done properly. If you get an error, look into the NGINX config and make the needed changes to the file under <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/mattermost</span></code>.</p></li>
<li><p>Restart NGINX by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">start</span> <span class="pre">nginx</span></code>.</p></li>
<li><p>Verify that you can see Mattermost through the proxy by running <code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">http://localhost</span></code>.</p></li>
</ol>
<blockquote>
<div><p>If everything is working, you will see the HTML for the Mattermost signup page. You will see invalid certificate when accessing through the IP or localhost. Use the full FQDN domain to verify if the SSL certificate has pinned properly and is valid.</p>
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Install and update Snap by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">snap</span> <span class="pre">install</span> <span class="pre">core;</span> <span class="pre">sudo</span> <span class="pre">snap</span> <span class="pre">refresh</span> <span class="pre">core</span></code>.</p></li>
<li><p>Install the Certbot package by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">snap</span> <span class="pre">install</span> <span class="pre">--classic</span> <span class="pre">certbot</span></code>.</p></li>
<li><p>Add a symbolic link to ensure Certbot can run by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">/snap/bin/certbot</span> <span class="pre">/usr/bin/certbot</span></code>.</p></li>
<li><p>Run the Let’s Encrypt installer dry-run to ensure your DNS is configured properly by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">certbot</span> <span class="pre">certonly</span> <span class="pre">--dry-run</span></code>.</p></li>
</ol>
<blockquote>
<div><p>This will prompt you to enter your email, accept the TOS, share your email, and select the domain you’re activating certbot for. This will validate that your DNS points to this server properly and you are able to successfully generate a certificate. If this finishes successfully, proceed to step 12.</p>
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Run the Let’s Encrypt installer by running <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">certbot</span></code>. This will run certbot and will automatically edit your NGINX config file for the site(s) selected.</p></li>
<li><p>Ensure your SSL is configured properly by running <code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">https://{your</span> <span class="pre">domain</span> <span class="pre">here}</span></code></p></li>
<li><p>Finally, we suggest editing your config file again to increase your SSL security settings above the default Let’s Encrypt. This is the same file from Step 2 above. Edit it to look like the below:</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>upstream backend {
    server {ip}:8065;
   keepalive 32;
    }

proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=mattermost_cache:10m max_size=3g inactive=120m use_temp_path=off;

server {
    server_name mattermost.example.com;

    location ~ /api/v[0-9]+/(users/)?websocket$ {
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection &quot;upgrade&quot;;
        client_max_body_size 50M;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Frame-Options SAMEORIGIN;
        proxy_buffers 256 16k;
        proxy_buffer_size 16k;
        client_body_timeout 60;
        send_timeout 300;
        lingering_timeout 5;
        proxy_connect_timeout 90;
        proxy_send_timeout 300;
        proxy_read_timeout 90s;
        proxy_http_version 1.1;
        proxy_pass http://backend;
    }

    location / {
        client_max_body_size 50M;
        proxy_set_header Connection &quot;&quot;;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Frame-Options SAMEORIGIN;
        proxy_buffers 256 16k;
        proxy_buffer_size 16k;
        proxy_read_timeout 600s;
        proxy_cache mattermost_cache;
        proxy_cache_revalidate on;
        proxy_cache_min_uses 2;
        proxy_cache_use_stale timeout;
        proxy_cache_lock on;
        proxy_http_version 1.1;
        proxy_pass http://backend;
    }

    listen 443 ssl http2; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/mattermost.example.com/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/mattermost.example.com/privkey.pem; # managed by Certbot
    # include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot

    ssl_session_timeout 1d;

    # Enable TLS versions (TLSv1.3 is required upcoming HTTP/3 QUIC).
    ssl_protocols TLSv1.2 TLSv1.3;

    # Enable TLSv1.3&#39;s 0-RTT. Use $ssl_early_data when reverse proxying to
    # prevent replay attacks.
    #
    # @see: https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_early_data
    ssl_early_data on;

    ssl_ciphers ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES256-SHA;
    ssl_prefer_server_ciphers on;
    ssl_session_cache shared:SSL:50m;
    # HSTS (ngx_http_headers_module is required) (15768000 seconds = six months)
    add_header Strict-Transport-Security max-age=15768000;
    # OCSP Stapling ---
    # fetch OCSP records from URL in ssl_certificate and cache them
    ssl_stapling on;
    ssl_stapling_verify on;
}


server {
    if ($host = mattermost.example.com) {
        return 301 https://$host$request_uri;
    } # managed by Certbot


    listen 80 default_server;
    server_name mattermost.example.com;
    return 404; # managed by Certbot

}
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>Check that your SSL certificate is set up correctly.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Test the SSL certificate by visiting a site such as <a class="reference external" href="https://www.ssllabs.com/ssltest/index.html">https://www.ssllabs.com/ssltest/index.html</a>.</p></li>
<li><p>If there’s an error about the missing chain or certificate path, there is likely an intermediate certificate missing that needs to be included.</p></li>
</ul>
</div></blockquote>
<section id="nginx-configuration-faq">
<h3>NGINX configuration FAQ<a class="headerlink" href="#nginx-configuration-faq" title="Link to this heading">#</a></h3>
<section id="why-are-websocket-connections-returning-a-403-error">
<h4>Why are Websocket connections returning a 403 error?<a class="headerlink" href="#why-are-websocket-connections-returning-a-403-error" title="Link to this heading">#</a></h4>
<p>This is likely due to a failing cross-origin check. A check is applied for WebSocket code to see if the <code class="docutils literal notranslate"><span class="pre">Origin</span></code> header is the same as the host header. If it’s not, a 403 error is returned. Open the file <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/mattermost</span></code> as <em>root</em> in a text editor and make sure that the host header being set in the proxy is dynamic:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>location ~ /api/v[0-9]+/(users/)?websocket$ {
  proxy_pass            http://backend;
  (...)
<span class="hll">  proxy_set_header      Host $host;
</span>  proxy_set_header      X-Forwarded-For $remote_addr;
}
</pre></div>
</div>
<p>Then in <code class="docutils literal notranslate"><span class="pre">config.json</span></code> set the <code class="docutils literal notranslate"><span class="pre">AllowCorsFrom</span></code> setting to match the domain being used by clients. You may need to add variations of the host name that clients may send. Your NGINX log will be helpful in diagnosing the problem.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;EnableUserAccessTokens&quot;: false,
<span class="hll">&quot;AllowCorsFrom&quot;: &quot;domain.com domain.com:443 im.domain.com&quot;,
</span>&quot;SessionLengthWebInDays&quot;: 30,
</pre></div>
</div>
<p>For other troubleshooting tips for WebSocket errors, see <a class="reference external" href="/install/troubleshooting.html#please-check-connection-mattermost-unreachable-if-issue-persists-ask-administrator-to-check-websocket-port">potential solutions here</a>.</p>
</section>
<section id="how-do-i-setup-an-nginx-proxy-with-the-mattermost-docker-installation">
<h4>How do I setup an NGINX proxy with the Mattermost Docker installation?<a class="headerlink" href="#how-do-i-setup-an-nginx-proxy-with-the-mattermost-docker-installation" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Find the name of the Mattermost network and connect it to the NGINX proxy.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>docker network ls
# Grep the name of your Mattermost network like &quot;mymattermost_default&quot;.
docker network connect mymattermost_default nginx-proxy
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Restart the Mattermost Docker containers.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>docker-compose stop app
docker-compose start app
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You don’t need to run the ‘web’ container, since NGINX proxy accepts incoming requests.</p>
</div>
<ol class="arabic simple" start="3">
<li><p>Update your <code class="docutils literal notranslate"><span class="pre">docker-compose.yml</span></code> file to include a new environment variable <code class="docutils literal notranslate"><span class="pre">VIRTUAL_HOST</span></code> and an <code class="docutils literal notranslate"><span class="pre">expose</span></code> directive.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>environment:
  # set same as db credentials and dbname
  - MM_USERNAME=mmuser
  - MM_PASSWORD=mmuser-password
  - MM_DBNAME=mattermost
  - VIRTUAL_HOST=mymattermost.tld
expose:
  - &quot;80&quot;
  - &quot;443&quot;
</pre></div>
</div>
</section>
<section id="why-does-nginx-fail-when-installing-gitlab-ce-with-mattermost-on-azure">
<h4>Why does NGINX fail when installing Gitlab CE with Mattermost on Azure?<a class="headerlink" href="#why-does-nginx-fail-when-installing-gitlab-ce-with-mattermost-on-azure" title="Link to this heading">#</a></h4>
<p>You may need to update the Callback URLs for the Application entry of Mattermost inside your GitLab instance.</p>
<ol class="arabic simple">
<li><p>Log in to your GitLab instance as the admin.</p></li>
<li><p>Go to <strong>Admin &gt; Applications</strong>.</p></li>
<li><p>Select <strong>Edit</strong> on GitLab-Mattermost.</p></li>
<li><p>Update the callback URLs to your new domain/URL.</p></li>
<li><p>Save the changes.</p></li>
<li><p>Update the external URL for GitLab and Mattermost in the <code class="docutils literal notranslate"><span class="pre">/etc/gitlab/gitlab.rb</span></code> configuration file.</p></li>
</ol>
</section>
<section id="why-does-certbot-fail-the-http-01-challenge">
<h4>Why does Certbot fail the http-01 challenge?<a class="headerlink" href="#why-does-certbot-fail-the-http-01-challenge" title="Link to this heading">#</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Requesting a certificate for yourdomain.com
Performing the following challenges:
http-01 challenge for yourdomain.com
Waiting for verification...
Challenge failed for domain yourdomain.com
http-01 challenge for yourdomain.com
Cleaning up challenges
Some challenges have failed.
</pre></div>
</div>
<p>If you see the above errors this is typically because Certbot wasn’t able to access port 80. This can be due to a firewall or other DNS configuration. Make sure that your A/AAAA records are pointing to this server and your <code class="docutils literal notranslate"><span class="pre">server_name</span></code> within the NGINX config doesn’t have a redirect.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’re using Cloudflare you’ll need to disable <code class="docutils literal notranslate"><span class="pre">force</span> <span class="pre">traffic</span> <span class="pre">to</span> <span class="pre">https</span></code>.</p>
</div>
</section>
<section id="certbot-rate-limiting">
<h4>Certbot rate limiting<a class="headerlink" href="#certbot-rate-limiting" title="Link to this heading">#</a></h4>
<p>If you’re running certbot as stand-alone you’ll see this error:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Error: Could not issue a Let&#39;s Encrypt SSL/TLS certificate for example.com.
One of the Let&#39;s Encrypt rate limits has been exceeded for example.com.
See the related Knowledge Base article for details.
Details
Invalid response from https://acme-v02.api.letsencrypt.org/acme/new-order.
Details:
Type: urn:ietf:params:acme:error:rateLimited
Status: 429
Detail: Error creating new order :: too many failed authorizations recently: see https://letsencrypt.org/docs/rate-limits/
</pre></div>
</div>
<p>If you’re running Let’s Encrypt within Mattermost you’ll see this error:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&quot;level&quot;:&quot;error&quot;,&quot;ts&quot;:1609092001.752515,&quot;caller&quot;:&quot;http/server.go:3088&quot;,&quot;msg&quot;:&quot;http: TLS handshake error from ip:port: 429 urn:ietf:params:acme:error:rateLimited: Error creating new order :: too many failed authorizations recently: see https://letsencrypt.org/docs/rate-limits/&quot;,&quot;source&quot;:&quot;httpserver&quot;}
</pre></div>
</div>
<p>This means that you’ve attempted to generate a cert too many times. You can find more information <a class="reference external" href="https://letsencrypt.org/docs/rate-limits">here</a>.</p>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2015-2023 Mattermost
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/tabs.js?v=3030b3cb"></script>
    </body>
</html>