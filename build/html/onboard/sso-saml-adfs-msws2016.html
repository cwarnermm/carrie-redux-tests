<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Configure SAML with Keycloak" href="sso-saml-keycloak.html" /><link rel="prev" title="Configure SAML with Microsoft ADFS for Windows Server 2012" href="sso-saml-adfs.html" />
        <link rel="canonical" href="https://www.ethereal.cc/redux/onboard/sso-saml-adfs-msws2016.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Configure SAML with Microsoft ADFS using Microsoft Windows Server 2016 - Mattermost documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/compass-icons.css?v=b28d7826" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --font-stack: Noto Sans, Helvetica Neue, Arial, sans-serif;
  --font-stack--monospace: Fira Mono, Courier New, Courier, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Mattermost  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Mattermost  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../overview/index.html">About Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of About Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/product.html">Mattermost overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/use-cases.html">Use cases</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Use cases</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/secure-command-and-control.html">Secure command and control</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../about/unified-collaboration.html">Unified communication</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Unified communication</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-for-microsoft-teams.html">Mattermost for Microsoft Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/mattermost-google-calendar-integration.html">Mattermost Google Calendar integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../about/devops-collaboration.html">DevOps collaboration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/incident-response-collaboration.html">Incident response collaboration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/security.html">Security overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/integrations.html">Integrations overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/subscription.html">Subscription overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/self-hosted-subscriptions.html">Self-hosted subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/cloud-subscriptions.html">Cloud subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/editions-and-offerings.html">Mattermost editions and plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/corporate-directory-integration.html">Corporate directory integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/certifications-and-compliance.html">Certifications and compliance overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../about/frequently-asked-questions.html">Frequently asked questions (FAQ)</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Frequently asked questions (FAQ)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-general.html">General Mattermost questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-community.html">Community questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-notifications.html">Notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-video-audio-screensharing.html">Video, audio, and screen sharing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-enterprise.html">Enterprise questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-license.html">License questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-integrations.html">Integrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-use-cases.html">Use cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-product.html">Product questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-high-trust.html">High trust questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-design-decisions.html">Design decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-business.html">Business questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/faq-illicit-use.html">Illicit use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/deployment.html">Deploy Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Deploy Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../install/prepare-mattermost-database.html">Prepare your Mattermost database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-ubuntu.html">Deploy on Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-docker.html">Deploy using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-tar.html">Deploy with a tarball</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/installing-mattermost-omnibus.html">Deploy using Omnibus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-kubernetes.html">Deploy using Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/install-rhel-8.html">Deploy on Red Hat</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/prepare-for-your-mattermost-deployment.html">Prepare for your Mattermost deployment</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Prepare for your Mattermost deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/software-hardware-requirements.html">  Software and hardware requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/mattermost-kubernetes-operator.html">  About the Mattermost Kubernetes Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/admin-onboarding-tasks.html">  Administrator tasks</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../getting-started/architecture-overview.html">  Architecture overview</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of   Architecture overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/implementation-plan.html">  Plan your Mattermost implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/enterprise-roll-out-checklist.html">  Enterprise roll out checklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/welcome-email-to-end-users.html">  Welcome email template</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-guides.html">Deployment guides</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Deployment guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/server-deployment.html">Server deployment</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Server deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deployment-overview.html"> Deployment overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/setting-up-socket-based-mattermost-database.html"> Set up a socket-based Mattermost database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/image-proxy.html"> Image proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/backup-disaster-recovery.html"> Backup and disaster recovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/encryption-options.html"> Encryption options</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../install/transport-encryption.html"> Configure transport encryption</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of  Configure transport encryption</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../install/proxy-to-mattermost-transport-encryption.html">Configuring proxy to Mattermost transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="../install/database-transport-encryption.html">Configuring database transport encryption</a></li>
<li class="toctree-l5"><a class="reference internal" href="../install/cluster-transport-encryption.html">Configuring cluster transport encryption</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/bleve-search.html"> Bleve search</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/desktop-mobile-app-deployment.html">Desktop and mobile app deployment</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Desktop and mobile app deployment</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy/desktop-app.html">Desktop app deployment guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/desktop-msi-installer-and-group-policy-install.html">Desktop MSI installer and group policy installation guides (beta)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/desktop-custom-dictionaries.html">Desktop App custom dictionaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install/desktop-app-managed-resources.html">Desktop managed resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/use-prebuilt-mobile-apps.html">Using Mattermost’s pre-built mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-testing-notifications.html">Testing push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-overview.html">Deploy Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-hpns.html">Mobile push notifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/build-custom-mobile-apps.html">Building and distributing your own custom Mattermost mobile apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/deploy-mobile-apps-using-emm-provider.html">Deploying mobile apps using an EMM provider</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-appconfig.html">AppConfig for EMM solutions with Mattermost Mobile Apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/consider-mobile-vpn-options.html">Mobile VPN options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/mobile-faq.html">Mobile apps FAQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy/client-side-data.html">Client-side data storage FAQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/upgrade-mattermost.html">Upgrade Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Upgrade Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/prepare-to-upgrade-mattermost.html"> Prepare to upgrade Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/upgrading-mattermost-server.html"> Upgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/enterprise-install-upgrade.html"> Enterprise install and upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/installing-license-key.html"> Install a license key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-definitions.html"> Release definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/important-upgrade-notes.html"> Important upgrade notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/release-lifecycle.html"> Release lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/extended-support-release.html"> Extended Support Release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/downgrading-mattermost-server.html"> Downgrade Mattermost Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/version-archive.html"> Version archive</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/scale-mattermost.html">Scale Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Scale Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../scale/scaling-for-enterprise.html"> Scale for Enterprise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/high-availability-cluster.html"> High availability cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/elasticsearch.html"> Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-monitoring.html"> Performance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scale/performance-alerting.html"> Mattermost performance alerting guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/deployment-troubleshooting.html">Deployment troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Deployment troubleshooting</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/troubleshooting.html">  General troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/high-scale-troubleshoot.html">  Troubleshooting your high scale deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-troubleshoot.html">  Troubleshooting mobile applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/trouble-postgres.html">  PostgreSQL installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/trouble_mysql.html">  MySQL installation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/changelogs.html">Changelogs</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Changelogs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/self-managed-changelog.html">  Mattermost self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/legacy-self-hosted-changelog.html">  Mattermost legacy self-hosted</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/cloud-changelog.html">  Mattermost Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/mobile-app-changelog.html">  Mobile apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/desktop-app-changelog.html">  Desktop apps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/deprecated-features.html">  Deprecated features</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/additional-server-installation-guides.html">Additional server installation guides</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Additional server installation guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../install/deploying-team-edition-on-bitnami.html">  Deploy Mattermost on Bitnami</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/setting-up-aws-elastic-beanstalk-docker.html">  AWS Elastic Beanstalk Docker setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install/installing-team-edition-helm-chart.html">  Install Mattermost Team Edition in GitLab Helm Chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/open-source-components.html">  Open source components</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../guides/administration.html">Manage Mattermost</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Manage Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../guides/get-started-with-administration.html">Get started</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Get started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../configure/optimize-your-workspace.html">Optimize your workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuration-settings.html">Mattermost configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/self-hosted-account-settings.html">Self-hosted edition and license</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/cloud-billing-account-settings.html">Cloud subscription, billing, and account</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/reporting-configuration-settings.html">Reporting configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/user-management-configuration-settings.html">User management configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/environment-configuration-settings.html">Environment configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/site-configuration-settings.html">Site configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/authentication-configuration-settings.html">Authentication configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/plugins-configuration-settings.html">Plugins configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/integrations-configuration-settings.html">Integrations configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/compliance-configuration-settings.html">Compliance configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/experimental-configuration-settings.html">Experimental configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/deprecated-configuration-settings.html">Deprecated configuration settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/environment-variables.html">Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-provisioning-workflows.html">Provisioning workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="multi-factor-authentication.html">Multi-factor authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad-ldap.html">Active Directory/LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="sso-gitlab.html">GitLab SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="sso-openidconnect.html">OpenID SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="sso-google.html">Google SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="sso-office.html">Office 365 SSO</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced-permissions.html">Advanced permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-admin-roles.html">System admin roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/team-channel-members.html">Manage team and channel members</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/custom-branding-tools.html">Custom branding tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/electronic-discovery.html">eDiscovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-monitoring.html">Compliance monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/compliance-export.html">Compliance export</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/legal-hold.html">Legal hold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/data-retention-policy.html">Data retention tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/custom-terms-of-service.html">Custom terms of service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrade/notify-admin.html">Notify Admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad-ldap-groups-synchronization.html">AD/LDAP groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="managing-team-channel-membership-using-ad-ldap-sync-groups.html">Use AD/LDAP synchronized groups to manage team or private channel membership</a></li>
<li class="toctree-l3"><a class="reference internal" href="guest-accounts.html">Guest accounts</a></li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="sso-saml.html">SAML Single Sign-On</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of SAML Single Sign-On</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="sso-saml-okta.html">Okta SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="sso-saml-onelogin.html">OneLogin SAML Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="sso-saml-adfs.html">Microsoft ADFS SAML Configuration for Windows Server 2012</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">Microsoft ADFS SAML Configuration for Windows Server 2016</a></li>
<li class="toctree-l4"><a class="reference internal" href="sso-saml-keycloak.html">Keycloak SAML Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sso-saml-technical.html">SAML Single-Sign-On: technical documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="shared-channels.html">Shared channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/statistics.html">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/in-product-notices.html">In-product notices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/user-satisfaction-surveys.html">User satisfaction surveys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/health-checks.html">Health check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/announcement-banner.html">Announcement banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/bulk-export-tool.html">Bulk export tool</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/cloud-workspace-management.html">Cloud workspace management</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Cloud workspace management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-billing.html">Mattermost Cloud billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/workspace-usage.html">Workspace usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-export.html">Workspace migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/cloud-data-residency.html">Cloud data residency</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/self-hosted-administration.html">Self-hosted administration</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Self-hosted administration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage/self-hosted-billing.html">Mattermost self-hosted billing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuation-in-a-database.html">Store configuration in the database</a></li>
<li class="toctree-l3"><a class="reference internal" href="bulk-loading-data.html">Bulk loading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/smtp-email.html">SMTP email setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/email-templates.html">Email templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/calls-deployment.html">Calls deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/configuring-cloudfront-to-host-mattermost-static-assets.html">Configure CloudFront to host static assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/using-outbound-proxy.html">Use an outbound proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="migrating-to-mattermost.html">Migration guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deploy/postgres-migration.html">Migration from MySQL to PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/enabling-chinese-japanese-korean-search.html">Chinese, Japanese, and Korean search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configure/customizing-mattermost.html">Customize Mattermost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/audit-log.html">Audit logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comply/embedded-json-audit-log-schema.html">JSON audit log schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="ssl-client-certificate.html">SSL client certificate setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="certificate-based-authentication.html">Certificate-based authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/telemetry.html">Manage telemetry</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/other-administration-resources.html">Other resources</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of Other resources</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="convert-oauth20-service-providers-to-openidconnect.html">Convert OAuth 2.0 providers to OpenID Connect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/generating-support-packet.html">Generate a support packet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/mmctl-command-line-tool.html">mmctl command line tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration-announcement-email.html">Migration announcement email template</a></li>
<li class="toctree-l3"><a class="reference internal" href="advanced-permissions-backend-infrastructure.html">Advanced permissions infrastructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage/command-line-tools.html">Command line tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/use-mattermost.html">Use Mattermost</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Use Mattermost</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/collaborate.html">Connect and collaborate</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Connect and collaborate</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/access-your-workspace.html">Access your Mattermost workspace</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Access your Mattermost workspace</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-desktop-app.html">Install the desktop app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-ios-app.html">Install the iOS mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/install-android-app.html">Install the Android mobile app</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/log-out.html">Log out of Mattermost</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/organize-using-teams.html">Organize using teams</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Organize using teams</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-settings.html">Team settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/team-keyboard-shortcuts.html">Team keyboard shortcuts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/organize-using-custom-user-groups.html">Organize using custom user groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/invite-people.html">Invite people</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collaborate/learn-about-roles.html">Learn about Mattermost roles</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/collaborate-within-channels.html">Collaborate within channels</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Collaborate within channels</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-types.html">Channel types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-naming-conventions.html">Channel naming conventions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/channel-header-purpose.html">Communicate a channel's focus and scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/create-channels.html">Create channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/rename-channels.html">Rename channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/convert-public-channels.html">Convert public channels to private</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/join-leave-channels.html">Join and leave channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/make-calls.html">Make calls in Mattermost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/manage-channel-members.html">Manage channel members</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/browse-channels.html">Browse channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/navigate-between-channels.html">Navigate between channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/favorite-channels.html">Mark channels as favorites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-channels-unread.html">Mark channels as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/archive-unarchive-channels.html">Archive and unarchive channels</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/communicate-with-messages.html">Communicate with messages and threads</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Communicate with messages and threads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/send-messages.html">Send messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/reply-to-messages.html">Reply to messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/react-with-emojis-gifs.html">React with emojis and GIFs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/organize-conversations.html">Organize conversations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mark-messages-unread.html">Mark messages as unread</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/forward-messages.html">Forward messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-links.html">Share links to channels and messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/save-pin-messages.html">Save and pin messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-reminders.html">Set message reminders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/search-for-messages.html">Search for messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/format-messages.html">Format messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/message-priority.html">Set message priority</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/mention-people.html">Mention people</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/share-files-in-messages.html">Share files in messages</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/keyboard-shortcuts.html">Keyboard shortcuts</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of Keyboard shortcuts</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/keyboard-accessibility.html">Keyboard accessibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/run-slash-commands.html">Run slash commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/built-in-slash-commands.html">Built-in-slash-commands</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../collaborate/extend-mattermost-with-integrations.html">Extend Mattermost with integrations</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of Extend Mattermost with integrations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/collaborate-using-mattermost-for-microsoft-teams.html">Collaborate using Mattermost for MS Teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../collaborate/use-mattermost-google-calendar-plugin.html">Use the Mattermost Google Calendar plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/repeatable-processes.html">Build repeatable processes</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of Build repeatable processes</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/learn-about-playbooks.html">Learn about playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-playbooks.html">Work with playbooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-runs.html">Work with runs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/work-with-tasks.html">Work with tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/notifications-and-updates.html">Work with notifications and updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/metrics-and-goals.html">Work with metrics and goals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/share-and-collaborate.html">Share and collaborate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../repeatable-processes/interact-with-playbooks.html">Interact with playbooks</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/preferences.html">Customize your preferences</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Customize your preferences</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-notifications.html">Manage your notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-theme.html">Customize your Mattermost theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-your-channel-sidebar.html">Customize your channel sidebar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-profile.html">Manage your profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-security-preferences.html">Manage your security preferences</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/set-your-status-availability.html">Set your status &amp; availability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-display-options.html">Manage your display options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-your-sidebar-options.html">Manage your sidebar options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/manage-advanced-options.html">Manage advanced options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/customize-desktop-app-experience.html">Customize your desktop app experience</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preferences/connect-multiple-workspaces.html">Connect to multiple workspaces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://developers.mattermost.com/">Develop with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/get-help.html">Get help with Mattermost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/community-chat.html">Join our community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://handbook.mattermost.com/">Learn how we work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/contribute-to-documentation.html">Contribute to this documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="configure-saml-with-microsoft-adfs-using-microsoft-windows-server-2016">
<h1>Configure SAML with Microsoft ADFS using Microsoft Windows Server 2016<a class="headerlink" href="#configure-saml-with-microsoft-adfs-using-microsoft-windows-server-2016" title="Link to this heading">#</a></h1>
<p>This document provides steps to configure SAML 2.0 with Microsoft ADFS for Mattermost and Microsoft Windows Server 2016.</p>
<nav class="contents local" id="on-this-page">
<p class="topic-title">On this page</p>
<ul class="simple">
<li><p><a class="reference internal" href="#before-you-begin" id="id1">Before you begin</a></p></li>
<li><p><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#add-a-relying-party-trust" id="id3">Add a relying party trust</a></p></li>
<li><p><a class="reference internal" href="#create-claim-rules" id="id4">Create claim rules</a></p></li>
<li><p><a class="reference internal" href="#export-identity-provider-certificate" id="id5">Export identity provider certificate</a></p></li>
<li><p><a class="reference internal" href="#configure-saml-sign-on-for-mattermost" id="id6">Configure SAML Sign-On for Mattermost</a></p></li>
<li><p><a class="reference internal" href="#frequently-asked-questions" id="id7">Frequently Asked Questions</a></p>
<ul>
<li><p><a class="reference internal" href="#how-to-bind-authentication-to-id-attribute-instead-of-email" id="id8">How to bind authentication to <code class="docutils literal notranslate"><span class="pre">Id</span></code> attribute instead of email</a></p></li>
<li><p><a class="reference internal" href="#can-saml-via-microsoft-adfs-be-configured-with-integrated-windows-authentication-iwa" id="id9">Can SAML via Microsoft ADFS be configured with Integrated Windows Authentication (IWA)?</a></p></li>
<li><p><a class="reference internal" href="#can-i-provision-and-deprovision-users-who-log-in-via-saml" id="id10">Can I provision and deprovision users who log in via SAML?</a></p></li>
<li><p><a class="reference internal" href="#how-do-i-migrate-users-from-one-authentication-method-e-g-email-to-saml" id="id11">How do I migrate users from one authentication method (e.g. email) to SAML?</a></p></li>
<li><p><a class="reference internal" href="#how-is-saml-different-from-oauth-2-0-and-openid-connect" id="id12">How is SAML different from OAuth 2.0 and OpenId Connect?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configure-saml-synchronization-with-ad-ldap" id="id13">Configure SAML synchronization with AD/LDAP</a></p>
<ul>
<li><p><a class="reference internal" href="#override-saml-data-with-ad-ldap-data" id="id14">Override SAML data with AD/LDAP data</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="before-you-begin">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Before you begin</a><a class="headerlink" href="#before-you-begin" title="Link to this heading">#</a></h2>
<p>Before you begin, you need generate encryption certificates for encrypting the SAML connection.</p>
<ol class="arabic simple">
<li><p>You can use the <a class="reference external" href="https://github.com/mattermost/docs/tree/master/source/scripts/generate-certificates">Bash script</a> from the <code class="docutils literal notranslate"><span class="pre">mattermost/docs</span></code> repository on GitHub, or any other suitable method.</p></li>
<li><p>Save the two files that are generated. They are the private key and the public key. In the System Console, they are referred to as the <strong>Service Provider Private Key</strong> and the <strong>Service Provider Public Certificate</strong> respectively.</p></li>
</ol>
</section>
<section id="prerequisites">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>An Active Directory instance where all users have specified email and username attributes. For Mattermost servers running 3.3 and earlier, users must also have their first name and last name attributes specified.</p></li>
<li><p>A running Microsoft Server. The screenshots used in this guide are from Microsoft Server 2012R2, but similar steps should work for other versions.</p></li>
<li><p>An SSL certificate to sign your ADFS login page.</p></li>
<li><p>ADFS installed on your Microsoft Server. You can find a detailed guide for deploying and configuring ADFS in <a class="reference external" href="https://msdn.microsoft.com/en-us/library/gg188612.aspx">this article</a>.</p></li>
</ul>
<p>On your ADFS installation, open the ADFS console. Select <strong>Service</strong>, then select <strong>Endpoints</strong>. In the <strong>Type</strong> column, search for <code class="docutils literal notranslate"><span class="pre">SAML</span> <span class="pre">2.0/WS-Federation</span></code> and note down the value of <strong>URL Path</strong> column. This is also known as the <strong>SAML SSO URL Endpoint</strong> in this guide. If you chose the defaults for the installation, this will be <code class="docutils literal notranslate"><span class="pre">/adfs/ls</span></code>.</p>
</section>
<section id="add-a-relying-party-trust">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Add a relying party trust</a><a class="headerlink" href="#add-a-relying-party-trust" title="Link to this heading">#</a></h2>
<ol class="arabic">
<li><p>Open the ADFS management snap-in, then select <strong>AD FS &gt; Relying Party Trusts &gt; Add Relying Party Trust</strong> from the right sidebar. You can also right-click <strong>Relying Party Trusts</strong>, then select <strong>Add Relying Party Trust</strong> from the context menu.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_000.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_000.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Welcome</strong> screen of the configuration wizard, select <strong>Claims aware</strong>, then select <strong>Start</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_001.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_001.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Select Data Source</strong> screen, select <strong>Enter data about the relying party manually</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_002.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_002.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Specify Display Name</strong> screen, enter a <strong>Display Name</strong> (e.g., <code class="docutils literal notranslate"><span class="pre">Mattermost</span></code>). You can add optional notes.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_003.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_003.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Configure Certificate</strong> screen, leave the certificate settings at their default values.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_004.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_004.png" />
</div></blockquote>
</li>
</ol>
<p>If you would like to set up encryption for your SAML connection, select <strong>Browse</strong>, then upload your Service Provider Public Certificate.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_005.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_005.png" />
</div></blockquote>
<ol class="arabic" start="6">
<li><p>On the <strong>Configure URL</strong> screen, select <strong>Enable Support for the SAML 2.0 WebSSO protocol</strong>, then enter the <strong>SAML 2.0 SSO service URL</strong> in the following format:<code class="docutils literal notranslate"><span class="pre">https://&lt;your-mattermost-url&gt;/login/sso/saml</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;your-mattermost-url&gt;</span></code> should typically match the <a class="reference external" href="/configure/configuration-settings.html#site-url">Mattermost Site URL</a>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_006.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_006.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Configure Identifiers</strong> screen, enter the <strong>Relying party trust identifier</strong>. This identifies the claims being requested. The <strong>SAML 2.0 SSO service URL</strong> format should be <code class="docutils literal notranslate"><span class="pre">https://&lt;your-mattermost-url&gt;/login/sso/saml</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;your-mattermost-url&gt;</span></code> matches your <a class="reference external" href="/configure/configuration-settings.html#site-url">Mattermost Site URL</a>. Then choose <strong>Next</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_007.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_007.png" />
<img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_008.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_008.png" />
</div></blockquote>
</li>
</ol>
<p>This string must match the <strong>Service Provider Identifier</strong> string. For more information about the Relying party trust identifier and how prefix matching is applied see <a class="reference external" href="https://docs.microsoft.com/en-us/windows-server/identity/ad-fs/technical-reference/how-uris-are-used-in-ad-fs">this documentation</a>.</p>
<p>Add your <strong>SAML 2.0 SSO service URL</strong> using this same process.</p>
<ol class="arabic" start="8">
<li><p>On the <strong>Choose Access Control Policy</strong> screen, select the access control policy suitable for your environment. This guide assumes the default values <strong>Permit everyone</strong> and an unchecked box.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_009.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_009.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Ready to Add Trust</strong> screen, review your settings.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_010.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_010.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Finish</strong> screen, select <strong>Configure claims issuance policy for this application</strong>, then select <strong>Close</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_011.png" src="../_images/SSO-SAML-ADFS_add-new-relying-party-trust_011.png" />
</div></blockquote>
</li>
</ol>
</section>
<section id="create-claim-rules">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Create claim rules</a><a class="headerlink" href="#create-claim-rules" title="Link to this heading">#</a></h2>
<ol class="arabic">
<li><p>In the <strong>Issuance Transform Rules</strong> tab of the <strong>Claim Rules</strong> editor, select <strong>Add Rule…</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_create-claim-rules_001.png" src="../_images/SSO-SAML-ADFS_create-claim-rules_001.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Choose Rule Type</strong> screen, select <strong>Send LDAP Attributes as Claims</strong> from the drop-down menu, then select <strong>Next</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_create-claim-rules_002.png" src="../_images/SSO-SAML-ADFS_create-claim-rules_002.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Configure Claim Rule</strong> screen, enter a <strong>Claim Rule Name</strong> of your choice, select <strong>Active Directory</strong> as the <strong>Attribute Store</strong>, then add the following mapping:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>From the <strong>LDAP Attribute column</strong>, select <code class="docutils literal notranslate"><span class="pre">E-Mail-Addresses</span></code>. From the <strong>Outgoing Claim Type</strong>, type <code class="docutils literal notranslate"><span class="pre">Email</span></code>.</p></li>
<li><p>From the <strong>LDAP Attribute column</strong>, select <code class="docutils literal notranslate"><span class="pre">E-Mail-Addresses</span></code>. From the <strong>Outgoing Claim Type</strong>, type <code class="docutils literal notranslate"><span class="pre">Name</span> <span class="pre">ID</span></code>.</p></li>
<li><p>From the <strong>LDAP Attribute column</strong>, select <code class="docutils literal notranslate"><span class="pre">Given-Name</span></code>. From the <strong>Outgoing Claim Type</strong>, type <code class="docutils literal notranslate"><span class="pre">FirstName</span></code>.</p></li>
<li><p>From the <strong>LDAP Attribute column</strong>, select <code class="docutils literal notranslate"><span class="pre">Surname</span></code>. From the <strong>Outgoing Claim Type</strong>, type <code class="docutils literal notranslate"><span class="pre">LastName</span></code>.</p></li>
<li><p>From the <strong>LDAP Attribute column</strong>, select <code class="docutils literal notranslate"><span class="pre">SAM-Account-Name</span></code>. From the <strong>Outgoing Claim Type</strong>, type <code class="docutils literal notranslate"><span class="pre">Username</span></code>.</p></li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">FirstName</span></code> and <code class="docutils literal notranslate"><span class="pre">LastName</span></code> attributes are optional.</p>
<p>Select <strong>Finish</strong> to add the rule.</p>
<p>The entries in the <strong>Outgoing Claim Type</strong> column can be modified. The entries may contain dashes but no spaces. They are used to map the corresponding fields in Mattermost.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_create-claim-rules_003.png" src="../_images/SSO-SAML-ADFS_create-claim-rules_003.png" />
</div></blockquote>
<ol class="arabic" start="4">
<li><p>Select <strong>Add Rule</strong> to create another new rule.</p></li>
<li><p>On the <strong>Choose Rule Type</strong> screen, select <strong>Transform an Incoming Claim</strong> from the drop-down menu, then select <strong>Next</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_create-claim-rules_004.png" src="../_images/SSO-SAML-ADFS_create-claim-rules_004.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Configure Claim Rule</strong> screen, enter a <strong>Claim Rule Name</strong> of your choice, then:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Select <strong>Name ID</strong> for the <strong>Incoming claim type</strong></p></li>
<li><p>Select <strong>Unspecified</strong> for the <strong>Incoming name ID format</strong></p></li>
<li><p>Select <strong>E-Mail Address</strong> for the <strong>Outgoing claim type</strong></p></li>
</ul>
</div></blockquote>
<p>Select <strong>Pass through all claim values</strong>, then select <strong>Finish</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_create-claim-rules_005.png" src="../_images/SSO-SAML-ADFS_create-claim-rules_005.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Select <strong>Finish</strong> to create the claim rule, then select <strong>OK</strong> to finish creating rules.</p></li>
<li><p>Open Windows PowerShell as an administrator, then run the following command:</p></li>
</ol>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">Set-ADFSRelyingPartyTrust</span> <span class="pre">-TargetName</span> <span class="pre">&lt;display-name&gt;</span> <span class="pre">-SamlResponseSignature</span> <span class="pre">&quot;MessageAndAssertion&quot;</span></code></p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;display-name&gt;``is</span> <span class="pre">the</span> <span class="pre">name</span> <span class="pre">you</span> <span class="pre">specified</span> <span class="pre">in</span> <span class="pre">step</span> <span class="pre">4</span> <span class="pre">when</span> <span class="pre">you</span> <span class="pre">added</span> <span class="pre">a</span> <span class="pre">relying</span> <span class="pre">party</span> <span class="pre">trust.</span> <span class="pre">In</span> <span class="pre">this</span> <span class="pre">example,</span> <span class="pre">``&lt;display-name&gt;</span></code> would be <code class="docutils literal notranslate"><span class="pre">mattermost</span></code>.</p>
<p>This action adds the signature to SAML messages, making verification successful.</p>
</section>
<section id="export-identity-provider-certificate">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Export identity provider certificate</a><a class="headerlink" href="#export-identity-provider-certificate" title="Link to this heading">#</a></h2>
<p>Next, export the identity provider certificate, which will be later uploaded to Mattermost to finish SAML configuration.</p>
<ol class="arabic">
<li><p>Open the ADFS management snap-in, select <strong>AD FS &gt; Service &gt; Certificates</strong>, then double-click on the certificate under <strong>Token-signing</strong>. You can also right-click the field, then select <strong>View Certificate</strong> in the context menu.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_export-id-provider-cert_001.png" src="../_images/SSO-SAML-ADFS_export-id-provider-cert_001.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Certificate</strong> screen, open the <strong>Details</strong> tab, select <strong>Copy to File</strong>, then select <strong>OK</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_export-id-provider-cert_003.png" src="../_images/SSO-SAML-ADFS_export-id-provider-cert_003.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Certificate Export Wizard</strong> screen, select <strong>Next</strong>.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_export-id-provider-cert_004.png" src="../_images/SSO-SAML-ADFS_export-id-provider-cert_004.png" />
</div></blockquote>
</li>
<li><p>Select <strong>Base-64 encoded X.509 (.CER)</strong>, then select <strong>Next</strong> again.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_export-id-provider-cert_005.png" src="../_images/SSO-SAML-ADFS_export-id-provider-cert_005.png" />
</div></blockquote>
</li>
<li><p>On the <strong>Certificate Export Wizard</strong> screen, select <strong>Browse</strong> to specify the location where you want the Identity Provider Certificate to be exported, then specify the file name.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_export-id-provider-cert_006.png" src="../_images/SSO-SAML-ADFS_export-id-provider-cert_006.png" />
</div></blockquote>
</li>
<li><p>Select <strong>Save</strong>. On the <strong>Certificate Export Wizard</strong> screen, verify the file path is correct, then select <strong>Next</strong>.</p></li>
<li><p>In the <strong>Completing the Certificate Export Wizard</strong>, select <strong>Finish</strong>, then select <strong>OK</strong> to confirm the export was successful.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_export-id-provider-cert_007.png" src="../_images/SSO-SAML-ADFS_export-id-provider-cert_007.png" />
</div></blockquote>
</li>
</ol>
</section>
<section id="configure-saml-sign-on-for-mattermost">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Configure SAML Sign-On for Mattermost</a><a class="headerlink" href="#configure-saml-sign-on-for-mattermost" title="Link to this heading">#</a></h2>
<p>Create a metadata URL by appending “FederationMetadata/2007-06/FederationMetadata.xml” to the root URL of the ADFS server, for example: <code class="docutils literal notranslate"><span class="pre">https://&lt;adfs.domain.com&gt;/federationmetadata/2007-06/FederationMetadata.xml&gt;</span></code>.</p>
<p>Next, start the Mattermost server, then log in to Mattermost as a System Administrator. Go to <strong>System Console &gt; Authentication &gt; SAML</strong>, paste the metadata URL in the <strong>Identity Provider Metadata URL</strong> field, then select <strong>Get SAML Metadata from IdP</strong>.</p>
<p>This populates the <strong>SAML SSO URL</strong> and the <strong>Identity Provider Issuer URL</strong> fields automatically. The Identity Provider Public Certificate is also downloaded from the server and set locally.</p>
<dl>
<dt>The following fields can be selected:</dt><dd><ul class="simple">
<li><p>Set <strong>Enable Login With SAML 2.0</strong> to <strong>true</strong>.</p></li>
<li><p>Set <strong>Enable Synchronizing SAML Accounts With AD/LDAP</strong> to suit your environment.</p></li>
<li><p>Set <strong>Override SAML bind data with AD/LDAP information</strong> to suit your environment.</p></li>
</ul>
</dd>
<dt>If you don’t plan to use a metadata URL, you can manually enter the following fields:</dt><dd><ul>
<li><p>For <strong>SAML SSO URL</strong> use the <code class="docutils literal notranslate"><span class="pre">SAML</span> <span class="pre">2.0/W-Federation</span> <span class="pre">URL</span> <span class="pre">ADFS</span> <span class="pre">Endpoint</span></code> you copied at the beginning of the process.</p></li>
<li><p>For <strong>Identity Provider Issuer URL</strong> use the <code class="docutils literal notranslate"><span class="pre">Relying</span> <span class="pre">party</span> <span class="pre">trust</span> <span class="pre">identifier</span></code> from ADFS.</p></li>
<li><p>For <strong>Identity Provider Public Certificate</strong> use  the``X.509 Public Certificate``.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_configure-saml_001.png" src="../_images/SSO-SAML-ADFS_configure-saml_001.png" />
</div></blockquote>
</li>
</ul>
</dd>
</dl>
<ol class="arabic simple" start="2">
<li><p>Configure Mattermost to verify the signature.</p></li>
</ol>
<blockquote>
<div><ul>
<li><p>Set <strong>Verify Signature</strong> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>For <strong>Service Provider Login URL</strong> use the <code class="docutils literal notranslate"><span class="pre">SAML</span> <span class="pre">2.0</span> <span class="pre">SSO</span> <span class="pre">service</span> <span class="pre">URL</span></code> you specified in ADFS.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_configure-saml_002.png" src="../_images/SSO-SAML-ADFS_configure-saml_002.png" />
</div></blockquote>
</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Enable encryption.</p></li>
</ol>
<blockquote>
<div><ul>
<li><p>Set <strong>Enable Encryption</strong> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>For <strong>Service Provider Private Key</strong> use the Service Provider Private Key generated at the start of this process.</p></li>
<li><p>For <strong>Service Provider Public Certificate</strong> use the Service Provider Public Certificate you generated at the start of this process.</p></li>
<li><p>Set <strong>Sign Request</strong> to suit your environment.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_configure-saml_003.png" src="../_images/SSO-SAML-ADFS_configure-saml_003.png" />
</div></blockquote>
</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Set attributes for the SAML Assertions, which will be used to update user information in Mattermost. Attributes for email and username are required and should match the values you entered in ADFS earlier. See <a class="reference internal" href="../configure/authentication-configuration-settings.html#saml-enterprise"><span class="std std-ref">documentation on SAML configuration settings</span></a> for more detail.</p></li>
</ol>
<p>For Mattermost servers running 3.3 and earlier, the first name and last name attributes are also required fields.</p>
<blockquote>
<div><img alt="../_images/SSO-SAML-ADFS_configure-saml_004.png" src="../_images/SSO-SAML-ADFS_configure-saml_004.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Select <strong>Save</strong>.</p></li>
<li><p>(Optional) If you configured <code class="docutils literal notranslate"><span class="pre">First</span> <span class="pre">Name</span></code> Attribute and the <code class="docutils literal notranslate"><span class="pre">Last</span> <span class="pre">Name</span></code> Attribute, go to <strong>System Console &gt; Site Configuration &gt; Users and Teams</strong>, then set <strong>Teammate Name Display</strong> to <strong>Show first and last name</strong>. This is recommended for a better user experience.</p></li>
</ol>
<p>You’re done! If you’d like to confirm SAML SSO is successfully enabled, switch your System Administrator account from email to SAML-based authentication from your profile picture via <strong>Profile &gt; Security &gt; Sign-in Method &gt; Switch to SAML SSO</strong>, then log in with your SAML credentials to complete the switch.</p>
<p>We also recommend that you post an announcement about how the migration will work to your users.</p>
<p>You may also configure SAML for ADFS by editing the <code class="docutils literal notranslate"><span class="pre">config.json</span></code> file to enable SAML based on <a class="reference internal" href="../configure/authentication-configuration-settings.html#saml-enterprise"><span class="std std-ref">SAML configuration settings</span></a>. You must restart the Mattermost server for the changes to take effect.</p>
</section>
<section id="frequently-asked-questions">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Frequently Asked Questions</a><a class="headerlink" href="#frequently-asked-questions" title="Link to this heading">#</a></h2>
<section id="how-to-bind-authentication-to-id-attribute-instead-of-email">
<h3><a class="toc-backref" href="#on-this-page" role="doc-backlink">How to bind authentication to <code class="docutils literal notranslate"><span class="pre">Id</span></code> attribute instead of email</a><a class="headerlink" href="#how-to-bind-authentication-to-id-attribute-instead-of-email" title="Link to this heading">#</a></h3>
<p>Alternatively, you can use an <code class="docutils literal notranslate"><span class="pre">Id</span></code> attribute instead of email to bind the user.  We recommend choosing an ID that is unique and will not change over time.</p>
<p>Configuring with an <code class="docutils literal notranslate"><span class="pre">Id</span></code> attribute allows you to reuse an email address for a new user without the old user’s information being exposed. For instance, if a user with an email address <a class="reference external" href="mailto:joe&#46;smith&#37;&#52;&#48;mattermost&#46;com">joe<span>&#46;</span>smith<span>&#64;</span>mattermost<span>&#46;</span>com</a> was once an employee, a new employee named Joe Smith can use the same email. This configuration is also useful when a user’s name changes and their email needs to be updated.</p>
<p>This process was designed with backwards compatibility to email binding. Here is the process applied to new account creations and to accounts logging in after the configuration:</p>
<ul class="simple">
<li><p>A user authenticated with SAML is bound to the SAML service user using the Id Attribute (as long as it has been configured) or bound by email using the email received from SAML.</p></li>
<li><p>When the user tries to login and the SAML server responds with a valid authentication, then the server uses the “Id” field of the SAML authentication to search the user.</p></li>
<li><p>If a user bound to that ID already exists, it logs in as that user.</p></li>
<li><p>If a user bound to that ID does not exist, it will search base on the email.</p></li>
<li><p>If a user bound to the email exists, it logs in with email and updates the autentication data to the ID, instead of the email.</p></li>
<li><p>If a user bound to the ID or email does not exist, it will create a new Mattermost account bound to the SAML account by ID and will allow the user to log in.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Existing accounts won’t update until they log in to the server.</p>
</div>
</section>
<section id="can-saml-via-microsoft-adfs-be-configured-with-integrated-windows-authentication-iwa">
<h3><a class="toc-backref" href="#on-this-page" role="doc-backlink">Can SAML via Microsoft ADFS be configured with Integrated Windows Authentication (IWA)?</a><a class="headerlink" href="#can-saml-via-microsoft-adfs-be-configured-with-integrated-windows-authentication-iwa" title="Link to this heading">#</a></h3>
<p>Yes. IWA is supported on the browser, with support added to iOS and Android mobile apps in Q2/2019 (mobile apps v1.18 and later).</p>
<p>However, IWA is not supported on the Mattermost Desktop Apps due to a limitation in Electron. As a workaround you may create a browser desktop shortcut for quick access to Mattermost, just like a Desktop App.</p>
</section>
<section id="can-i-provision-and-deprovision-users-who-log-in-via-saml">
<h3><a class="toc-backref" href="#on-this-page" role="doc-backlink">Can I provision and deprovision users who log in via SAML?</a><a class="headerlink" href="#can-i-provision-and-deprovision-users-who-log-in-via-saml" title="Link to this heading">#</a></h3>
<p>Yes, but this relies on AD/LDAP to do so. Currently, we do not support SCIM. See <a class="reference external" href="/onboard/ad-ldap.html#how-do-i-deactivate-users">“How do I deactivate users?”</a> for more information.</p>
</section>
<section id="how-do-i-migrate-users-from-one-authentication-method-e-g-email-to-saml">
<h3><a class="toc-backref" href="#on-this-page" role="doc-backlink">How do I migrate users from one authentication method (e.g. email) to SAML?</a><a class="headerlink" href="#how-do-i-migrate-users-from-one-authentication-method-e-g-email-to-saml" title="Link to this heading">#</a></h3>
<p>See the <a class="reference external" href="/manage/mmctl-command-line-tool.html#mmctl-user-migrate-auth">mmctl user migrate-auth</a> command documentation for details.</p>
</section>
<section id="how-is-saml-different-from-oauth-2-0-and-openid-connect">
<h3><a class="toc-backref" href="#on-this-page" role="doc-backlink">How is SAML different from OAuth 2.0 and OpenId Connect?</a><a class="headerlink" href="#how-is-saml-different-from-oauth-2-0-and-openid-connect" title="Link to this heading">#</a></h3>
<p>OAuth 2.0 was primarily intended for delegated authorization, where an app is authorized to access resources, such as Google contact list. It doesn’t deal with authentication.</p>
<p>OpenID Connect is built on top of OAuth 2.0, which supports authentication and thus direct SSO.</p>
<p>SAML is like OpenID Connect, except typically used in enterprise settings. OpenID Connect is more common in consumer websites and web/mobile apps.</p>
<p>Learn more at <a class="reference external" href="https://hackernoon.com/demystifying-oauth-2-0-and-openid-connect-and-saml-12aa4cf9fdba">https://hackernoon.com/demystifying-oauth-2-0-and-openid-connect-and-saml-12aa4cf9fdba</a>.</p>
</section>
</section>
<section id="configure-saml-synchronization-with-ad-ldap">
<h2><a class="toc-backref" href="#on-this-page" role="doc-backlink">Configure SAML synchronization with AD/LDAP</a><a class="headerlink" href="#configure-saml-synchronization-with-ad-ldap" title="Link to this heading">#</a></h2>
<p>In addition to configuring SAML sign-in, you can optionally configure synchronizing SAML accounts with AD/LDAP. When configured:</p>
<blockquote>
<div><ul class="simple">
<li><p>Mattermost queries AD/LDAP for relevant account information and updates SAML accounts based on changes to attributes (first name, last name, and nickname)</p></li>
<li><p>Accounts disabled in AD/LDAP are made inactive in Mattermost, and their active sessions are revoked once Mattermost synchronizes attributes.</p></li>
</ul>
</div></blockquote>
<p>To configure SAML synchronization with AD/LDAP:</p>
<ol class="arabic simple">
<li><p>Go to <strong>System Console &gt; Authentication &gt; SAML 2.0</strong>, then set <strong>Enable Synchronizing SAML Accounts With AD/LDAP</strong> to <strong>true</strong>.</p></li>
<li><p>Go to  <strong>System Console &gt; Authentication &gt; AD/LDAP</strong>, then set <strong>Enable Synchronization with AD/LDAP</strong> to <strong>true</strong>.</p></li>
<li><p>To ignore guest users when sychronizing, go to <strong>System Console &gt; Authentication &gt; SAML 2.0</strong>, then set <strong>Ignore Guest Users when Synchronizing with AD/LDAP</strong> to <strong>true</strong>.</p></li>
<li><p>Set the rest of the AD/LDAP settings based on <a class="reference external" href="/configure/configuration-settings.html#ad-ldap-settings">configuration settings documentation</a> to connect Mattermost with your AD/LDAP server.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>If you don’t want to enable AD/LDAP sign-in, go to <strong>System Console &gt; Authentication &gt; AD/LDAP</strong>, then set <strong>Enable sign-in with AD/LDAP</strong> to <strong>false</strong>.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>To specify how often Mattermost synchronizes SAML user accounts with AD/LDAP, go to <strong>System Console &gt; Authentication &gt; AD/LDAP</strong>, then set a <strong>Synchronization Interval</strong> in minutes. The default setting is 60 minutes. If you want to synchronize immediately after disabling an account, select <strong>AD/LDAP Synchronize Now</strong>.</p></li>
<li><p>To confirm that Mattermost can successfully connect to your AD/LDAP server, go to <strong>System Console &gt; Authentication &gt; AD/LDAP</strong>, then select <strong>AD/LDAP Test</strong>.</p></li>
</ol>
<p>Once the synchronization with AD/LDAP is enabled, user attributes are synchronized with AD/LDAP based on their email address. If a user with a given email address doesn’t have an AD/LDAP account, they will be deactivated in Mattermost on the next AD/LDAP sync.</p>
<p>To re-activate the account:</p>
<ol class="arabic simple">
<li><p>Add the user to your AD/LDAP server.</p></li>
<li><p>Purge all caches in Mattermost by going to <strong>System Console &gt; Environment &gt; Web Server</strong>, then select <strong>Purge All Caches</strong>.</p></li>
<li><p>Run AD/LDAP synchronization by going to <strong>System Console &gt; Authentication &gt; AD/LDAP</strong>, then select <strong>AD/LDAP Synchronize Now</strong>.</p></li>
<li><p>Purge all caches again in Mattermost by going to <strong>System Console &gt; Environment &gt; Web Server</strong>, then select <strong>Purge All Caches</strong> again. This re-activates the account in Mattermost.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a user is deactivated from AD/LDAP, they will be deactivated in Mattermost on the next sync. They will be shown as “Inactive” in the System Console users list, all of their sessions will expire and they won’t be able to log back in to Mattermost.</p>
<p>If a user is deactivated from SAML, their session won’t expire until they’re deactivated from AD/LDAP. However, they won’t be able to log back in to Mattermost.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>SAML synchronization with AD/LDAP is designed to pull user attributes such as first name and last name from your AD/LDAP, not to control authentication.</p>
<p>In particular, the user filter cannot be used to control who can log in to Mattermost, this should be controlled by your SAML service provider’s group permissions.</p>
</div>
</div></blockquote>
<p>See <a class="reference internal" href="sso-saml-technical.html#sso-saml-technical"><span class="std std-ref">technical description of SAML synchronization with AD/LDAP</span></a> for more details.</p>
<section id="override-saml-data-with-ad-ldap-data">
<h3><a class="toc-backref" href="#on-this-page" role="doc-backlink">Override SAML data with AD/LDAP data</a><a class="headerlink" href="#override-saml-data-with-ad-ldap-data" title="Link to this heading">#</a></h3>
<p>Alternatively, you can choose to override SAML bind data with AD/LDAP information. For more information on binding a user with the SAML ID Attribute, please refer to this <a class="reference external" href="/onboard/sso-saml-okta.html#how-to-bind-authentication-to-id-attribute-instead-of-email">documentation</a>.</p>
<p>This process overrides SAML email address with AD/LDAP email address data or SAML Id Attribute with AD/LDAP Id Attribute if configured. We recommend using this configuration with the SAML ID Attribute to help ensure new users are not created when the email address changes for a user.</p>
<p>To ensure existing user accounts do not get disabled in this process, ensure the SAML IDs match the LDAP IDs by exporting data from both systems and comparing the ID data. Mapping ID Attributes for both AD/LDAP and SAML within Mattermost to fields that hold the same data will ensure the IDs match as well.</p>
<ol class="arabic simple">
<li><p>Set the SAML <code class="docutils literal notranslate"><span class="pre">Id</span> <span class="pre">Attribute</span></code> by going to <strong>System Console &gt; Authentication &gt; SAML 2.0 &gt; Id Attribute</strong>.</p></li>
<li><p>Set <strong>System Console &gt; Authentication &gt; SAML 2.0 &gt; Override SAML bind data with AD/LDAP information</strong> to <strong>true</strong>.</p></li>
<li><p>Set <strong>System Console &gt; Authentication &gt; SAML 2.0 &gt; Enable Synchronizing SAML Accounts With AD/LDAP</strong> to <strong>true</strong>.</p></li>
<li><p>Run AD/LDAP sync by going to <strong>System Console &gt; Authentication &gt; AD/LDAP</strong>, then select <strong>AD/LDAP Synchronize Now</strong>.</p></li>
</ol>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="sso-saml-keycloak.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Configure SAML with Keycloak</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="sso-saml-adfs.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Configure SAML with Microsoft ADFS for Windows Server 2012</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2015-2023 Mattermost
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Configure SAML with Microsoft ADFS using Microsoft Windows Server 2016</a><ul>
<li><a class="reference internal" href="#before-you-begin">Before you begin</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#add-a-relying-party-trust">Add a relying party trust</a></li>
<li><a class="reference internal" href="#create-claim-rules">Create claim rules</a></li>
<li><a class="reference internal" href="#export-identity-provider-certificate">Export identity provider certificate</a></li>
<li><a class="reference internal" href="#configure-saml-sign-on-for-mattermost">Configure SAML Sign-On for Mattermost</a></li>
<li><a class="reference internal" href="#frequently-asked-questions">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#how-to-bind-authentication-to-id-attribute-instead-of-email">How to bind authentication to <code class="docutils literal notranslate"><span class="pre">Id</span></code> attribute instead of email</a></li>
<li><a class="reference internal" href="#can-saml-via-microsoft-adfs-be-configured-with-integrated-windows-authentication-iwa">Can SAML via Microsoft ADFS be configured with Integrated Windows Authentication (IWA)?</a></li>
<li><a class="reference internal" href="#can-i-provision-and-deprovision-users-who-log-in-via-saml">Can I provision and deprovision users who log in via SAML?</a></li>
<li><a class="reference internal" href="#how-do-i-migrate-users-from-one-authentication-method-e-g-email-to-saml">How do I migrate users from one authentication method (e.g. email) to SAML?</a></li>
<li><a class="reference internal" href="#how-is-saml-different-from-oauth-2-0-and-openid-connect">How is SAML different from OAuth 2.0 and OpenId Connect?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-saml-synchronization-with-ad-ldap">Configure SAML synchronization with AD/LDAP</a><ul>
<li><a class="reference internal" href="#override-saml-data-with-ad-ldap-data">Override SAML data with AD/LDAP data</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>